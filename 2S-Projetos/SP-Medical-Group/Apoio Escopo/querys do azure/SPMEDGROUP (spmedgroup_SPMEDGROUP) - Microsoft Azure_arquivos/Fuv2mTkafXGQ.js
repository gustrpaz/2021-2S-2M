define("Fx/Composition/PartReferences",["require","exports"],(function(){"use strict";var n;return (function(n){var t=(function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t})(MsPortalFx.Composition.PartReference);n.PartReference=t})(n||(n={})),n}));
define("FxInternal/Controls/ChartUtil",["require","exports"],(function(n,t){"use strict";function r(n,t,i){var f=t(),r,u;return f?f(i):(r=Q.defer(),u=n.createChildLifetime(),t.subscribeAndRun(u,(function(n){n&&(n(i).then((function(){return r.resolve()})),u.dispose())})),r.promise)}function i(n,t,i){i=i||{};var u=MsPortalFx.initObservable(i.tickMarksCount,0),r=MsPortalFx.initObservable(i.scale,1),f=MsPortalFx.initObservable(i.showTickMarks,!1),e=MsPortalFx.initObservable(i.showGridLines,!1);return t===0&&(r=MsPortalFx.initObservable(i.scale,2),f=MsPortalFx.initObservable(i.showTickMarks,!0)),t===1&&(r=MsPortalFx.initObservable(i.scale,1),e=MsPortalFx.initObservable(i.showGridLines,!0)),{scale:r,reverseDomain:MsPortalFx.initObservable(i.reverseDomain,!1),tickMarksCount:u,ticks:u,showAxis:MsPortalFx.initObservable(i.showAxis,!0),autoScaleUnit:MsPortalFx.initObservable(i.autoScaleUnit,!0),labelPadding:MsPortalFx.initObservable(i.labelPadding,50),rotateLabel:MsPortalFx.initObservable(i.rotateLabel,0),showAxisLine:MsPortalFx.initObservable(i.showAxisLine,!1),showTickMarks:f,showGridLines:e,formatOptions:MsPortalFx.initObservable(i.formatOptions,null),xSliderFormatOptions:MsPortalFx.initObservable(i.xSliderFormatOptions,null),displayLabelFormatter:MsPortalFx.initObservable(i.displayLabelFormatter,""),xSliderCalloutDisplayFormatter:MsPortalFx.initObservable(i.xSliderCalloutDisplayFormatter,""),min:MsPortalFx.initObservable(i.min,null),max:MsPortalFx.initObservable(i.max,null),unit:MsPortalFx.initObservable(i.unit,MsPortalFx.UnitConversion.Unit.None),displaySIUnit:MsPortalFx.initObservable(i.displaySIUnit,!1),customAxisPadding:MsPortalFx.initObservable(i.customAxisPadding,null),hideAxisLabelsOnXSliderHover:MsPortalFx.initObservable(i.hideAxisLabelsOnXSliderHover,!1)}}function u(n,t){t=t||{};var u=MsPortalFx.initObservable(t.showLegend,!1),f=MsPortalFx.initObservable();return{controlType:97,vmKind:"Fx",series:MsPortalFx.initObservableArray(t.series),xAxis:i(n,0,t.xAxis),yAxis:i(n,1,t.yAxis),metricsRules:MsPortalFx.initObservableArray(t.metricsRules),showMetrics:MsPortalFx.initObservable(t.showMetrics,!0),showLegend:u,legendWidth:MsPortalFx.initObservable(t.legendWidth,0),events:MsPortalFx.initValue(t.events,null),loading:MsPortalFx.initObservable(t.loading,!1),noData:MsPortalFx.initObservable(t.noData,!1),noDataMessage:MsPortalFx.initObservable(t.noDataMessage,null),seriesSelections:MsPortalFx.initObservable([]),ariaLabel:MsPortalFx.initObservable(t.ariaLabel),ariaDesc:MsPortalFx.initObservable(t.ariaDesc),legendPosition:ko.computed(n,(function(){return u()===!1?0:4})),chartType:ko.observable(0),seriesSelectionsCallback:f,setSeriesSelections:function(t){return r(n,f,t)}}}function f(n,t){t=t||{};var u=MsPortalFx.initObservable(t.showLegend,!1),f=MsPortalFx.initObservable(t.barChartType,0),e=MsPortalFx.initObservable();return{controlType:97,vmKind:"Fx",series:MsPortalFx.initObservableArray(t.series),xAxis:i(n,0,t.xAxis),yAxis:i(n,1,t.yAxis),metricsRules:MsPortalFx.initObservableArray(t.metricsRules),showMetrics:MsPortalFx.initObservable(t.showMetrics,!0),enableSparseSeries:MsPortalFx.initObservable(t.enableSparseSeries,!0),barPaddingRatio:MsPortalFx.initObservable(t.barPaddingRatio,.3),barChartType:f,xAxisSpan:MsPortalFx.initObservable(t.xAxisSpan,null),showLegend:u,legendWidth:MsPortalFx.initObservable(t.legendWidth,0),events:MsPortalFx.initValue(t.events,null),loading:MsPortalFx.initObservable(t.loading,!1),noData:MsPortalFx.initObservable(t.noData,!1),noDataMessage:MsPortalFx.initObservable(t.noDataMessage,null),seriesSelections:MsPortalFx.initObservable([]),ariaLabel:MsPortalFx.initObservable(t.ariaLabel),ariaDesc:MsPortalFx.initObservable(t.ariaDesc),legendPosition:ko.computed(n,(function(){return u()===!1?0:4})),chartType:ko.computed(n,(function(){return f()===1?4:3})),seriesSelectionsCallback:e,setSeriesSelections:function(t){return r(n,e,t)}}}function e(n,t){t=t||{};var u=MsPortalFx.initObservable(t.showLegend,!1),f=MsPortalFx.initObservable(t.areaChartType,0),e=MsPortalFx.initObservable();return{controlType:97,vmKind:"Fx",series:MsPortalFx.initObservableArray(t.series),xAxis:i(n,0,t.xAxis),yAxis:i(n,1,t.yAxis),metricsRules:MsPortalFx.initObservableArray(t.metricsRules),showMetrics:MsPortalFx.initObservable(t.showMetrics,!0),enableSparseSeries:MsPortalFx.initObservable(t.enableSparseSeries,!0),areaChartType:f,lineState:MsPortalFx.initObservable(t.lineState,0),showLegend:u,legendWidth:MsPortalFx.initObservable(t.legendWidth,0),events:MsPortalFx.initValue(t.events,null),loading:MsPortalFx.initObservable(t.loading,!1),noData:MsPortalFx.initObservable(t.noData,!1),noDataMessage:MsPortalFx.initObservable(t.noDataMessage,null),seriesSelections:MsPortalFx.initObservable([]),ariaLabel:MsPortalFx.initObservable(t.ariaLabel),ariaDesc:MsPortalFx.initObservable(t.ariaDesc),legendPosition:ko.computed(n,(function(){return u()===!1?0:4})),chartType:ko.computed(n,(function(){return f()===1?6:1})),seriesSelectionsCallback:e,setSeriesSelections:function(t){return r(n,e,t)}}}function o(n,t){t=t||{};var u=MsPortalFx.initObservable(t.showLegend,!1),f=MsPortalFx.initObservable();return{controlType:97,vmKind:"Fx",series:MsPortalFx.initObservableArray(t.series),xAxis:i(n,0,t.xAxis),yAxis:i(n,1,t.yAxis),metricsRules:MsPortalFx.initObservableArray(t.metricsRules),showMetrics:MsPortalFx.initObservable(t.showMetrics,!0),showLegend:u,legendWidth:MsPortalFx.initObservable(t.legendWidth,0),events:MsPortalFx.initValue(t.events,null),loading:MsPortalFx.initObservable(t.loading,!1),noData:MsPortalFx.initObservable(t.noData,!1),noDataMessage:MsPortalFx.initObservable(t.noDataMessage,null),seriesSelections:MsPortalFx.initObservable([]),ariaLabel:MsPortalFx.initObservable(t.ariaLabel),ariaDesc:MsPortalFx.initObservable(t.ariaDesc),legendPosition:ko.computed(n,(function(){return u()===!1?0:4})),chartType:ko.observable(2),seriesSelectionsCallback:f,setSeriesSelections:function(t){return r(n,f,t)}}}Object.defineProperty(t,"__esModule",{value:!0});t.createScatterChart=t.createAreaChart=t.createBarChart=t.createLineChart=void 0;t.createLineChart=u;t.createBarChart=f;t.createAreaChart=e;t.createScatterChart=o}));
define("Fx/Controls/BarChart",["require","exports","FxInternal/Controls/ChartUtil"],(function(n,t,i){"use strict";function r(n,t){var r;return ko.ignoreDependencies((function(){r=i.createBarChart(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("FxInternal/Controls/CustomHtml",["require","exports","FxInternal/Controls/Base/Base","FxInternal/Utils/ValidationHelper"],(function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var u=(function(n){function t(t,i,r){r===void 0&&(r=!0);var u=n.call(this,t)||this;return u.controlType=23,u.cssClass=MsPortalFx.initObservable(i.cssClass,""),u.dirty=ko.observable(!1),u.disabled=MsPortalFx.initObservable(i.disabled,!1),u.hideValidationCheck=MsPortalFx.initValue(i.hideValidationCheck,!1),u.htmlTemplate=MsPortalFx.initObservable(i.htmlTemplate),u.infoBalloonContent=MsPortalFx.initObservable(i.infoBalloonContent),u.infoBalloonAriaLabel=MsPortalFx.initObservable(i.infoBalloonAriaLabel),u.infoBalloonLinkContent=MsPortalFx.initObservable(i.infoBalloonLinkContent),u.innerViewModel=i.innerViewModel,u.isolated=MsPortalFx.initValue(i.isolated,!0),u.label=MsPortalFx.initObservable(i.label),u.labelPosition=ko.observable(MsPortalFx.ViewModels.Forms.LabelPosition.Top),u.loading=ko.observable(!1),u.subLabel=MsPortalFx.initObservable(i.subLabel),u.subLabelPosition=ko.observable(MsPortalFx.ViewModels.Forms.SubLabelPosition.Bottom),u.valid=ko.observable(!0),u.validate=ko.observable(0),u.visible=MsPortalFx.initObservable(i.visible,!0),u._msPortalFxClearValidation=ko.observable(),u._msPortalFxLeftLabelWidth=ko.observable(),u._msPortalFxRequired=ko.observable(),u._msPortalFxTriggerValidation=ko.observable(),u._msPortalFxOldControl=r,u}return __extends(t,n),t.prototype.clearValidation=function(){var n=this._msPortalFxClearValidation();return n?Q(n()):Q()},t.prototype.triggerValidation=function(){return r.triggerValidation({vm:this,ltm:this.lifetimeManager,msPortalFxTriggerValidation:this._msPortalFxTriggerValidation})},t})(i.ViewModel);t.ViewModel=u}));
define("Fx/Controls/CustomHtml",["require","exports","FxInternal/Controls/CustomHtml"],(function(n,t,i){"use strict";function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t,!1)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("FxInternal/Controls/Donut",["require","exports","FxInternal/Controls/Base/Base"],(function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t)||this,u;return r.valueInitialized=!1,i=i||{},r.controlType=65,r.disabled=MsPortalFx.initObservable(i.disabled,!1),r.loading=MsPortalFx.initObservable(i.loading,!1),r.gaugeSize=MsPortalFx.initObservable(i.gaugeSize,0),r.groupInfos=MsPortalFx.initObservableArray(i.groupInfos),r.items=MsPortalFx.initObservableArray(i.items),r.itemsDataArray=r.items,r.hoveredIndex=MsPortalFx.initObservable(null),u=i.itemSetting||{},MsPortalFx.isNullOrUndefined(i.hoveredIndex)||(r.hoveredIndex=i.hoveredIndex,u=MsPortalFx.extend2(u,{hoveredIndex:r.hoveredIndex})),r.itemSetting=MsPortalFx.initObservable(u),r.total=MsPortalFx.initObservable(i.total,100),r.startOffset=MsPortalFx.initObservable(i.startOffset,-90),r.totalFormat=MsPortalFx.initObservable(i.totalFormat,"{0}"),r.unitFormat=MsPortalFx.initObservable(i.unitFormat,""),r.infoFormat=MsPortalFx.initObservable(i.infoFormat,""),r.numberFormatOptions=MsPortalFx.initObservable(i.numberFormatOptions,{minimumFractionDigits:0,maximumFractionDigits:1}),r.hoverInfoFormat=MsPortalFx.initObservable(i.hoverInfoFormat,"{0} {1}{2}"),r.selectedInfoFormat=MsPortalFx.initObservable(i.selectedInfoFormat,"{0}/{1}{2}"),r.hoveredUnit=MsPortalFx.initObservable(i.hoveredUnit,"%"),r.disableSelectOnClick=MsPortalFx.initObservable(i.disableSelectOnClick,!1),r.showCenter=MsPortalFx.initObservable(i.showCenter,!0),r.noData=MsPortalFx.initObservable(i.noData,!1),r.noDataMessage=MsPortalFx.initObservable(i.noDataMessage,null),r.ariaLabel=MsPortalFx.initObservable(i.ariaLabel),r.ariaDesc=MsPortalFx.initObservable(i.ariaDesc),r._msPortalFxRerenderTrigger=ko.observable(0),r._msPortalFxAriaLive=ko.observable(!1),r}return __extends(t,n),t.prototype.render=function(){this._msPortalFxRerenderTrigger(this._msPortalFxRerenderTrigger.peek()+1)},t})(i.ViewModel);t.ViewModel=r}));
define("Fx/Controls/Donut",["require","exports","FxInternal/Controls/Donut"],(function(n,t,i){"use strict";function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("Fx/Controls/Essentials",["require","exports","FxInternal/Controls/Essentials"],(function(n,t,i){"use strict";function u(n,t){return r(n,t)}function f(n,t){return r(n,t)}function e(n,t){return r(n,t)}function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.createNonResourceLayout=t.createCustomResourceLayout=t.createDefaultResourceLayout=void 0;t.createDefaultResourceLayout=u;t.createCustomResourceLayout=f;t.createNonResourceLayout=e}));
define("FxInternal/Controls/InfoBalloon",["require","exports","FxInternal/Controls/Base/Base","FxInternal/Controls/Base/Base"],(function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var u=(function(n){function t(t,r){var u=n.call(this,t)||this;return r=r||{},u.controlType=32,u.content=MsPortalFx.initObservable(r.content),u.balloonVisible=ko.observable(!1),u.disabled=ko.observable(!1),u.link=ko.observable(),u.loading=ko.observable(!1),u.stopClickPropagation=ko.observable(!0),u.type=MsPortalFx.ViewModels.Controls.DockedBalloon.Type.Info,u.ariaLabel=MsPortalFx.initObservable(r.ariaLabel,""),u.content.subscribeAndRun(t,(function(n){i.checkStringForHtmlInjection(n,"Infoballoon.content")})),u}return __extends(t,n),t})(r.ViewModel);t.ViewModel=u}));
define("Fx/Controls/InfoBalloon",["require","exports","FxInternal/Controls/InfoBalloon"],(function(n,t,i){"use strict";function f(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}var r,u;Object.defineProperty(t,"__esModule",{value:!0});t.create=t.Box=t.Link=void 0;r=(function(){function n(n,t){this.linkText=n||"";this.linkUri=t||""}return n})();t.Link=r;u=(function(){function n(n,t,i,r){this.top=n||0;this.left=t||0;this.width=i||0;this.height=r||0}return n})();t.Box=u;t.create=f}));
define("FxInternal/Controls/InfoBox",["require","exports","FxInternal/Controls/Base/Base"],(function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var r=(function(n){function t(t,r,u){var f=n.call(this,t)||this;return f.loading=ko.observable(!1),u=u||{},f.controlType=78,f.image=MsPortalFx.initObservable(),f.text=MsPortalFx.initObservable(u.text),f.ariaLabel=MsPortalFx.initObservable(u.ariaLabel,null),f.size=MsPortalFx.initObservable(null,1),f.style=MsPortalFx.initObservable(u.style,1),f.disabled=MsPortalFx.initObservable(u.disabled),f.canClose=!!u.canClose,f.onCloseClickCallback=u.onCloseClickCallback,f.visible=MsPortalFx.initObservable(u.visible,!0),f.onClick=u.onClick,f.isInline=r,f.text.subscribeAndRun(t,(function(n){i.checkStringForHtmlInjection(n,"InfoBox.text")})),f}return __extends(t,n),t})(i.ViewModel);t.ViewModel=r}));
define("Fx/Controls/InfoBox",["require","exports","FxInternal/Controls/InfoBox"],(function(n,t,i){"use strict";function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,!1,t)})),r}function u(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,!0,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.createInline=t.create=void 0;t.create=r;t.createInline=u}));
define("FxInternal/Controls/Legend",["require","exports","FxInternal/Controls/Base/Base"],(function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t)||this,u;return i=i||{},r.controlType=118,r.items=MsPortalFx.initObservableArray(i.items,[]),r.data=r.items,u=r.itemSetting=i.itemSetting||{},r.indexKey=u.indexKey||"",r.colorKey=u.colorKey,r.hatchingKey=u.hatchingKey,r.selectedKey=u.selectedKey,r.labelKey=u.labelKey,r.enableSelection=MsPortalFx.initValue(i.enableSelection,!0),r.hoveredIndex=MsPortalFx.initObservable(i.hoveredIndex),r.ariaLabel=MsPortalFx.initObservable(i.ariaLabel,""),r}return __extends(t,n),t})(i.ViewModel);t.ViewModel=r}));
define("Fx/Controls/Legend",["require","exports","FxInternal/Controls/Legend"],(function(n,t,i){"use strict";function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("FxInternal/Controls/Map",["require","exports","FxInternal/Controls/Base/Base"],(function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BasicLayoutViewModel=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t)||this,u=i||{};return r.controlType=68,r.isFxVM=!0,r.items=MsPortalFx.initObservableArray(u.items,[]),r.events=MsPortalFx.initValue(u.events,null),r.width=MsPortalFx.initObservable(u.width,0),r.height=ko.observable(0),r.ariaLabel=MsPortalFx.initObservable(u.ariaLabel,""),r.ariaDesc=MsPortalFx.initObservable(u.ariaDesc,""),r}return __extends(t,n),t})(i.ViewModel);t.BasicLayoutViewModel=r}));
define("Fx/Controls/Map",["require","exports","FxInternal/Controls/Map"],(function(n,t,i){"use strict";function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.BasicLayoutViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=t.mapAspectRatio=void 0;t.mapAspectRatio=2;t.create=r}));
define("FxInternal/Controls/Pill",["require","exports","FxInternal/Controls/Base/Base"],(function(n,t,i){"use strict";function e(n){return!!n.onClick}function o(n){return!!n.content&&!u(n)}function u(n){return!!n.buttons}var r,f;Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;r=MsPortalFx.initObservable;f=(function(n){function t(t,i){function h(n){var r=this;n?(s=t.createChildLifetime(),Promise.resolve(i.createEditor(s)).then((function(n){if(n){if(e(n))return{type:"Custom",onClick:n.onClick};if(u(n))return{type:"Dialog",buttons:n.buttons,content:n.content,title:n.title,hideTitle:n.hideTitle,telemetryName:n.telemetryName,onEditModeExited:function(t){return Promise.resolve(n.onEditModeExited(t)).then((function(n){(t===4||t===6)&&r.value(n)}))}};if(o(n))return{type:"Inline",content:n.content,onEditModeExited:function(){return Promise.resolve(n.onEditModeExited()).then((function(n){r.value(n)}))}}}throw new Error("Unknown Pill Editor type");})).then((function(n){r.editor(n)}))):(this.editor(null),s&&s.dispose())}var f=n.call(this,t)||this,s;return f.controlType=128,f.disabled=r(i.disabled,!1),f.value=r(i.value),f.showRemoveButton=r(i.showRemoveButton,!0),f.icon=r(i.icon),f.readOnly=r(i.readOnly,!1),f.editMode=r(i.editMode,!1),f.infoBalloonContent=r(i.infoBalloonContent),f.infoBalloonAriaLabel=r(i.infoBalloonAriaLabel),f.ariaLabel=r(i.ariaLabel,""),f.onRemoved=i.onRemoved||MsPortalFx.noop,f.suppressDirtyBehavior=!!i.suppressDirtyBehavior,f._msPortalFxEditor=ko.observable(null),f.displayText={key:ko.observable(""),value:ko.observable(""),operator:ko.observable("")},f.value.subscribeAndRun(t,(function(n){f.displayText.key(i.getKeyText(n));f.displayText.value(i.getValueText(n));f.displayText.operator(i.getOperatorText?i.getOperatorText(f.value()):null)})),f.editor=ko.observable(),ko.reactor(t,[f.editMode,f.readOnly],(function(n,t){h.call(f,n&&!t)})),f.enterEditMode=function(){return f.editMode(!0),Promise.resolve()},f.exitEditMode=function(){return f.editMode(!1),Promise.resolve()},f}return __extends(t,n),t})(i.ViewModel);t.ViewModel=f}));
define("Fx/Controls/Pill",["require","exports","FxInternal/Controls/Pill"],(function(n,t,i){"use strict";function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("FxInternal/Controls/PillCollection",["require","exports","FxInternal/Controls/Base/Base"],(function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var r=MsPortalFx.initObservable,u=MsPortalFx.initObservableArray,f=(function(n){function t(t,i){var f=n.call(this,t)||this,e;return f.controlType=129,f.items=u(i.items,[]),f.disabled=r(i.disabled,!1),f.ariaLabel=r(i.ariaLabel,""),f.theme=i.theme||1,f.multipleRows=typeof i.multipleRows=="boolean"?i.multipleRows:!0,f.maxVisibleItems=i.maxVisibleItems||Infinity,i.addition?(e=i.addition,f.addition={canAddPill:r(e.canAddPill,!1),label:r(e.label,""),ariaLabel:r(e.ariaLabel,null),alwaysShowLabel:r(e.alwaysShowLabel,!0),icon:r(e.icon,null),labelProvided:e.hasOwnProperty("label"),addPill:function(n){var i=!1,t;return e.addPill&&(t=e.addPill(n),t&&(f.items.push(t),i=!0)),Promise.resolve(i)}}):f.addition={canAddPill:ko.observable(!1),label:ko.observable(""),ariaLabel:ko.observable(null),alwaysShowLabel:ko.observable(!1),icon:ko.observable(null),labelProvided:!1,addPill:function(){return Promise.resolve(!1)}},f.deletion={removePill:function(n){var t=f.items.remove(n);return Promise.resolve(!!(t===null||t===void 0?void 0:t.length))}},f}return __extends(t,n),t})(i.ViewModel);t.ViewModel=f}));
define("Fx/Controls/PillCollection",["require","exports","FxInternal/Controls/PillCollection"],(function(n,t,i){"use strict";function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("FxInternal/Controls/Recommendations",["require","exports"],(function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var i=(function(n){function t(t,i){var r=n.call(this,t)||this;return r.controlType=206,r.resourceId=i.resourceId,r.totalRecommendationCount=MsPortalFx.initObservable(0),r}return __extends(t,n),t})(MsPortalFx.ViewModels.Controls.Base.ViewModel);t.ViewModel=i}));
define("Fx/Controls/Recommendations",["require","exports","FxInternal/Controls/Recommendations"],(function(n,t,i){"use strict";function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("Fx/Controls/TabControl",["require","exports","FxInternal/Controls/Section"],(function(n,t,i){"use strict";function r(n,t){var r;return ko.ignoreDependencies((function(){t=t||{};var f=__assign(__assign({},t),{children:t.tabs,style:4}),u=new i.ViewModel(n,f),e=ko.computed(n,{read:function(){return MsPortalFx.find(u.children(),(function(n){return n&&n.active()}))},write:function(n){n.active(!0);arguments[1]&&u._msPortalFxSetFocusOnTab(MsPortalFx.findIndex(u.children(),(function(t){return t===n})))}}),o=ko.computed(n,{read:function(){return MsPortalFx.findIndex(u.children(),(function(n){return n&&n.active()}))},write:function(n){var t=u.children()&&u.children()[n];t&&(t.active(!0),arguments[1]&&u._msPortalFxSetFocusOnTab(n))}});r=MsPortalFx.extend(u,{tabs:u.children,activeTab:e,activeTabIndex:o,alertOnClose:MsPortalFx.initObservable(t.alertOnClose,!1),showRequiredStatusOnTabs:MsPortalFx.initObservable(t.showRequiredStatusOnTabs,!1),showValidationStatusOnTabs:MsPortalFx.initObservable(t.showValidationStatusOnTabs,!1),allowClosableTabs:MsPortalFx.initObservable(t.allowClosableTabs,!1),focusedTabIndex:MsPortalFx.initObservable(0)})})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("FxInternal/Controls/TextBlock",["require","exports","FxInternal/Controls/Base/Base"],(function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t)||this;return i=i||{},r.controlType=101,r.text=MsPortalFx.initObservable(i.text),r.visible=MsPortalFx.initObservable(i.visible,!0),r.cssClass=MsPortalFx.initObservable(i.cssClass,""),r}return __extends(t,n),t})(i.ViewModel);t.ViewModel=r}));
define("Fx/Controls/TextBlock",["require","exports","FxInternal/Controls/TextBlock"],(function(n,t,i){"use strict";function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("Fx/Controls/Validations",["require","exports"],(function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Uri=t.StaticMessage=t.Required=t.RegExMatch=t.Range=t.Numeric=t.NotRegExMatch=t.NotContainsCharacters=t.NotContains=t.MinValue=t.MinLength=t.MaxValue=t.MaxLength=t.LocaleAwareCaseInsensitiveComparison=t.LengthRange=t.Invalid=t.HasUpperCaseLetter=t.HasPunctuation=t.HasLowerCaseLetter=t.HasLetter=t.HasDigit=t.Equals=t.CustomV=t.Custom=t.ContainsCharacters=t.Contains=t.CaseInsensitiveComparison=void 0;t.CaseInsensitiveComparison=MsPortalFx.ViewModels.CaseInsensitiveComparisonValidation;t.Contains=MsPortalFx.ViewModels.ContainsValidation;t.ContainsCharacters=MsPortalFx.ViewModels.ContainsCharactersValidation;t.Custom=MsPortalFx.ViewModels.CustomValidation;t.CustomV=MsPortalFx.ViewModels.CustomValidationV;t.Equals=MsPortalFx.ViewModels.EqualsValidation;t.HasDigit=MsPortalFx.ViewModels.HasDigitValidation;t.HasLetter=MsPortalFx.ViewModels.HasLetterValidation;t.HasLowerCaseLetter=MsPortalFx.ViewModels.HasLowerCaseLetterValidation;t.HasPunctuation=MsPortalFx.ViewModels.HasPunctuationValidation;t.HasUpperCaseLetter=MsPortalFx.ViewModels.HasUpperCaseLetterValidation;t.Invalid=MsPortalFx.ViewModels.InvalidValidation;t.LengthRange=MsPortalFx.ViewModels.LengthRangeValidation;t.LocaleAwareCaseInsensitiveComparison=MsPortalFx.ViewModels.LocaleAwareCaseInsensitiveComparisonValidation;t.MaxLength=MsPortalFx.ViewModels.MaxLengthValidation;t.MaxValue=MsPortalFx.ViewModels.MaxValueValidation;t.MinLength=MsPortalFx.ViewModels.MinLengthValidation;t.MinValue=MsPortalFx.ViewModels.MinValueValidation;t.NotContains=MsPortalFx.ViewModels.NotContainsValidation;t.NotContainsCharacters=MsPortalFx.ViewModels.NotContainsCharactersValidation;t.NotRegExMatch=MsPortalFx.ViewModels.NotRegExMatchValidation;t.Numeric=MsPortalFx.ViewModels.NumericValidation;t.Range=MsPortalFx.ViewModels.RangeValidation;t.RegExMatch=MsPortalFx.ViewModels.RegExMatchValidation;t.Required=MsPortalFx.ViewModels.RequiredValidation;t.StaticMessage=MsPortalFx.ViewModels.StaticMessageValidation;t.Uri=MsPortalFx.ViewModels.UriValidation}));
define("Fx/Pinner",["require","exports"],(function(n,t){"use strict";function f(n,t){return r.pinEndPoint.invoke(i.client,u.Constants.Shell,{parts:n,options:t})}Object.defineProperty(t,"__esModule",{value:!0});t.pin=t.Internal=void 0;var u=MsPortalFx.Base,i=FxImpl.Rpc,r;(function(n){n.pinEndPoint=new i.FuncEndPointDefinition(FxImpl.Constants.RpcMethods.pinParts)})(r=t.Internal||(t.Internal={}));t.pin=f}));
define("FxHubs/ArmHelpers/ArmApis",["require","exports","FxHubs/ArmHelpers/ArmApisStartup"],(function(n,t,i){"use strict";function o(n){return n.replace(c,"")}function r(n){return n?"/"+o(n):""}function u(){var n=MsPortalFx.getFeatureValue("deployapiver");return n?"?api-version="+n:"?api-version=2020-06-01"}function l(n,t){var i="?api-version=2019-08-01";return n?"/subscriptions/"+n+"/providers"+i+(t&&t.length?"&$select="+t.join(","):""):"/providers"+i}function a(n){var t=n&&"/subscriptions/"+n||"";return t+"/providers?api-version=2016-02-01&$expand=metadata"}function v(n,t){return t=t||"?api-version=2019-08-01","/providers/"+n+t}function y(n,t){return"/subscriptions/"+n+"/providers/"+t+"/register?api-version=2014-04-01-preview"}function p(n,t){return"/subscriptions/"+n+"/providers/"+t+"/unregister?api-version=2014-04-01-preview"}function w(n,t){return"/subscriptions/"+n+"/providers/"+t+"?api-version=2014-04-01-preview"}function b(n,t){return n+"/providers/"+t+"?api-version=2014-04-01-preview"}function f(n){return r(n)+"/providers/Microsoft.Resources/deployments"}function k(n,t){return f(n)+"/"+t+u()}function d(n,t){var i=""+f(n)+u();return t&&(i+="&$top="+t),i}function g(n,t){return f(n)+"/"+t+"/validate"+u()}function nt(n){return r(n)+"/cancel"+u()}function tt(n){return r(n)+"/operations"+u()}function it(n){return n+"/providers/Microsoft.Authorization/locks?api-version=2016-09-01"}function rt(n,t){return n+"/providers/Microsoft.Authorization/locks/"+t+"?api-version=2016-09-01"}function ut(n){return""+r(n)+"?api-version=2016-09-01"}function ft(n){var t=new s.UriBuilder(i.resourcesInSubscriptionApi(n)),r=h.map((function(n){return"resourceType eq '"+n+"'"})).join(" or ");return t.query.setParameter("$filter",r),t.toString()}function et(n){return r(n)+"/moveresources"+e}function ot(n){return r(n)+"/validateMoveResources"+e}function st(n){return r(n)+"/providers/Microsoft.ClassicCompute/validateSubscriptionMoveAvailability?api-version=2015-10-01"}function ht(n){return"/subscriptions/"+o(n)+"/providers/Microsoft.ClassicCompute/moveSubscriptionResources?api-version=2015-10-01"}function ct(n,t){return"/subscriptions/"+n+"/resourcegroups/"+t+"/resources?api-version=2014-04-01-preview"}function lt(n){return n+"/providers/Microsoft.PolicyInsights/checkPolicyRestrictions?api-version=2020-07-01"}Object.defineProperty(t,"__esModule",{value:!0});t.getCheckPolicyRestrictionsApi=t.resourcesInResourceGroupByNameApi=t.moveResourcesToSubscriptionApi=t.validateSubscriptionMoveAvailabilityApi=t.validateMoveResourcesApi=t.moveResourcesApi=t.classicResourcesInSubscriptionApi=t.deleteLockOnResourceApi=t.createLockOnResourceApi=t.locksOnResourceApi=t.deploymentOperationsApi=t.cancelDeploymentApi=t.validateDeploymentApi=t.listDeploymentsApi=t.getDeploymentApi=t.getResourceProviderAtScope=t.getResourceProviderWithSubscriptionApi=t.unregisterResourceProvidersApi=t.registerResourceProvidersApi=t.getResourceProviderApi=t.listResourceProvidersWithMetadataApi=t.listResourceProvidersApi=t.getDeploymentApiVersionQueryString=void 0;var s=MsPortalFx.Base,h=["Microsoft.ClassicCompute/virtualMachines","Microsoft.ClassicCompute/domainNames","Microsoft.ClassicStorage/storageAccounts","Microsoft.ClassicNetwork/virtualNetworks","Microsoft.ClassicNetwork/reservedIps",],c=/^[\s\/\/]*|[\/\/]*$/g,e=MsPortalFx.isFeatureEnabled("enableregionmove")?"?api-version=2020-07-01":"?api-version=2015-01-01";t.getDeploymentApiVersionQueryString=u;t.listResourceProvidersApi=l;t.listResourceProvidersWithMetadataApi=a;t.getResourceProviderApi=v;t.registerResourceProvidersApi=y;t.unregisterResourceProvidersApi=p;t.getResourceProviderWithSubscriptionApi=w;t.getResourceProviderAtScope=b;t.getDeploymentApi=k;t.listDeploymentsApi=d;t.validateDeploymentApi=g;t.cancelDeploymentApi=nt;t.deploymentOperationsApi=tt;t.locksOnResourceApi=it;t.createLockOnResourceApi=rt;t.deleteLockOnResourceApi=ut;t.classicResourcesInSubscriptionApi=ft;t.moveResourcesApi=et;t.validateMoveResourcesApi=ot;t.validateSubscriptionMoveAvailabilityApi=st;t.moveResourcesToSubscriptionApi=ht;t.resourcesInResourceGroupByNameApi=ct;t.getCheckPolicyRestrictionsApi=lt}));
define("FxHubs/ArtHelpers/ArtApis",["require","exports","FxHubs/ArmHelpers/ArmApisStartup","Fx/Ajax"],(function(n,t,i,r){"use strict";function o(n,t,f,o,s){var h=MsPortalFx.getFeatureValue("argapiversion"),l=encodeURIComponent(h),c;return h&&(n.options?n.options.resultFormat||(n.options.resultFormat="table"):n.options={$top:1e3,resultFormat:"table"}),c=h?l:(o===null||o===void 0?void 0:o.apiVersion)||"2018-09-01-preview",Q(r.batch({uri:i.getAbsoluteArmUri("/providers/Microsoft.ResourceGraph/resources?api-version="+c),setTelemetryHeader:t,type:"POST",content:n,options:f||1}).then((function(n){return __assign(__assign({},n.content),{correlationId:n.headers[e],httpStatusCode:n.httpStatusCode})}),(function(n){var i=MsPortalFx.getLogFriendlyMessage({commandName:t,apiVersion:c,error:n}),r=FxImpl.Azure.buildSimplifiedError(n).message||"";if(n.httpStatusCode===400&&r.toLowerCase().includes("novalidsubscriptionsinqueryrequest"))return u.warning(i),{};n.httpStatusCode===403||n.httpStatusCode===401?u.warning(i):s&&(i===null||i===void 0?void 0:i.includes("InvalidQuery"))?u.warning(i):u.error(i);throw n;})))}function s(n){return n.httpStatusCode===429?Math.ceil(Math.max(Number(n.headers["Retry-After"])||f,f)/f):0}Object.defineProperty(t,"__esModule",{value:!0});t.getRetryAfterMinutes=t.getDataFromArt=void 0;var u=MsPortalFx.Base.Diagnostics.createLog(n),f=60,e="x-ms-correlation-request-id";t.getDataFromArt=o;t.getRetryAfterMinutes=s}));
define("FxHubs/ArtHelpers/ArtRequestGenerator",["require","exports"],(function(n,t){"use strict";function i(n,t){var i=ko.observable(),r=t.managementGroupIdObservable||ko.observable(),u=function(n,t,r,u,f,e,o){var h={$top:e,$skip:e*((u||1)-1),$skipToken:f||""},s={query:r,options:h};(n===null||n===void 0?void 0:n.length)?s.subscriptions=n:t&&(s.managementGroupId=t);(o||!MsPortalFx.deepEquals(i.peek(),s))&&i(s)},f=function(n){u(t.subscriptionsObservable(),r(),t.queryObservable(),t.pageObservable(),t.skipTokenObservable&&t.skipTokenObservable(),t.pageSizeObservable(),n)};return ko.explicitComputed(n,[t.subscriptionsObservable,r,t.queryObservable],(function(n,i,r){u(n,i,r,1,"",t.pageSizeObservable())})),{request:i,triggerUpdate:f}}Object.defineProperty(t,"__esModule",{value:!0});t.getRequest=void 0;t.getRequest=i}));
define("FxHubs/ArtHelpers/KustoQueryGenerator",["require","exports","FxHubs/Resources/KustoClientStrings"],(function(n,t,i){"use strict";function f(n,t){return(n=n&&ko.toJS(n),!n||typeof n!="string")?"'"+(n||"")+"'":"'"+MsPortalFx.replaceMany(t?n:n.trim(),{"'":"\\'","\\":"\\\\"})+"'"}function y(n,t,i,r,u,o,s,h,c){var a=" "+(o&&w[n]||"or")+" ",y,k,d;if(u)return t.map((function(t){return"("+e[n].format(t)+")"})).join(a);if(y=s?"(("+s.prefixText+") "+p[s.operator]+" (":"",k=s?"))":"",it[n])return y+t.map((function(t){return"("+t+" "+e[n]+" ("+i.map((function(n){return typeof n=="string"?f(n,r):n.toString()})).join(", ")+"))"})).join(a)+k;if(i.length>1&&(d=rt[n],d)){var l=i.map((function(n){return typeof n=="string"?f(n,r):n.toString()})),nt=g[n],tt=nt&&l.some((function(n){return n==="''"}));return tt&&(l=l.filter((function(n){return n!=="''"}))),y+t.map((function(t){var i=l.length!==1?"("+t+" "+e[d]+" ("+l.join(",")+"))":"("+t+" "+e[n]+" ("+l[0]+"))";return tt?"("+[i,"("+e[nt].format(t)+")"].join(a)+")":i})).join(a)+k}return y+t.map((function(t){return i.map((function(i){var u=typeof i=="string"?f(i,r):i.toString(),o;return u==="''"&&(o=g[n],o)?"("+e[o].format(t)+")":(t=(v[h]||MsPortalFx.identity)(t),b[h]&&(t=(b[h]||MsPortalFx.identity)(t)),u=(v[c]||MsPortalFx.identity)(u),"("+t+" "+e[n]+" ("+u+"))")})).join(" "+w[n]+" ")})).join(a)+k}function ft(n){var t=[],u=e[n.comparisonTypeOverride||7],o,r,i;if(MsPortalFx.forEachKey(n.displayNameMapFunc()||{},(function(i,r){n.subValueColumnName&&r.subValueDisplayNames&&MsPortalFx.forEachKey(r.subValueDisplayNames,(function(r,e){t.push("("+n.columnName+" "+u+" "+f(i,n.skipColumnNameTrim)+") and ("+n.subValueColumnName+" "+u+" "+f(r,n.skipColumnNameTrim)+"),"+f(e,n.skipDisplayNameTrim)+",")}));t.push(n.columnName+" "+u+" "+f(i,n.skipColumnNameTrim)+","+f(r===null||r===void 0?void 0:r.displayName,n.skipDisplayNameTrim)+",")})),t.length){if(t.length>700){for(o=[],r=[],i=0;i<t.length;i+=700){var h=Math.min(i+700,t.length),c=t.slice(i,h),s=""+n.mappedColumnName+(r.length+1);r.push(s);o.push("extend "+s+"=case("+c.join("")+n.columnName+")")}return o.join("|")+"|extend "+n.mappedColumnName+"=coalesce("+r.join(",")+","+n.columnName+")"}return"extend "+n.mappedColumnName+"=case("+t.join("")+n.columnName+")"}return"extend "+n.mappedColumnName+"="+n.columnName}function et(n){return"extend "+n.mappedColumnName+"=tostring("+n.columnName+")"}function ot(){return"extend uniqueDisplayName=strcat(iif(properties.state=~'disabled','(disabled) ',''),name,' (',subscriptionId,')')"}var r,a,o,s,h,c,u,l,tt;Object.defineProperty(t,"__esModule",{value:!0});t.KustoQueryGenerator=t.buildSubscriptionUniqueDisplayNameMapProvider=t.buildValueToStringMapProvider=t.buildDisplayNameMapProvider=t.getPredicate=t.encodeKustoValue=void 0;var e=(r={},r[1]="contains_cs",r[2]="==",r[3]="in",r[4]="startswith_cs",r[5]="endswith_cs",r[6]="contains",r[7]="=~",r[8]="in~",r[9]="startswith",r[10]="endswith",r[11]="!contains_cs",r[12]="!=",r[13]="!in",r[14]="!startswith_cs",r[15]="!endswith_cs",r[16]="!contains",r[17]="!~",r[18]="!in~",r[19]="!startswith",r[20]="!endswith",r[21]="isempty({0})",r[22]="isnull({0})",r[25]="has",r[26]="<",r[27]=">",r[28]="<=",r[29]=">=",r[23]="isnotempty({0})",r[24]="isnotnull({0})",r),p=(a={},a[2]="and",a[1]="or",a),k=(o={},o[21]=!0,o[23]=!0,o[22]=!0,o[24]=!0,o),it=(s={},s[3]=!0,s[8]=!0,s[13]=!0,s[18]=!0,s),rt=(h={},h[2]=3,h[7]=8,h[12]=13,h[17]=18,h),w={},d=function(n,t){t.forEach((function(t){return w[t]=n}))};d("or",[1,2,4,5,6,7,9,10,23,24,26,27,28,29,3,8,25,]);d("and",[11,12,14,15,16,17,19,20,21,22,13,18,]);var g=(c={},c[2]=21,c[7]=21,c[12]=23,c[17]=23,c),nt='"'+[i.Months.jan,i.Months.feb,i.Months.mar,i.Months.apr,i.Months.may,i.Months.jun,i.Months.jul,i.Months.aug,i.Months.sep,i.Months.oct,i.Months.nov,i.Months.dec,].join('","')+'"',ut='"'+[i.Days.sun,i.Days.mon,i.Days.tue,i.Days.wed,i.Days.thu,i.Days.fri,i.Days.sat,].join('","')+'"',v=(u={},u[2]=function(n){return"tolower(tostring("+n+"))"},u[3]=function(n){return"tostring("+n+")"},u[4]=function(n){return"todatetime("+n+")"},u[5]=function(n){return"todouble("+n+")"},u[6]=function(n){return"tobool("+n+")"},u[7]=function(n){return"totimespan("+n+")"},u[8]=function(n){return"todecimal("+n+")"},u[9]=function(n){return"bin(todatetime("+n+"),1d)"},u[10]=function(n){return'make_datetime(datetime_part("Year",todatetime('+n+')),datetime_part("Month",todatetime('+n+")),1)"},u[11]=function(n){return'make_datetime(datetime_part("Year",todatetime('+n+")),1,1)"},u[12]=function(n){return'make_datetime(datetime_part("Year",todatetime('+n+')),datetime_part("Month",todatetime('+n+")),1)"},u[13]=function(n){return"hourofday(todatetime("+n+"))"},u[14]=function(n){return"hourofday(todatetime("+n+"))"},u[15]=function(n){return"dayofweek(todatetime("+n+"))"},u[16]=function(n){return"dayofmonth(todatetime("+n+"))"},u[17]=function(n){return"monthofyear(todatetime("+n+"))"},u[18]=function(n){return'datetime_part("Year",todatetime('+n+"))"},u),b=(l={},l[12]=function(n){return"strcat(tostring(dynamic(["+nt+"])[toint(monthofyear("+n+')-1)]),", ",format_datetime('+n+',"yyyy"))'},l[14]=function(n){return"tolower(format_datetime(make_datetime(2020,1,1,"+n+',0,0),"h tt"))'},l[15]=function(n){return"tostring(dynamic(["+ut+"])[toint(format_timespan("+n+',"d"))])'},l[17]=function(n){return"tostring(dynamic(["+nt+"])[toint("+n+"-1)])"},l);t.encodeKustoValue=f;t.getPredicate=y;t.buildDisplayNameMapProvider=ft;t.buildValueToStringMapProvider=et;t.buildSubscriptionUniqueDisplayNameMapProvider=ot;tt=(function(){function n(n,t,i,r){this._mappingProviders=[];this._queryProviders=[];this._expansionProviders=[];this._postExpandMappingProviders=[];this._postExpandQueryProviders=[];this._summarizeQueryProviders=[];this._summarizeColumnExtensions=[];this._postSummarizeQueryProviders=[];this._prefixPredicates=[];this._suffixPredicates=[];this._preSortPredicates=[];this._preSortQueryProviders=[];this.query=ko.observable("");this._sortProviders=n&&n.slice()||[];this._projectedColumns=t&&t.slice()||[];this._summarizedColumns=i&&i.slice()||[];this._defaultQueryPredicate=r}return n.prototype.setSources=function(n){this._sources=n},n.prototype.setIncludeSubscriptionNameJoin=function(n){this._includeSubscriptionNameJoin=n},n.prototype.setDefaultQueryPredicate=function(n){this._defaultQueryPredicate=n},n.prototype.setMappingProviders=function(n){var t;(t=this._mappingProviders).splice.apply(t,__spreadArray([0,this._mappingProviders.length],n||[]))},n.prototype.setQueryProviders=function(n){var t;(t=this._queryProviders).splice.apply(t,__spreadArray([0,this._queryProviders.length],n||[]))},n.prototype.setExpansionProviders=function(n){var t;(t=this._expansionProviders).splice.apply(t,__spreadArray([0,this._expansionProviders.length],n||[]))},n.prototype.setPostExpandMappingProviders=function(n){var t;(t=this._postExpandMappingProviders).splice.apply(t,__spreadArray([0,this._postExpandMappingProviders.length],n||[]))},n.prototype.setPostExpandQueryProviders=function(n){var t;(t=this._postExpandQueryProviders).splice.apply(t,__spreadArray([0,this._postExpandQueryProviders.length],n||[]))},n.prototype.setSummarizeQueryProviders=function(n,t,i){var r,u;(r=this._summarizeQueryProviders).splice.apply(r,__spreadArray([0,this._summarizeQueryProviders.length],n||[]));this._removeProjectedColumns=t;(u=this._summarizeColumnExtensions).splice.apply(u,__spreadArray([0,this._summarizeColumnExtensions.length],i||[]))},n.prototype.setSummarizeQuery=function(n,t){this._summarizeQuery=n;this._removeProjectedColumns=t;this._summarizeColumnExtensions.splice(0,this._summarizeColumnExtensions.length)},n.prototype.setPostSummarizeQueryProviders=function(n){var t;(t=this._postSummarizeQueryProviders).splice.apply(t,__spreadArray([0,this._postSummarizeQueryProviders.length],n||[]))},n.prototype.setSortProviders=function(n){var t;(t=this._sortProviders).splice.apply(t,__spreadArray([0,this._sortProviders.length],n||[]))},n.prototype.setProjectedColumns=function(n){var t;(t=this._projectedColumns).splice.apply(t,__spreadArray([0,this._projectedColumns.length],n||[]))},n.prototype.setPreSortPredicates=function(n){var t;(t=this._preSortPredicates).splice.apply(t,__spreadArray([0,this._preSortPredicates.length],n||[]))},n.prototype.setPreSortQueryProviders=function(n){var t;(t=this._preSortQueryProviders).splice.apply(t,__spreadArray([0,this._preSortQueryProviders.length],n||[]))},n.prototype.setPrefixPredicates=function(n){var t;(t=this._prefixPredicates).splice.apply(t,__spreadArray([0,this._prefixPredicates.length],n||[]))},n.prototype.setSuffixPredicates=function(n){var t;(t=this._suffixPredicates).splice.apply(t,__spreadArray([0,this._suffixPredicates.length],n||[]))},n.prototype.setInlineDataSource=function(n){this._inlineDataSource=n},n.prototype.updateQuery=function(n,t){var i=[],r,u,o,c,l,s,it,rt,ut,ft,e,h,a,w,et,d,g,nt,tt;if(this._sources&&!t&&(r=[],(this._sources&1)==1&&r.push("resources"),u=[],(this._sources&2)==2&&u.push("microsoft.resources/subscriptions/resourcegroups"),(this._sources&4)==4&&u.push("microsoft.resources/subscriptions"),u.length&&r.push("(resourcecontainers|where type in~ ('"+u.join("','")+"'))"),r.length))for(i.push(r[0]),o=1;o<r.length;o++)i.push("union("+r[o]+")");return c=this._prefixPredicates,(c||[]).length&&i.push.apply(i,c),this._defaultQueryPredicate&&i.push(this._defaultQueryPredicate),this._inlineDataSource&&(l=this._inlineDataSource.dataTableHeader,s=this._inlineDataSource.upstreamDataFilterColumn,s&&(l.some((function(n,t){var i=n[0],r=n[1];if(i===s)return it=t,!0})),rt=this._inlineDataSource.dataTableRows.map((function(n){return n[it]})),ut="where ("+y(13,[s],rt)+")",i.push(ut)),ft="union (datatable ("+l.map((function(n){var t=n[0],i=n[1];return"['"+t+"']: "+i})).join(", ")+")["+this._inlineDataSource.dataTableRows.map((function(n){return n.map((function(n){return typeof n=="string"?f(n):"dynamic({"+Object.keys(n!==null&&n!==void 0?n:{}).map((function(t){return"'"+t+"':'"+n[t]+"'"}))+"})"})).join(", ")})).join(", ")+"])",i.push(ft)),this._includeSubscriptionNameJoin&&(i.push('join kind=leftouter (resourcecontainers|where type =~ "microsoft.resources/subscriptions"|project subscriptionDisplayName=strcat(iif(properties.state=~"disabled","(disabled) ",""),name," (",subscriptionId,")"),subscriptionId) on $left.subscriptionId == $right.subscriptionId'),i.push("project-away subscriptionId1")),this._mappingProviders.forEach((function(n){return i.push(n)})),e=function(n){n.forEach((function(n){var r=n.comparisonType?{queryProviders:[n],operator:2}:n,t=(r.queryProviders||[]).reduce((function(n,t){var f=k[t.comparisonType],s=y(t.comparisonType,MsPortalFx.makeArray(t.columnName),!f&&MsPortalFx.makeArray(t.value),t.skipValueTrim,f,t.useOperatorMapForMultipleColumns,t.prefix,t.castFunction,t.valueCastFunction),e,i,h,o,c,u;if(s)return e="",i=t.nestedQueryProvider,i&&(h=k[i.comparisonType],o=y(i.comparisonType,[i.columnName],!h&&MsPortalFx.makeArray(i.value),i.skipValueTrim,f),o&&(c=p[i.operatorOverride||2],e=c+" ("+o+")")),u=s+" "+e,t.negate&&(u="not("+u+")"),u=u.trim(),u&&(n?(n.multipleClauses=!0,n.accumulation=n.accumulation+") "+p[r.operator]+" ("+u):n={accumulation:u}),n}),null);(t===null||t===void 0?void 0:t.accumulation)&&(t.multipleClauses?i.push("where ("+t.accumulation+")"):i.push("where "+t.accumulation))}))},e(this._queryProviders),this._expansionProviders.forEach((function(n){i.push("extend "+n.expandedTargetColumn+"="+n.sourceColumn);i.push("mvexpand bagexpansion=array "+n.expandedTargetColumn)})),this._postExpandMappingProviders.forEach((function(n){return i.push(n)})),e(this._postExpandQueryProviders),i.push.apply(i,this._summarizeColumnExtensions.map((function(n){if(n.extendColumn!==n.column||n.castFunction>1){var t=v[n.castFunction]||MsPortalFx.identity;return"extend "+n.extendColumn+"="+t(n.column)}})).filter((function(n){return!!n}))),h=this._projectedColumns,this._summarizeQueryProviders.forEach((function(n){var t=[];(n.countColumns||[]).forEach((function(n){t.push(n+"=count()")}));var f=MsPortalFx.extendArrayIntoMap(Object.create(null),n.wrappedColumns||[],MsPortalFx.identity,(function(){return!0})),r=[],u=[];h.forEach((function(n){f[n]?r.push(n+"=any("+n+")"):u.push(n)}));n.wrappedColumnsFirst?t.unshift.apply(t,r):t.push.apply(t,r);i.push("summarize "+t.join(",")+" by "+u.join(","))})),this._summarizeQuery&&i.push(this._summarizeQuery),e(this._postSummarizeQueryProviders),(h||[]).length&&!this._removeProjectedColumns&&i.push("project "+h.join(",")),a=this._preSortPredicates,(a||[]).length&&i.push.apply(i,a),e(this._preSortQueryProviders),w=this._sortProviders,(w||[]).length&&(et=w.map((function(n){var t=v[n.castFunction||2]||MsPortalFx.identity,i=t(n.sortBy);return"("+MsPortalFx.replaceAll(i,".","_")+") "+(n.order===1?"asc":"desc")})).join(","),i.push("sort by "+et)),d=(this._summarizeColumnExtensions||[]).filter((function(n){return!n.keepExtendedColumn})),d.length&&i.push("project-away "+d.map((function(n){return n.extendColumn})).join(",")),i.push.apply(i,this._summarizeColumnExtensions.map((function(n){var t=b[n.castFunction];return t&&"extend "+n.extendColumn+"="+t(n.column)})).filter((function(n){return!!n}))),g=this._summarizedColumns,(g||[]).length&&i.push("summarize by "+g.join(",")),nt=this._suffixPredicates,(nt||[]).length&&i.push.apply(i,nt),n&&i.push(n),tt=i.join("|"),this.query(tt),tt},n})();t.KustoQueryGenerator=tt}));
define("FxHubs/ArtHelpers/KustoQueryHelpers",["require","exports"],(function(n,t){"use strict";function i(n){return{columnName:"type",comparisonType:17,value:n}}function r(n){return{columnName:"type",comparisonType:7,value:n}}function u(n,t){return{columnName:"type",comparisonType:7,value:n,negate:!0,nestedQueryProvider:{columnName:"kind",comparisonType:7,value:t}}}function f(n,t){return{columnName:"type",comparisonType:17,value:n,nestedQueryProvider:{columnName:"kind",comparisonType:7,value:t,operatorOverride:1}}}function e(n,t){return{columnName:"type",comparisonType:7,value:n,nestedQueryProvider:{columnName:"kind",comparisonType:7,value:t}}}Object.defineProperty(t,"__esModule",{value:!0});t.buildTypeWithKindInclusionQueryProvider=t.buildTypeExclusionWithKindInclusionQueryProvider=t.buildTypeKindsExclusionQueryProvider=t.buildTypeInclusionQueryProvider=t.buildTypeExclusionQueryProvider=void 0;t.buildTypeExclusionQueryProvider=i;t.buildTypeInclusionQueryProvider=r;t.buildTypeKindsExclusionQueryProvider=u;t.buildTypeExclusionWithKindInclusionQueryProvider=f;t.buildTypeWithKindInclusionQueryProvider=e}));
define("FxHubs/ResourceCommands/BrowseBulkCommandConfig",["require","exports","FxHubs/Resources/FxHubsClientStrings"],(function(n,t,i){"use strict";function h(n){return r.confirmCommand.format(n.toLowerCase())}var u;Object.defineProperty(t,"__esModule",{value:!0});t.BulkCommandDefinitions=t.AzureSqlCommandDefinition=t.EHNamespacesCommandDefinition=t.SBNamespacesCommandDefinition=t.CloudSimpleDedicatedCloudServicesCommandDefinition=t.CloudSimpleDedicatedCloudNodesCommandDefinition=t.CloudSimpleVMCommandDefinition=t.MlWorkspacesCommandDefinition=t.SqlDatabasesCommandDefinition=t.StorageCommandDefinition=t.AppServiceCommandDefinition=t.CloudServicesCommandDefinition=t.VirtualMachineScaleSetsCommandDefinition=t.AllResourcesCommandDefinition=void 0;u=MsPortalFx.Base.Images;var v=MsPortalFx.isFeatureEnabled("forcedelete"),r=i.BulkCommand,s="api-version=2015-06-01",c="api-version=2016-08-01",g=v?"api-version=2020-12-01":"api-version=2016-03-30",l="api-version=2017-03-30",y="api-version=2017-10-01-preview",o="api-version=2019-04-01",p="api-version=2017-04-01",f=r.confirmDeleteDescription,w=r.confirmStopVirtualMachineScaleSets,a=h(r.start),b=h(r.stop),k=h(r.restart),e=h(r.delete),nt=h(r.suspend),tt={"microsoft.compute/virtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?"+g,asyncOperation:{pollingHeaderOverride:"Azure-AsyncOperation"}},"microsoft.classiccompute/virtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?keep-disks=true&api-version=2015-12-01",asyncOperation:{pollingHeaderOverride:"Azure-AsyncOperation"}}},it={"microsoft.sql/servers/databases":{httpMethodType:"DELETE",uri:"{resourceid}?"+y},"microsoft.sql/servers/elasticpools":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2017-10-01-preview"},"microsoft.sql/managedinstances":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-05-01-preview"},"microsoft.sqlvirtualmachine/sqlvirtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2017-03-01-preview"},"microsoft.sql/servers":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-05-01-preview"}},d={"microsoft.web/sites":{httpMethodType:"DELETE",uri:"{resourceid}?deleteEmptyServerFarm=false&"+c}};t.AllResourcesCommandDefinition=[{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.resources,r.confirmDeleteAllResources)},isBulkDeleteOperation:!0,armCommandDefinitions:MsPortalFx.extend2({"*":{httpMethodType:"DELETE",uri:null,retryableArmCodes:["publicipaddresscannotbedeleted","inusenetworksecuritygroupcannotbedeleted","nicinuse","inusesubnetcannotbedeleted","storageaccountoperationfailed"]}},tt,v&&{"microsoft.compute/virtualmachinescalesets":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2020-12-01",asyncOperation:{pollingHeaderOverride:"Azure-AsyncOperation"}}},d)},];t.VirtualMachineScaleSetsCommandDefinition=[{id:"BulkStart",label:r.start,icon:u.Start(),confirmation:{message:a},armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{uri:"{resourceid}/start?"+l}}},{id:"BulkRestart",label:r.restart,icon:u.Redo(),confirmation:{message:w.format(r.restart.toLowerCase())},armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{uri:"{resourceid}/restart?"+l}}},{id:"BulkStop",label:r.stop,icon:u.Stop(),confirmation:{message:w.format(r.stop.toLowerCase())},armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{uri:"{resourceid}/deallocate?"+l}}},{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.virtualMachineScaleSets,r.confirmDeleteVirtualMachineScaleSets)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{httpMethodType:"DELETE",uri:"{resourceid}?"+l}}},];t.CloudServicesCommandDefinition=[{id:"BulkStartProduction",label:r.startProduction,icon:u.Start(),confirmation:{message:r.confirmStartProdCloudServices},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/production/start?"+s}}},{id:"BulkStopProduction",label:r.stopProduction,icon:u.Stop(),confirmation:{title:r.confirmStopProdCloudServicesTitle,message:r.confirmBillingInfo},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/production/stop?"+s}}},{id:"BulkStartStaging",label:r.startStaging,icon:u.Start(),confirmation:{message:r.confirmStartStagingCloudServices},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/staging/start?"+s}}},{id:"BulkStopStaging",label:r.stopStaging,icon:u.Stop(),confirmation:{title:r.confirmStopStagingCloudServicesTitle,message:r.confirmBillingInfo},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/staging/stop?"+s}}},{id:"BulkSwap",label:r.swap,icon:u.Swap(),confirmation:{message:r.confirmSwapCloudServices},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/swap?"+s}}},{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.cloudServices,r.confirmDeleteCloudServices)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.classiccompute/domainnames":{httpMethodType:"DELETE",uri:"{resourceid}?force=true&"+s}}},];t.AppServiceCommandDefinition=[{id:"BulkStart",label:r.start,icon:u.Start(),confirmation:{message:a},armCommandDefinitions:{"microsoft.web/sites":{uri:"{resourceid}/start?"+c}}},{id:"BulkRestart",label:r.restart,icon:u.Redo(),confirmation:{message:k},armCommandDefinitions:{"microsoft.web/sites":{uri:"{resourceid}/restart?"+c}}},{id:"BulkStop",label:r.stop,icon:u.Stop(),confirmation:{message:b},armCommandDefinitions:{"microsoft.web/sites":{uri:"{resourceid}/stop?"+c}}},{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.webApps,r.confirmDeleteAppService)},isBulkDeleteOperation:!0,armCommandDefinitions:d},];t.StorageCommandDefinition=[{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.storage,r.confirmDeleteStorage)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.storage/storageaccounts":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-06-15"},"microsoft.classicstorage/storageaccounts":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-12-01"}}},];t.SqlDatabasesCommandDefinition=[{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.databases,r.confirmDeleteDatabases)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.sql/servers/databases":{httpMethodType:"DELETE",uri:"{resourceid}?"+y}}},];t.MlWorkspacesCommandDefinition=[{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.mlWorkspaces,r.confirmDeleteMlWorkspaces)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.machinelearningservices/workspaces":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2018-11-19"}}},];t.CloudSimpleVMCommandDefinition=[{id:"BulkStart",label:r.start,icon:u.Start(),confirmation:{message:a},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/start?"+o}}},{id:"BulkRestart",label:r.restart,icon:u.Redo(),confirmation:{message:k},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/stop?mode=reboot&"+o}}},{id:"BulkSuspend",label:r.suspend,icon:u.Paused(),confirmation:{message:nt},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/stop?mode=suspend&"+o}}},{id:"BulkStop",label:r.stop,icon:u.Stop(),confirmation:{message:b},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/stop?mode=shutdown&"+o}}},{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.cloudSimpleVM,r.confirmDeleteCloudSimpleVM)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?"+o}}},];t.CloudSimpleDedicatedCloudNodesCommandDefinition=[{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.cloudSimpleDedicatedCloudNodes,r.confirmDeleteCloudSimpleDCN)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.vmwarecloudsimple/dedicatedcloudnodes":{httpMethodType:"DELETE",uri:"{resourceid}?"+o}}},];t.CloudSimpleDedicatedCloudServicesCommandDefinition=[{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.cloudSimpleDedicatedCloudServices,r.confirmDeleteCloudSimpleDCS)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.vmwarecloudsimple/dedicatedcloudservices":{httpMethodType:"DELETE",uri:"{resourceid}?"+o}}},];t.SBNamespacesCommandDefinition=[{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.sbNamespaces,r.confirmDeleteSBNamespaces)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.servicebus/namespaces":{httpMethodType:"DELETE",uri:"{resourceid}?"+p}}},];t.EHNamespacesCommandDefinition=[{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.sbNamespaces,r.confirmDeleteEHNamespaces)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.eventhub/namespaces":{httpMethodType:"DELETE",uri:"{resourceid}?"+p}}},];t.AzureSqlCommandDefinition=[{id:"BulkDelete",label:r.delete,icon:u.Delete(),confirmation:{title:e,message:f.format(r.resources,r.confirmDeleteAllResources)},isBulkDeleteOperation:!0,armCommandDefinitions:it},];t.BulkCommandDefinitions={"microsoft.resources/resources":t.AllResourcesCommandDefinition,"microsoft.compute/virtualmachinescalesets":t.VirtualMachineScaleSetsCommandDefinition,"microsoft.classiccompute/domainnames":t.CloudServicesCommandDefinition,"microsoft.web/sites":t.AppServiceCommandDefinition,"microsoft.storage/storageaccounts":t.StorageCommandDefinition,"microsoft.classicstorage/storageaccounts":t.StorageCommandDefinition,"microsoft.sql/servers/databases":t.SqlDatabasesCommandDefinition,"microsoft.machinelearningservices/workspaces":t.MlWorkspacesCommandDefinition,"microsoft.vmwarecloudsimple/virtualmachines":t.CloudSimpleVMCommandDefinition,"microsoft.vmwarecloudsimple/dedicatedcloudnodes":t.CloudSimpleDedicatedCloudNodesCommandDefinition,"microsoft.vmwarecloudsimple/dedicatedcloudservices":t.CloudSimpleDedicatedCloudServicesCommandDefinition,"microsoft.servicebus/namespaces":t.SBNamespacesCommandDefinition,"microsoft.eventhub/namespaces":t.EHNamespacesCommandDefinition,"microsoft.sql/azuresql":t.AzureSqlCommandDefinition}}));
define("FxHubs/ResourceCommands/BrowseBulkCommandImpl",["require","exports"],(function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BulkCommandImpl=void 0;var i=MsPortalFx.Base,r=(function(){function n(n,t,i,r){var u=this;this._canExecute=ko.observable(!0);this._telemetrySource=t;this._armCmdDef=r;this._cmdContext=i;this.canExecute=ko.computed(n,(function(){return u._cmdContext.hasSelectedItems()&&u._canExecute()}))}return n.prototype.execute=function(n){var t=this,r,u,f;return(this._canExecute(!1),(n===null||n===void 0?void 0:n.button)===6||(n===null||n===void 0?void 0:n.button)===4)?(r=this._cmdContext.selectedBrowseItems(),u=r.map((function(n){return{name:n.name,resourceId:n.id,resourceType:n.type.toLowerCase()}})),i.Diagnostics.Telemetry.trace({action:"BulkCommandExecuted",source:this._telemetrySource,name:this._armCmdDef.id,data:{resourceType:this._cmdContext.resourceType,numberOfResources:r.length,confirmation:!!this._armCmdDef.confirmation,selectionModel:this._armCmdDef.selection&&this._armCmdDef.selection.maxSelectedItems,commandType:"ArmCommand"}}),f=MsPortalFx.require("FxHubs/ResourceCommands/ArmBulkCommand").then((function(n){return n.execute(t._armCmdDef,t._cmdContext.resourceType,u)})),this._canExecute(!0),f.then((function(){if(t._cmdContext.onCompleteCallback)return t._cmdContext.onCompleteCallback(r)}))):(this._canExecute(!0),Q())},n})();t.BulkCommandImpl=r}));
define("FxHubs/ResourceCommands/BulkDeleteBladeModel",["require","exports"],(function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MaxBatchDeleteResources=void 0;t.MaxBatchDeleteResources=100}));
define("FxHubs/ResourceCommands/BrowseCommanding",["require","exports","Fx/Controls/Toolbar","Fx/Composition","FxHubs/ResourceCommands/BulkDeleteBladeModel","FxHubs/ResourceCommands/BrowseBulkCommandImpl","FxHubs/ResourceCommands/BrowseBulkCommandConfig","FxHubs/Resources/FxHubsClientStrings"],(function(n,t,i,r,u,f,e,o){"use strict";function w(n,t,r,u,f,e){var s=n.bladeReference,o;return s&&s.blade?h(t,n,r,u,f,r,e):n.marketplaceItemId?c(t,n,r,f,r,e):n.commands&&n.commands.length?(o=[],n.commands.forEach((function(n){n.bladeReference&&n.bladeReference.blade?o.push(h(t,n,r,u,f,r)):n.marketplaceItemId&&o.push(c(t,n,r,f,r))})),i.ToolbarItems.createMenuButton(r,{label:n.label,icon:n.icon,buttons:o,ariaLabel:n.ariaLabel,tooltip:n.toolTip,telemetryName:f+"-"+n.id,cssClass:e?"ext-hubs-artbrowse-empty-custom-button":""})):void 0}function b(n,t,r,u,f,e,o,s){var h=it.tooltip.format(n.label),c,l;return n.armCommandDefinitionOptions&&n.armCommandDefinitionOptions.isDelete||n.isBulkDeleteOperation?tt(t,n,h,r,f,e,s):!n.confirmation||!n.confirmation.explicitConfirmationText?(c||(c=ko.computed(r,(function(){return!!e().length}))),n.bladeReference&&n.bladeReference.blade?g(t,n,h,r,u,f,e,s):n.commands&&n.commands.length?(l=[],n.commands.forEach((function(n){if(n.bladeReference&&n.bladeReference.blade)l.push(g(t,n,h,r,u,f,e,s));else if(n.armCommandDefinitionOptions&&n.armCommandDefinitionOptions.definitions){var i=void 0;i=n.armCommandDefinitionOptions.isDelete?tt(t,n,h,r,f,e,s):nt(t,n,c,h,r,f,e,o);l.push(i)}})),i.ToolbarItems.createMenuButton(r,{label:n.label,icon:n.icon,buttons:l,ariaLabel:n.ariaLabel,tooltip:n.toolTip,telemetryName:f+"-"+n.id,disabled:ko.pureComputed((function(){if(n.selection){var i=n.selection,r=i.maxSelectedItems,u=i.minSelectedItems,t=e().length;return!t||r&&t>r||u&&t<u}return!e().length})),disabledMessage:n.selection&&n.selection.disabledMessage})):nt(t,n,c,h,r,f,e,o)):void 0}function rt(n,t,i,r,u,f,e,o){var h,c,l=[],v=i&&i.hiddenCommands,s=i&&i.browseCommandExperiments&&((h=i.browseCommandExperiments[o])===null||h===void 0?void 0:h.commands),y=((c=t.commands)===null||c===void 0?void 0:c.commands)||[],b=e===4,k=function(n){var t=n.visibility,i=t&&(t&e)!==e;return v&&(v.includes("*")||v.includes(n.id.toLowerCase()))?!1:n.visibility===16||t===1&&i?!1:e===1&&i?!1:e===4&&(!t||i)||t===32?!1:!0};return(s===null||s===void 0?void 0:s.length)&&(!e||e===1)?(a.trace({source:n,action:"BrowseCommandBarExperimentFound",data:{commandSectionType:"NonSelectionCommands",resourceType:f,treatmentVariableValue:o,commandIds:s.join(",")}}),s.forEach((function(t){var i=y.find((function(n){return n.id.toLowerCase()===t.toLowerCase()}));i?l.push(w(i,n,r,u,f)):p.warning("Missing command definition for resource type: {0} with command id {1} specified in commands array from experimentation config".format(f,t))}))):y.forEach((function(t){if(k(t))l.push(w(t,n,r,u,f,b));else return})),l}function ut(n,t,i,r,u,f,o,s,h,c,l){var y,w,k=[],nt=f===null||f===void 0?void 0:f.toLowerCase(),d=i&&i.hiddenCommands,tt=!!(t.commands&&(t.commands.commands||t.commands.selectionCommands)),g=((y=t.commands)===null||y===void 0?void 0:y.selectionCommands)||!tt&&e.BulkCommandDefinitions[nt]||[],v=(i===null||i===void 0?void 0:i.browseCommandExperiments)&&((w=i.browseCommandExperiments[l])===null||w===void 0?void 0:w.selectionCommands);return(v===null||v===void 0?void 0:v.length)&&(!c||c===1)?(a.trace({source:n,action:"BrowseCommandBarExperimentFound",data:{commandSectionType:"SelectionCommands",resourceType:f,treatmentVariableValue:l,commandIds:v.join(",")}}),v.forEach((function(t){var i=g.find((function(n){return n.id.toLowerCase()===t.toLowerCase()}));i?k.push(b(i,n,r,u,f,o,s,h)):p.warning("Missing command definition for resource type: {0} with command id {1} specified in selectionCommands array from experimentation config".format(f,t))}))):g.forEach((function(t){var i,e,l,a=t.visibility&&(t.visibility&c)!==c;d&&(d.includes("*")||d.includes(t.id.toLowerCase()))||c&&c===2&&(((i=t.selection)===null||i===void 0?void 0:i.minSelectedItems)>1||((e=t.commands)===null||e===void 0?void 0:e.length)||a)||c===16||c===1&&a||c===8&&(((l=t.selection)===null||l===void 0?void 0:l.minSelectedItems)>1||a)||k.push(b(t,n,r,u,f,o,s,h))})),k}function ft(n,t,r,u,f,e){var l,a,o=(a=(l=t===null||t===void 0?void 0:t.commands)===null||l===void 0?void 0:l.commands)===null||a===void 0?void 0:a.find((function(n){return n.visibility&32})),v,s;return o?(v=o.bladeReference,v&&v.blade)?h(n,o,r,u,f,e):o.marketplaceItemId?c(n,o,r,f,e):o.commands&&o.commands.length?(s=[],o.commands.forEach((function(t){t.bladeReference&&t.bladeReference.blade?s.push(h(n,t,r,u,f,e)):t.marketplaceItemId&&s.push(c(n,t,r,f,e))})),i.ToolbarItems.createMenuButton(r,{label:o.label,icon:o.icon,buttons:s,ariaLabel:o.ariaLabel,tooltip:o.toolTip})):null:null}function k(n){MsPortalFx.forEachKey(n,(function(t,i){if(i&&typeof i=="string"){var r=decodeURIComponent(i);try{i=JSON.parse(r)}catch(u){i=r}n[t]=i}}))}function d(n,t,i,r,u){(u===void 0&&(u=3),u!==0)&&MsPortalFx.forEachKey(t,(function(f,e){if(e)if(typeof e!="object"||Array.isArray(e)){if(typeof e=="string"&&e.toLowerCase()==="{resourceids}"){var o=r.toLowerCase();t[f]=(o==="microsoft.compute/virtualmachines"||o==="microsoft.classiccompute/virtualmachines")&&n.bladeReference.extension.toLowerCase()==="microsoft_azure_automation"&&n.bladeReference.blade.toLowerCase()==="multivmonboardingblade"?i().map((function(n){return{resourceId:n.id,locationId:n.location}})):i().map((function(n){return n.id}))}}else return d(n,e,i,r,--u)}))}function h(n,t,r,u,f,e,o){var p=t.bladeReference.blade,w=t.bladeReference.extension,c=MsPortalFx.clone(t.bladeReference.parameters),a,h,y;return k(c),a=function(){var i=new v(p,w||u&&u(),{parameters:c});t.bladeReference.inContextPane?e.openContextPane(i):e.openBlade(i,{asSubJourney:!0});l({telemetrySource:n,resourceType:f,commandId:t.id,action:"ExtensibleCommandExecuted",commandType:"OpenBladeCommand"})},h={label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip,telemetryName:f+"-"+t.id,cssClass:o?"ext-hubs-artbrowse-empty-custom-button":"",onClick:a},t.content?(y=MsPortalFx.extend2(h,{content:t.content}),i.ToolbarItems.createMenuItemCustomButton(r,y)):s(r,h)}function c(n,t,u,f,e,o){var a=function(){e.openBlade(r.BladeReferences.forMarketplace().createReference({marketplaceId:t.marketplaceItemId}),{asSubJourney:!0});l({telemetrySource:n,resourceType:f,commandId:t.id,action:"ExtensibleCommandExecuted",commandType:"OpenMarketplaceCommand"})},h={label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip,telemetryName:f+"-"+t.id,onClick:a,cssClass:o?"ext-hubs-artbrowse-empty-custom-button":""},c;return t.content?(c=MsPortalFx.extend2(h,{content:t.content}),i.ToolbarItems.createMenuItemCustomButton(u,c)):s(u,h)}function g(n,t,r,u,f,e,o,h){var a=t.bladeReference.blade,y=t.bladeReference.extension,c=function(){var i=MsPortalFx.clone(t.bladeReference.parameters),u=y||f&&f(),r;k(i);d(t,i,o,e);r=new v(a,u,{parameters:i});t.bladeReference.inContextPane?h.openContextPane(r):h.openBlade(r,{asSubJourney:!0});l({telemetrySource:n,action:"BulkCommandExecuted",commandId:t.id,commandType:"OpenBladeSelectionCommand",resourceType:e,selectionModel:t.selection&&t.selection.maxSelectedItems,numberOfResources:o().length})};return t.content?i.ToolbarItems.createMenuItemCustomButton(u,{label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||r,content:t.content,telemetryName:e+"-"+t.id,disabled:ko.pureComputed((function(){if(t.selection){var i=t.selection,r=i.maxSelectedItems,u=i.minSelectedItems,n=o().length;return!n||r&&n>r||u&&n<u}return!o().length})),disabledMessage:t.selection&&t.selection.disabledMessage,onClick:c}):s(u,{label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||r,telemetryName:e+"-"+t.id,disabled:ko.pureComputed((function(){if(t.selection){var i=t.selection,r=i.maxSelectedItems,u=i.minSelectedItems,n=o().length;return!n||r&&n>r||u&&n<u}return!o().length})),disabledMessage:t.selection&&t.selection.disabledMessage,onClick:c})}function nt(n,t,r,u,e,o,s,h){return i.ToolbarItems.createBasicButton(e,{telemetryName:"{0}.BulkCmd.{1}".format(o,t.id),label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||u,disabled:ko.pureComputed((function(){return!s().length})),onClick:function(){h.openDialog({title:t.confirmation.title,content:t.confirmation.message,buttons:4,telemetryName:"{0}.BulkCmd.{1}".format(o,t.id),onClosed:function(i){var u=new f.BulkCommandImpl(e,n,{resourceType:o,hasSelectedItems:r,selectedBrowseItems:s,onCompleteCallback:function(){return Q()}},t);u.canExecute()&&u.execute(i)}})}})}function tt(n,t,i,f,e,o,h){return s(f,{label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||i,disabled:ko.pureComputed((function(){return!o().length})),telemetryName:e+"-"+t.id,onClick:function(){var i=[],f=o(),s=f.length;s<=u.MaxBatchDeleteResources&&(i=f.map((function(n){return{name:n.name,resourceId:n.id,resourceType:n.type.toLowerCase(),assetType:n.resourceTypeDisplayName,icon:n.icon}})));l({telemetrySource:n,action:"BulkCommandExecuted",commandId:t.id,commandType:"ArmCommand",resourceType:e,selectionModel:t.selection&&t.selection.maxSelectedItems,numberOfResources:o().length});h.openContextPane(r.BladeReferences.forExtension("HubsExtension").forBlade("BulkDeleteBlade").createReference({parameters:{resources:i,commandDefinition:t,resourceType:e,resourceInfoCount:s}}))}})}function l(n){a.trace({source:n.telemetrySource,action:n.action,name:n.commandId,data:{commandType:n.commandType,confirmation:n.confirmation,numberOfResources:n.numberOfResources,resourceType:n.resourceType,selectionModel:n.selectionModel}})}Object.defineProperty(t,"__esModule",{value:!0});t.createServiceHoverCardCommand=t.createSelectionCommands=t.createGenericCommands=void 0;var v=FxImpl.Composition.Selectable.PdlBladeReference,y=MsPortalFx.Base,a=y.Diagnostics.Telemetry,s=i.ToolbarItems.createBasicButton,it=o.BulkCommand,p=y.Diagnostics.createLog(n);t.createGenericCommands=rt;t.createSelectionCommands=ut;t.createServiceHoverCardCommand=ft}));
define("FxHubs/Utilities",["require","exports"],(function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MapWithKeyTransform=void 0;var i=(function(){function n(n){this._map=new Map;this._toInternal=n.sourceToInternal;this._toSource=n.internalToSource}return n.prototype.clear=function(){this._map.clear()},n.prototype.delete=function(n){return this._map.delete(this._toInternal(n))},n.prototype.forEach=function(n,t){var i=this;this._map.forEach((function(r,u){n.call(t,r,i._toSource&&i._toSource(u),i)}),t)},n.prototype.get=function(n){return this._map.get(this._toInternal(n))},n.prototype.has=function(n){return this._map.has(this._toInternal(n))},n.prototype.set=function(n,t){return this._map.set(this._toInternal(n),t),this},Object.defineProperty(n.prototype,"size",{get:function(){return this._map.size},enumerable:!1,configurable:!0}),n})();t.MapWithKeyTransform=i}));
define("FxInternal/Controls/DataGrid",["require","exports","FxInternal/Controls/Grid2/Grid2.DataGrid"],(function(n,t,i){"use strict";function r(n,t){return ko.ignoreDependencies((function(){return new i.ViewModel(n,t)}))}function u(n){return __assign(__assign({},n),{type:"BladeLink"})}function f(n){return __assign(__assign({},n),{type:"CustomLink"})}function e(n){return __assign(__assign({},n),{type:"ResourceLink"})}function o(n){return __assign(__assign({},n),{type:"TagList"})}function s(n){return __assign(__assign({},n),{type:"Template"})}function h(n){return __assign(__assign({},n),{type:"Text"})}function c(n){return __assign(__assign({},n),{type:"UriLink"})}Object.defineProperty(t,"__esModule",{value:!0});t.createUriLinkColumn=t.createTextColumn=t.createTemplateColumn=t.createTagListColumn=t.createResourceLinkColumn=t.createCustomLinkColumn=t.createBladeLinkColumn=t.create=void 0;t.create=r;t.createBladeLinkColumn=u;t.createCustomLinkColumn=f;t.createResourceLinkColumn=e;t.createTagListColumn=o;t.createTemplateColumn=s;t.createTextColumn=h;t.createUriLinkColumn=c}))