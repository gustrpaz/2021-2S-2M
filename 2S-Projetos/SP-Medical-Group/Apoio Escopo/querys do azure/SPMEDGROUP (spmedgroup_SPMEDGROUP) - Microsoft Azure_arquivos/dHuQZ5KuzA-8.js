define("MsPortalImpl.Controls/Fields/TriStateCheckBox",["require","exports","MsPortalImpl.Controls/Fields/Base/Field","Viva.Controls/Controls/Forms/Viva.CheckBox","Viva.Controls/Controls/Base/ValidationPlacements/Viva.DockedBalloon","Viva.Controls/Controls/Base/ValidationPlacements/Viva.Css","MsPortalImpl/Widgets/Widgets.Common","MsPortalImpl.Controls/Fields/CheckBoxField"],(function(n,t,i,r,u,f,e,o){"use strict";function h(n){return n.hasOwnProperty("isAMD")}Object.defineProperty(t,"__esModule",{value:!0});t.Widget=void 0;var s=(function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t.prototype._initializeField=function(){n.prototype._initializeField.call(this);var t=this.element,i=h(this.options);t.addClass("azc-checkBoxField").addClass("azc-triStateCheckBox").addClass("fxc-CheckBoxField").toggleClass("azc-checkBoxField-inlineLabel",this.options.inlineLabel).toggleClass("azc-fabric",i);this._checkBoxInit();e.waitForBindings(t[0]).then((function(){var n="azc-checkbox-guid-"+MsPortalFx.getUniqueId();t.find("input").attr("id",n);t.find("label").attr("for",n);i&&o.wrapLabelUnderTabStop(t)}))},t.prototype.dispose=function(){this._checkBoxWidget&&(this._checkBoxWidget.dispose(),this._checkBoxWidget=null,this._checkBoxViewModel=null);this._cleanElement("azc-checkBoxField","azc-triStateCheckBox","fxc-CheckBoxField","azc-checkBoxField-inlineLabel");n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validatableViewModel",{get:function(){return this._checkBoxViewModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validatableWidget",{get:function(){return this._checkBoxWidget},enumerable:!1,configurable:!0}),t.prototype._checkBoxInit=function(){var n=this.ltm,t=this._checkBoxViewModel=new r.ViewModel({ltm:this.ltm,isTriState:!0});t.validationPlacements.push(new f.Css(n),new u.DockedBalloon(this._diContainer,n,u.DockedBalloon.defaultOptions));this._checkBoxElement=$(FxImpl.createElement("div"));this.appendControl(this._checkBoxElement);this.linkCheckBoxViewModels();this._addWidget(this._checkBoxWidget=new r.Widget(this._checkBoxElement,this._checkBoxViewModel,{},new r.WidgetUIState));this.setupValidationBindings()},t.prototype.linkCheckBoxViewModels=function(){var n=this;this._checkBoxViewModel.value(this._getCheckboxWidgetValue(this.options._msPortalFxWidgetValue()));this.options._msPortalFxWidgetValue.subscribe(this.ltm,(function(t){var i=n._getCheckboxWidgetValue(t);n._checkBoxViewModel.value()!==i&&n._checkBoxViewModel.value(i)}));this._checkBoxViewModel.value.subscribe(this.ltm,(function(t){var i=n._getTriStateCheckboxValue(t);n.options._msPortalFxWidgetValue()!==i&&n.options._msPortalFxWidgetValue(i)}));this._checkBoxViewModel.canUserSetIndeterminate(this.options.canUserSetIndeterminate());this.options.canUserSetIndeterminate.subscribe(this.ltm,(function(t){n._checkBoxViewModel.canUserSetIndeterminate()!==t&&n._checkBoxViewModel.canUserSetIndeterminate(t)}));this._checkBoxViewModel.canUserSetIndeterminate.subscribe(this.ltm,(function(t){n.options.canUserSetIndeterminate()!==t&&n.options.canUserSetIndeterminate(t)}));this.linkValidatableControlViewModels()},t.prototype._getCheckboxWidgetValue=function(n){var t=null;switch(n){case 0:t=0;break;case 1:t=1;break;case 2:t=2}return t},t.prototype._getTriStateCheckboxValue=function(n){var t=null;switch(n){case 0:t=0;break;case 1:t=1;break;case 2:t=2}return t},t.prototype._createLabelAndSubLabel=function(){this.options.inlineLabel?(this._attachLabelAndSubLabel({emptyLabel:!0}),this._attachLabelAndSubLabel({inhibitSubLabel:!0,inlineLabel:!0,insertLabelBefore:this._checkBoxElement})):this._attachLabelAndSubLabel();this._attachAriaBindings({ariaLabel:this.options.ariaLabel})},t})(i.FieldWidget);t.Widget=s}))