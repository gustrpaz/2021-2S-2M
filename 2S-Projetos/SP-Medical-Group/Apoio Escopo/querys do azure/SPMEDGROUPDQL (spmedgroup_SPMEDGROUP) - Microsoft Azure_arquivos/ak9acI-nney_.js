define("FxInternal/Controls/MonitorChartV2",["require","exports"],(function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Internal=void 0;var i=MsPortalFx.Base.Diagnostics,r=MsPortalFx.Errors,u;(function(n){var e=(function(){function n(n,t){this.upperThreshold=MsPortalFx.initObservable(t.upperThreshold,null);this.lowerThreshold=MsPortalFx.initObservable(t.lowerThreshold,null);this.operator=MsPortalFx.initObservable(t.operator,null);this.isLocked=t.isLocked;this.dynamicThreshold=MsPortalFx.initObservable(t.dynamicThreshold,null);this.dynamicThresholdResponse=MsPortalFx.initObservable(t.dynamicThresholdResponse,null);this.id=t.id||MsPortalFx.newGuid()}return n})(),t,u,f,o;n.ThresholdViewModel=e;t=(function(){function n(n,t){var i=(t.thresholds||[]).map((function(t){return new e(n,t)})),r=ko.observableArray(i);this.resourceMetadata=t.resourceMetadata;this.name=t.name;this.namespace=t.namespace;this.metricVisualization=MsPortalFx.initObservable(t.metricVisualization,undefined);this.aggregationType=MsPortalFx.initObservable(t.aggregationType);this.thresholds=r;this.nativeDescription=t.nativeDescription}return n})();n.MetricViewModel=t;u=(function(){function n(n,i){var r=(i.metrics||[]).map((function(i){return new t(n,i)})),u=ko.observableArray(r);this.metrics=u;this.title=MsPortalFx.initObservable(i.title,null);this.titleKind=MsPortalFx.initObservable(i.titleKind,undefined);this.visualization=MsPortalFx.initObservable(i.visualization);this.filterCollection=MsPortalFx.initObservable(i.filterCollection,null);this.grouping=MsPortalFx.initObservable(i.grouping,null);this.openBladeOnClick=MsPortalFx.initObservable(i.openBladeOnClick)}return n})();n.ChartViewModel=u;f=(function(){function n(n,t){this.axisVisualization=MsPortalFx.initObservable(t&&t.axisVisualization);this.legendVisualization=MsPortalFx.initObservable(t&&t.legendVisualization);this.chartType=MsPortalFx.initObservable(t&&t.chartType);this.disablePinning=MsPortalFx.initObservable(t&&t.disablePinning);this.enableAlertToolbar=MsPortalFx.initObservable(t&&t.enableAlertToolbar);this.sortOrder=MsPortalFx.initObservable(t&&t.sortOrder);this.sortIndex=MsPortalFx.initObservable(t&&t.sortIndex);this.colorMap=MsPortalFx.initObservable(t&&t.colorMap);this.enableTimeBrush=MsPortalFx.initObservable(t&&t.enableTimeBrush)}return n})();n.VisualizationViewModel=f;o=(function(n){function e(e,o){var s=n.call(this,e)||this,v,c,h,l,y,p,w,a;if(s._container=e,s.isPartOnDashboard=e.location&&e.location===1,v=Date.now(),s.controlType=126,o&&o.itemDataModel)c=o,s.itemDataModel=MsPortalFx.initObservable(c.itemDataModel,null),s.timeContext=MsPortalFx.initObservable(c.timeContext,null);else{h=o||{metrics:[],ariaLabel:"MonitorChartV2"};l={filterCollection:h.filterCollection,title:h.title,titleKind:h.titleKind,grouping:h.grouping,visualization:h.visualization,metrics:h.metrics,openBladeOnClick:h.openBladeOnClick};try{y=new u(e,l);p=ko.observableArray([y]);s.charts=p;s.title=MsPortalFx.initObservable(h.title,null);s.titleKind=MsPortalFx.initObservable(h.titleKind,undefined);s.ariaLabel=MsPortalFx.initObservable(h.ariaLabel,null);s.filterCollection=MsPortalFx.initObservable(h.filterCollection,null);s.grouping=MsPortalFx.initObservable(h.grouping,null);s.visualization=new f(e,h.visualization);w=(h.metrics.filter((function(n){return n!==undefined}))||[]).map((function(n){return new t(e,n)}));s.metrics=ko.observableArray(w);s.timespan=MsPortalFx.initObservable(h.timespan,{relative:{duration:864e5},grain:1,showUTCTime:!0});s.openBladeOnClick=MsPortalFx.initObservable(h.openBladeOnClick,null)}catch(b){i.Log.writeEntry(2,"MonitorChartV2",new r.Error({message:"ViewModel initialization failed",data:MsPortalFx.sanitizeMessage(MsPortalFx.getObjectDescriptor(l)),innerErrors:b}))}}return a=Q.defer(),s.metricsDataProvider=a.promise,s._msPortalFxMetricsDataProvider=MsPortalFx.initObservable(),s._msPortalFxMetricsDataProvider.subscribe(s._container,(function(n){a.resolve(n)})),s.telemetryData={constructorStartTimestamp:v,constructorEndTimestamp:Date.now(),firstWidgetLoad:ko.observable(!0)},s}return __extends(e,n),e.prototype.openBlade=function(n,t){return Q(this._container.openBlade(n,t))},e})(MsPortalFx.ViewModels.Controls.Loadable.ViewModel);n.ViewModel=o})(u=t.Internal||(t.Internal={}))}))