define("_oss/d3",[],(function(){return window.d3=(function(){function nf(n){return n!=null&&!isNaN(n)}function pa(n){return n.length}function wa(n){for(var t=1;n*t%1;)t*=10;return t}function fs(n,t){try{for(var i in t)Object.defineProperty(n.prototype,i,{value:t[i],enumerable:!1})}catch(r){n.prototype=t}}function ft(){}function es(){}function ba(n,t,i){return function(){var r=i.apply(t,arguments);return r===t?n:r}}function uf(n,t){var i,u,r;if(t in n)return t;for(t=t.charAt(0).toUpperCase()+t.substring(1),i=0,u=ff.length;i<u;++i)if(r=ff[i]+t,r in n)return r}function h(){}function ef(){}function os(n){function r(){for(var i=t,r=-1,f=i.length,u;++r<f;)(u=i[r].on)&&u.apply(this,arguments);return n}var t=[],i=new ft;return r.on=function(r,u){var f=i.get(r),e;return arguments.length<2?f&&f.on:(f&&(f.on=null,t=t.slice(0,e=t.indexOf(f)).concat(t.slice(e+1)),i.remove(r)),u&&t.push(i.set(r,{on:u})),n)},r}function si(){n.event.preventDefault()}function ss(){for(var t=n.event,i;i=t.sourceEvent;)t=i;return t}function hs(t){for(var i=new ef,r=0,u=arguments.length;++r<u;)i[arguments[r]]=os(i);return i.of=function(r,u){return function(f){try{var e=f.sourceEvent=n.event;f.target=t;n.event=f;i[f.type].apply(r,u)}finally{n.event=e}}},i}function pt(n){return hr(n,e),n}function cf(n){return typeof n=="function"?n:function(){return sf(n,this)}}function ls(n){return typeof n=="function"?n:function(){return hf(n,this)}}function as(t,i){function r(){this.removeAttribute(t)}function u(){this.removeAttributeNS(t.space,t.local)}function f(){this.setAttribute(t,i)}function e(){this.setAttributeNS(t.space,t.local,i)}function o(){var n=i.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=i.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=n.ns.qualify(t),i==null?t.local?u:r:typeof i=="function"?t.local?s:o:t.local?e:f}function vs(n){return n.trim().replace(/\s+/g," ")}function ys(t){return new RegExp("(?:^|\\s+)"+n.requote(t)+"(?:\\s+|$)","g")}function ps(n,t){function r(){for(var r=-1;++r<i;)n[r](this,t)}function u(){for(var r=-1,u=t.apply(this,arguments);++r<i;)n[r](this,u)}n=n.trim().split(/\s+/).map(ga);var i=n.length;return typeof t=="function"?u:r}function ga(n){var t=ys(n);return function(i,r){if(u=i.classList)return r?u.add(n):u.remove(n);var u=i.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||i.setAttribute("class",vs(u+" "+n))):i.setAttribute("class",vs(u.replace(t," ")))}}function ws(n,t,i){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,i)}function f(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,i)}return t==null?r:typeof t=="function"?f:u}function bs(t){return typeof t=="function"?t:(t=n.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function lf(n){return{__data__:n}}function wt(n,t){for(var i=0,u=n.length;i<u;i++)for(var f=n[i],r=0,o=f.length,e;r<o;r++)(e=f[r])&&t(e,r,i);return n}function ks(n){return hr(n,tt),n}function nv(){var n=this.__transition__;n&&++n.active}function ds(t,i,r){function e(){var n=this[u];n&&(this.removeEventListener(t,n,n.$),delete this[u])}function s(){var n=o(i,vt(arguments));e.call(this);this.addEventListener(t,this[u]=n,n.$=r);n._=i}function c(){var f=new RegExp("^__on([^.]+)"+n.requote(t)+"$"),u,i,r;for(i in this)(u=i.match(f))&&(r=this[i],this.removeEventListener(u[1],r,r.$),delete this[i])}var u="__on"+t,f=t.indexOf("."),o=gs;return f>0&&(t=t.substring(0,f)),f?i?s:e:i?h:c}function gs(t,i){return function(r){var u=n.event;n.event=r;i[0]=this.__data__;try{t.apply(this,i)}finally{n.event=u}}}function th(){var t=".dragsuppress-"+ ++nh,u="click"+t,r=n.select(p).on("touchmove"+t,si).on("dragstart"+t,si).on("selectstart"+t,si),i,f;return hi&&(i=yt.style,f=i[hi],i[hi]="none"),function(n){r.on(t,null);if(hi&&(i[hi]=f),n){function e(){r.on(u,null)}r.on(u,(function(){si();e()}),!0);setTimeout(e,0)}}}function ih(t,i){var u,r,f,e;return(i.changedTouches&&(i=i.changedTouches[0]),u=t.ownerSVGElement||t,u.createSVGPoint)?(r=u.createSVGPoint(),lr<0&&(p.scrollX||p.scrollY)&&(u=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),f=u[0][0].getScreenCTM(),lr=!(f.f||f.e),u.remove()),lr?(r.x=i.pageX,r.y=i.pageY):(r.x=i.clientX,r.y=i.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]):(e=t.getBoundingClientRect(),[i.clientX-e.left-t.clientLeft,i.clientY-e.top-t.clientTop])}function uh(n){return n>0?1:n<0?-1:0}function fh(n){return n>1?0:n<-1?u:Math.acos(n)}function ni(n){return n>1?w:n<-1?-w:Math.asin(n)}function tv(n){return((n=Math.exp(n))-1/n)/2}function iv(n){return((n=Math.exp(n))+1/n)/2}function eh(n){return(n=Math.sin(n/2))*n}function yf(){}function rv(n,t,i){function e(n){return(n>360?n-=360:n<0&&(n+=360),n<60)?r+(u-r)*n/60:n<180?u:n<240?r+(u-r)*(240-n)/60:r}function f(n){return Math.round(e(n)*255)}var r,u;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:t<0?0:t>1?1:t,i=i<0?0:i>1?1:i,u=i<=.5?i*(1+t):i+t-i*t,r=2*i-u,bi(f(n+120),f(n),f(n-120))}function oh(n,t,i){return new pf(n,t,i)}function pf(n,t,i){this.h=n;this.c=t;this.l=i}function sh(n){return bi(n>>16,n>>8&255,n&255)}function bi(n,t,i){return new wf(n,t,i)}function wf(n,t,i){this.r=n;this.g=t;this.b=i}function ci(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function uv(n,t,i){var r=0,u=0,f=0,o,e,s;if(o=/([a-z]+)\((.*)\)/i.exec(n),o){e=o[2].split(",");switch(o[1]){case"hsl":return i(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return t(d3_rgb_parseNumber(e[0]),d3_rgb_parseNumber(e[1]),d3_rgb_parseNumber(e[2]))}}return(s=ar.get(n))?t(s.r,s.g,s.b):(n!=null&&n.charAt(0)==="#"&&(n.length===4?(r=n.charAt(1),r+=r,u=n.charAt(2),u+=u,f=n.charAt(3),f+=f):n.length===7&&(r=n.substring(1,3),u=n.substring(3,5),f=n.substring(5,7)),r=parseInt(r,16),u=parseInt(u,16),f=parseInt(f,16)),t(r,u,f))}function nt(n){return typeof n=="function"?n:function(){return n}}function a(n){return n}function fv(n){return function(t,i,r){return arguments.length===2&&typeof i=="function"&&(r=i,i=null),bf(t,i,n,r)}}function bf(t,i,r,u){function c(){var n=e.status,t;if(!n&&e.responseText||n>=200&&n<300||n===304){try{t=r.call(f,e)}catch(i){s.error.call(f,i);return}s.load.call(f,t)}else s.error.call(f,e)}var f={},s=n.dispatch("beforesend","progress","load","error"),o={},e=new XMLHttpRequest,h=null;return!p.XDomainRequest||"withCredentials"in e||!/^(http(s)?:)?\/\//.test(t)||(e=new XDomainRequest),"onload"in e?e.onload=e.onerror=c:e.onreadystatechange=function(){e.readyState>3&&c()},e.onprogress=function(t){var i=n.event;n.event=t;try{s.progress.call(f,e)}finally{n.event=i}},f.header=function(n,t){return(n=(n+"").toLowerCase(),arguments.length<2)?o[n]:(t==null?delete o[n]:o[n]=t+"",f)},f.mimeType=function(n){return arguments.length?(i=n==null?null:n+"",f):i},f.responseType=function(n){return arguments.length?(h=n,f):h},f.response=function(n){return r=n,f},["get","post"].forEach((function(n){f[n]=function(){return f.send.apply(f,[n].concat(vt(arguments)))}})),f.send=function(n,r,u){if(arguments.length===2&&typeof r=="function"&&(u=r,r=null),e.open(n,t,!0),i==null||"accept"in o||(o.accept=i+",*/*"),e.setRequestHeader)for(var c in o)e.setRequestHeader(c,o[c]);if(i!=null&&e.overrideMimeType&&e.overrideMimeType(i),h!=null&&(e.responseType=h),u!=null)f.on("error",u).on("load",(function(n){u(null,n)}));return s.beforesend.call(f,e),e.send(r==null?null:r),f},f.abort=function(){return e.abort(),f},n.rebind(f,s,"on"),u==null?f:f.get(ev(u))}function ev(n){return n.length===1?function(t,i){n(t==null?i:null)}:n}function df(){var t=ch(),n=lh()-t;n>24?(isFinite(n)&&(clearTimeout(wr),wr=setTimeout(df,n)),pr=0):(pr=1,kf(df))}function ch(){var n=Date.now();for(ot=vr;ot;)n>=ot.t&&(ot.f=ot.c(n-ot.t)),ot=ot.n;return n}function lh(){for(var t,n=vr,i=Infinity;n;)n.f?n=t?t.n=n.n:vr=n.n:(n.t<i&&(i=n.t),n=(t=n).n);return yr=t,i}function cv(n,t){var i=Math.pow(10,f(8-t)*3);return{scale:t>8?function(n){return n/i}:function(n){return n*i},symbol:n}}function ne(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function lv(n){return n+""}function ie(){}function vh(n,t,i){var r=i.s=n+t,u=r-n,f=r-u;i.t=n-f+(t-u)}function br(n,t){n&&ue.hasOwnProperty(n.type)&&ue[n.type](n,t)}function fe(n,t,i){var u=-1,f=n.length-i,r;for(t.lineStart();++u<f;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function yh(n,t){var i=-1,r=n.length;for(t.polygonStart();++i<r;)fe(n[i],t,1);t.polygonEnd()}function av(){function o(f,e){f*=i;e=e*i/2+u/4;var o=f-n,s=Math.cos(e),h=Math.sin(e),c=r*h,l=t*s+c*Math.cos(o),a=c*Math.sin(o);bt.add(Math.atan2(a,l));n=f;t=s;r=h}var f,e,n,t,r;b.point=function(s,h){b.point=o;n=(f=s)*i;t=Math.cos(h=(e=h)*i/2+u/4);r=Math.sin(h)};b.lineEnd=function(){o(f,e)}}function ti(n){var t=n[0],i=n[1],r=Math.cos(i);return[r*Math.cos(t),r*Math.sin(t),Math.sin(i)]}function dr(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function li(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ee(n,t){n[0]+=t[0];n[1]+=t[1];n[2]+=t[2]}function gr(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function nu(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t;n[1]/=t;n[2]/=t}function tu(n){return[Math.atan2(n[1],n[0]),ni(n[2])]}function iu(n,t){return f(n[0]-t[0])<r&&f(n[1]-t[1])<r}function oe(n,t){n*=i;var r=Math.cos(t*=i);gi(r*Math.cos(n),r*Math.sin(n),Math.sin(t))}function gi(n,t,i){++di;ii+=(n-ii)/di;ri+=(t-ri)/di;st+=(i-st)/di}function ph(){function u(u,f){u*=i;var c=Math.cos(f*=i),o=c*Math.cos(u),s=c*Math.sin(u),h=Math.sin(f),e=Math.atan2(Math.sqrt((e=t*h-r*s)*e+(e=r*o-n*h)*e+(e=n*s-t*o)*e),n*o+t*s+r*h);ru+=e;kt+=e*(n+(n=o));dt+=e*(t+(t=s));it+=e*(r+(r=h));gi(n,t,r)}var n,t,r;d.point=function(f,e){f*=i;var o=Math.cos(e*=i);n=o*Math.cos(f);t=o*Math.sin(f);r=Math.sin(e);d.point=u;gi(n,t,r)}}function wh(){d.point=oe}function vv(){function e(u,f){u*=i;var p=Math.cos(f*=i),e=p*Math.cos(u),o=p*Math.sin(u),s=Math.sin(f),c=t*s-r*o,l=r*e-n*s,a=n*o-t*e,v=Math.sqrt(c*c+l*l+a*a),w=n*e+t*o+r*s,y=v&&-fh(w)/v,h=Math.atan2(v,w);ai+=y*c;vi+=y*l;gt+=y*a;ru+=h;kt+=h*(n+(n=e));dt+=h*(t+(t=o));it+=h*(r+(r=s));gi(n,t,r)}var u,f,n,t,r;d.point=function(o,s){u=o;f=s;d.point=e;o*=i;var h=Math.cos(s*=i);n=h*Math.cos(o);t=h*Math.sin(o);r=Math.sin(s);gi(n,t,r)};d.lineEnd=function(){e(u,f);d.lineEnd=wh;d.point=oe}}function yi(){return!0}function bh(n,t,i,r,u){var h=[],s=[],v,o,l,f,c,a,e;if(n.forEach((function(n){var o,i,f,e,t,r;if(!((o=n.length-1)<=0)){if(i=n[0],f=n[o],iu(i,f)){for(u.lineStart(),e=0;e<o;++e)u.point((i=n[e])[0],i[1]);u.lineEnd();return}t=new uu(i,n,null,!0);r=new uu(i,null,t,!1);t.o=r;h.push(t);s.push(r);t=new uu(f,n,null,!1);r=new uu(f,null,t,!0);t.o=r;h.push(t);s.push(r)}})),s.sort(t),kh(h),kh(s),h.length){for(var e=0,y=i,a=s.length;e<a;++e)s[e].e=y=!y;for(v=h[0];;){for(f=v,c=!0;f.v;)if((f=f.n)===v)return;o=f.z;u.lineStart();do{if(f.v=f.o.v=!0,f.e){if(c)for(e=0,a=o.length;e<a;++e)u.point((l=o[e])[0],l[1]);else r(f.x,f.n.x,1,u);f=f.n}else{if(c)for(o=f.p.z,e=o.length-1;e>=0;--e)u.point((l=o[e])[0],l[1]);else r(f.x,f.p.x,-1,u);f=f.p}f=f.o;o=f.z;c=!c}while(!f.v);u.lineEnd()}}}function kh(n){if(r=n.length){for(var r,u=0,t=n[0],i;++u<r;)t.n=i=n[u],i.p=t,t=i;t.n=i=n[0];i.p=t}}function uu(n,t,i,r){this.x=n;this.z=t;this.o=i;this.e=r;this.v=!1;this.n=this.p=null}function dh(t,i,r,u){return function(f,e){function v(n,i){var r=f(n,i);t(n=r[0],i=r[1])&&e.point(n,i)}function d(n,t){var i=f(n,t);a.point(i[0],i[1])}function y(){o.point=d;a.lineStart()}function p(){o.point=v;a.lineEnd()}function b(n,t){h.push([n,t]);var i=f(n,t);c.point(i[0],i[1])}function g(){c.lineStart();h=[]}function nt(){var t,r,f;b(h[0][0],h[0][1]);c.lineEnd();var u=c.clean(),n=w.buffer(),i,t=n.length;if(h.pop(),l.push(h),h=null,t){if(u&1){for(i=n[0],t=i.length-1,r=-1,e.lineStart();++r<t;)e.point((f=i[r])[0],f[1]);e.lineEnd();return}t>1&&u&2&&n.push(n.pop().concat(n.shift()));s.push(n.filter(yv))}}var a=i(e),k=f.invert(u[0],u[1]),o={point:v,lineStart:y,lineEnd:p,polygonStart:function(){o.point=b;o.lineStart=g;o.lineEnd=nt;s=[];l=[];e.polygonStart()},polygonEnd:function(){o.point=v;o.lineStart=y;o.lineEnd=p;s=n.merge(s);var t=wv(k,l);s.length?bh(s,pv,t,r,e):t&&(e.lineStart(),r(null,null,1,e),e.lineEnd());e.polygonEnd();s=l=null},sphere:function(){e.polygonStart();e.lineStart();r(null,null,1,e);e.lineEnd();e.polygonEnd()}},s,w=gh(),c=i(w),l,h;return o}}function yv(n){return n.length>1}function gh(){var n=[],t;return{lineStart:function(){n.push(t=[])},point:function(n,i){t.push([n,i])},lineEnd:h,buffer:function(){var i=n;return n=[],t=null,i},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function pv(n,t){return((n=n.x)[0]<0?n[1]-w-r:w-n[1])-((t=t.x)[0]<0?t[1]-w-r:w-t[1])}function wv(n,t){var o=n[0],g=n[1],ht=[Math.sin(o),-Math.cos(o),0],v=0,nt=0,s,tt,h,y,e,b,d;for(bt.reset(),s=0,tt=t.length;s<tt;++s)if(h=t[s],y=h.length,y)for(var c=h[0],p=c[0],it=c[1]/2+u/4,rt=Math.sin(it),ut=Math.cos(it),l=1;;){l===y&&(l=0);n=h[l];var w=n[0],ft=n[1]/2+u/4,et=Math.sin(ft),ot=Math.cos(ft),i=w-p,a=f(i)>u,st=rt*et;if(bt.add(Math.atan2(st*Math.sin(i),ut*ot+st*Math.cos(i))),v+=a?i+(i>=0?k:-k):i,a^p>=o^w>=o&&(e=li(ti(c),ti(n)),nu(e),b=li(ht,e),nu(b),d=(a^i>=0?-1:1)*ni(b[2]),(g>d||g===d&&(e[0]||e[1]))&&(nt+=a^i>=0?1:-1)),!l++)break;p=w;rt=et;ut=ot;c=n}return(v<-r||v<r&&bt<0)^nt&1}function bv(n){var i=NaN,t=NaN,e=NaN,o;return{lineStart:function(){n.lineStart();o=1},point:function(s,h){var c=s>0?u:-u,l=f(s-i);f(l-u)<r?(n.point(i,t=(t+h)/2>0?w:-w),n.point(e,t),n.lineEnd(),n.lineStart(),n.point(c,t),n.point(s,t),o=0):e!==c&&l>=u&&(f(i-e)<r&&(i-=e*r),f(s-c)<r&&(s-=c*r),t=kv(i,t,s,h),n.point(e,t),n.lineEnd(),n.lineStart(),n.point(c,t),o=0);n.point(i=s,t=h);e=c},lineEnd:function(){n.lineEnd();i=t=NaN},clean:function(){return 2-o}}}function kv(n,t,i,u){var e,o,s=Math.sin(n-i);return f(s)>r?Math.atan((Math.sin(t)*(o=Math.cos(u))*Math.sin(i)-Math.sin(u)*(e=Math.cos(t))*Math.sin(n))/(e*o*s)):(t+u)/2}function dv(n,t,i,e){var o,s;n==null?(o=i*w,e.point(-u,o),e.point(0,o),e.point(u,o),e.point(u,0),e.point(u,-o),e.point(0,-o),e.point(-u,-o),e.point(-u,0),e.point(-u,o)):f(n[0]-t[0])>r?(s=n[0]<t[0]?u:-u,o=i*s/2,e.point(-s,o),e.point(0,o),e.point(s,o)):e.point(t[0],t[1])}function gv(n){function s(n,i){return Math.cos(n)*Math.cos(i)>t}function a(n){var t,a,i,l,f;return{lineStart:function(){l=i=!1;f=1},point:function(v,y){var p=[v,y],w,b=s(v,y),d=e?b?0:h(v,y):b?h(v+(v<0?u:-u),y):0,k;!t&&(l=i=b)&&n.lineStart();b!==i&&(w=o(t,p),(iu(t,w)||iu(p,w))&&(p[0]+=r,p[1]+=r,b=s(p[0],p[1])));b!==i?(f=0,b?(n.lineStart(),w=o(p,t),n.point(w[0],w[1])):(w=o(t,p),n.point(w[0],w[1]),n.lineEnd()),t=w):c&&t&&e^b&&(d&a||!(k=o(p,t,!0))||(f=0,e?(n.lineStart(),n.point(k[0][0],k[0][1]),n.point(k[1][0],k[1][1]),n.lineEnd()):(n.point(k[1][0],k[1][1]),n.lineEnd(),n.lineStart(),n.point(k[0][0],k[0][1]))));!b||t&&iu(t,p)||n.point(p[0],p[1]);t=p;i=b;a=d},lineEnd:function(){i&&n.lineEnd();t=null},clean:function(){return f|(l&&i)<<1}}}function o(n,i,e){var et=ti(n),ot=ti(i),rt=[1,0,0],a=li(et,ot),ut=dr(a,a),b=a[0],k=ut-b*b,g,o,it;if(!k)return!e&&n;var st=t*ut/k,ht=-t*b/k,ct=li(rt,a),s=gr(rt,st),lt=gr(a,ht);ee(s,lt);var v=ct,p=dr(s,v),d=dr(v,v),ft=p*p-d*(dr(s,s)-1);if(!(ft<0)){if(g=Math.sqrt(ft),o=gr(v,(-p-g)/d),ee(o,s),o=tu(o),!e)return o;var h=n[0],y=i[0],c=n[1],l=i[1],w;y<h&&(w=h,h=y,y=w);var nt=y-h,tt=f(nt-u)<r,at=tt||nt<r;return!tt&&l<c&&(w=c,c=l,l=w),(at?tt?c+l>0^o[1]<(f(o[0]-h)<r?c:l):c<=o[1]&&o[1]<=l:nt>u^(h<=o[0]&&o[0]<=y))?(it=gr(v,(-p+g)/d),ee(it,s),[o,tu(it)]):void 0}}function h(t,i){var f=e?n:u-n,r=0;return t<-f?r|=1:t>f&&(r|=2),i<-f?r|=4:i>f&&(r|=8),r}var t=Math.cos(n),e=t>0,c=f(t)>r,l=ye(n,6*i);return dh(s,a,l,e?[0,-n]:[-u,n-u])}function ny(n,t,i,r){return function(u){var a=u.a,v=u.b,c=a.x,l=a.y,y=v.x,p=v.y,e=0,o=1,s=y-c,h=p-l,f;if(f=n-c,s||!(f>0)){if(f/=s,s<0){if(f<e)return;f<o&&(o=f)}else if(s>0){if(f>o)return;f>e&&(e=f)}if(f=i-c,s||!(f<0)){if(f/=s,s<0){if(f>o)return;f>e&&(e=f)}else if(s>0){if(f<e)return;f<o&&(o=f)}if(f=t-l,h||!(f>0)){if(f/=h,h<0){if(f<e)return;f<o&&(o=f)}else if(h>0){if(f>o)return;f>e&&(e=f)}if(f=r-l,h||!(f<0)){if(f/=h,h<0){if(f>o)return;f>e&&(e=f)}else if(h>0){if(f<e)return;f<o&&(o=f)}return e>0&&(u.a={x:c+e*s,y:l+e*h}),o<1&&(u.b={x:c+o*s,y:l+o*h}),u}}}}}}function nc(t,i,u,e){function o(n,e){return f(n[0]-t)<r?e>0?0:3:f(n[0]-u)<r?e>0?2:1:f(n[1]-i)<r?e>0?1:0:e>0?3:2}function h(n,t){return s(n.x,t.x)}function s(n,t){var i=o(n,1),r=o(t,1);return i!==r?i-r:i===0?t[1]-n[1]:i===1?n[0]-t[0]:i===2?n[1]-t[1]:t[0]-n[0]}return function(r){function st(n){for(var r=0,s=c.length,u=n[1],f=0;f<s;++f)for(var e=1,o=c[f],h=o.length,i=o[0],t;e<h;++e)t=o[e],i[1]<=u?t[1]>u&&d(i,t,n)>0&&++r:t[1]<=u&&d(i,t,n)<0&&--r,i=t;return r!==0}function d(n,t,i){return(t[0]-n[0])*(i[1]-n[1])-(i[0]-n[0])*(t[1]-n[1])}function g(n,r,f,h){var c=0,l=0;if(n==null||(c=o(n,f))!==(l=o(r,f))||s(n,r)<0^f>0){do h.point(c===0||c===3?t:u,c>1?e:i);while((c=(c+f+4)%4)!==l)}else h.point(r[0],r[1])}function nt(n,r){return t<=n&&n<=u&&i<=r&&r<=e}function tt(n,t){nt(n,t)&&r.point(n,t)}function ht(){p.point=ft;c&&c.push(y=[]);k=!0;l=!1;w=b=NaN}function ct(){f&&(ft(it,rt),ut&&l&&v.rejoin(),f.push(v.buffer()));p.point=tt;l&&r.lineEnd()}function ft(n,t){var i,u;n=Math.max(-nr,Math.min(nr,n));t=Math.max(-nr,Math.min(nr,t));i=nt(n,t);c&&y.push([n,t]);k?(it=n,rt=t,ut=i,k=!1,i&&(r.lineStart(),r.point(n,t))):i&&l?r.point(n,t):(u={a:{x:w,y:b},b:{x:n,y:t}},ot(u)?(l||(r.lineStart(),r.point(u.a.x,u.a.y)),r.point(u.b.x,u.b.y),i||r.lineEnd(),a=!1):i&&(r.lineStart(),r.point(n,t),a=!1));w=n;b=t;l=i}var et=r,v=gh(),ot=ny(t,i,u,e),f,c,y,p={point:tt,lineStart:ht,lineEnd:ct,polygonStart:function(){r=v;f=[];c=[];a=!0},polygonEnd:function(){r=et;f=n.merge(f);var i=st([t,e]),u=a&&i,o=f.length;(u||o)&&(r.polygonStart(),u&&(r.lineStart(),g(null,null,1,r),r.lineEnd()),o&&bh(f,h,i,g,r),r.polygonEnd());f=c=y=null}},it,rt,ut,w,b,l,k,a;return p}}function tc(n,t){function i(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(i.invert=function(i,r){return i=t.invert(i,r),i&&n.invert(i[0],i[1])}),i}function he(n){var t=0,i=u/3,r=ae(n),f=r(t,i);return f.parallels=function(n){return arguments.length?r(t=n[0]*u/180,i=n[1]*u/180):[t/u*180,i/u*180]},f}function ic(n,t){function e(n,t){var r=Math.sqrt(u-2*i*Math.sin(t))/i;return[r*Math.sin(n*=i),f-r*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),f=Math.sqrt(u)/i;return e.invert=function(n,t){var r=f-t;return[Math.atan2(n,r)/i,ni((u-(n*n+r*r)*i*i)/(2*i))]},e}function ty(){function u(i,r){le+=t*i-n*r;n=i;t=r}var i,r,n,t;ht.point=function(f,e){ht.point=u;i=n=f;r=t=e};ht.lineEnd=function(){u(i,r)}}function iy(n,t){n<fu&&(fu=n);n>ou&&(ou=n);t<eu&&(eu=t);t>su&&(su=t)}function ry(){function i(n,i){t.push("M",n,",",i,r)}function f(i,r){t.push("M",i,",",r);n.point=e}function e(n,i){t.push("L",n,",",i)}function u(){n.point=i}function o(){t.push("Z")}var r=uc(4.5),t=[],n={point:i,lineStart:function(){n.point=f},lineEnd:u,polygonStart:function(){n.lineEnd=o},polygonEnd:function(){n.lineEnd=u;n.point=i},pointRadius:function(t){return r=uc(t),n},result:function(){if(t.length){var n=t.join("");return t=[],n}}};return n}function uc(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function ui(n,t){ii+=n;ri+=t;++st}function fc(){function i(i,r){var f=i-n,e=r-t,u=Math.sqrt(f*f+e*e);kt+=u*(n+i)/2;dt+=u*(t+r)/2;it+=u;ui(n=i,t=r)}var n,t;g.point=function(r,u){g.point=i;ui(n=r,t=u)}}function ec(){g.point=ui}function uy(){function u(i,r){var f=i-n,e=r-t,u=Math.sqrt(f*f+e*e);kt+=u*(n+i)/2;dt+=u*(t+r)/2;it+=u;u=t*i-n*r;ai+=u*(n+i);vi+=u*(t+r);gt+=u*3;ui(n=i,t=r)}var i,r,n,t;g.point=function(f,e){g.point=u;ui(i=n=f,r=t=e)};g.lineEnd=function(){u(i,r)}}function fy(n){function i(t,i){n.moveTo(t,i);n.arc(t,i,r,0,k)}function f(i,r){n.moveTo(i,r);t.point=e}function e(t,i){n.lineTo(t,i)}function u(){t.point=i}function o(){n.closePath()}var r=4.5,t={point:i,lineStart:function(){t.point=f},lineEnd:u,polygonStart:function(){t.lineEnd=o},polygonEnd:function(){t.lineEnd=u;t.point=i},pointRadius:function(n){return r=n,t},result:h};return t}function oc(n){function o(n){return(u?c:h)(n)}function h(t){return hc(t,(function(i,r){i=n(i,r);t.point(i[0],i[1])}))}function c(t){function g(i,r){i=n(i,r);t.point(i[0],i[1])}function l(){r=NaN;i.point=a;t.lineStart()}function a(i,l){var a=ti([i,l]),v=n(i,l);e(r,f,c,o,s,h,r=v[0],f=v[1],c=i,o=a[0],s=a[1],h=a[2],u,t);t.point(r,f)}function v(){i.point=g;t.lineEnd()}function tt(){l();i.point=it;i.lineEnd=rt}function it(n,t){a(y=n,nt=t);p=r;w=f;b=o;k=s;d=h;i.point=a}function rt(){e(r,f,c,o,s,h,p,w,y,b,k,d,u,t);i.lineEnd=v;v()}var y,nt,p,w,b,k,d,c,r,f,o,s,h,i={point:g,lineStart:l,lineEnd:v,polygonStart:function(){t.polygonStart();i.lineStart=tt},polygonEnd:function(){t.polygonEnd();i.lineStart=l}};return i}function e(i,u,o,h,c,l,a,v,y,p,w,b,k,d){var it=a-i,rt=v-u,et=it*it+rt*rt;if(et>4*t&&k--){var nt=h+p,tt=c+w,g=l+b,ot=Math.sqrt(nt*nt+tt*tt+g*g),vt=Math.asin(g/=ot),st=f(f(g)-1)<r||f(o-y)<r?(o+y)/2:Math.atan2(tt,nt),ht=n(st,vt),ut=ht[0],ft=ht[1],ct=ut-i,lt=ft-u,at=rt*ct-it*lt;(at*at/et>t||f((it*ct+rt*lt)/et-.5)>.3||h*p+c*w+l*b<s)&&(e(i,u,o,h,c,l,ut,ft,st,nt/=ot,tt/=ot,g,k,d),d.point(ut,ft),e(ut,ft,st,nt,tt,g,a,v,y,p,w,b,k,d))}}var t=.5,s=Math.cos(30*i),u=16;return o.precision=function(n){return arguments.length?(u=(t=n*n)>0&&16,o):Math.sqrt(t)},o}function ey(n){var t=oc((function(t,i){return n([t*s,i*s])}));return function(n){return cc(t(n))}}function sc(n){this.stream=n}function hc(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ct(n){return ae((function(){return n}))()}function ae(t){function u(n){return n=l(n[0]*i,n[1]*i),[n[0]*r+h,c-n[1]*r]}function et(n){return n=l.invert((n[0]-h)/r,(c-n[1])/r),n&&[n[0]*s,n[1]*s]}function o(){l=tc(tt=ve(b,k,d),e);var n=e(p,w);return h=v-n[0]*r,c=y+n[1]*r,nt()}function nt(){return f&&(f.valid=!1,f=null),u}var e,tt,l,it=oc((function(n,t){return n=e(n,t),[n[0]*r+h,c-n[1]*r]})),r=150,v=480,y=250,p=0,w=0,b=0,k=0,d=0,h,c,rt=se,ut=a,g=null,ft=null,f;return u.stream=function(n){return f&&(f.valid=!1),f=cc(rt(tt,it(ut(n)))),f.valid=!0,f},u.clipAngle=function(n){return arguments.length?(rt=n==null?(g=n,se):gv((g=+n)*i),nt()):g},u.clipExtent=function(n){return arguments.length?(ft=n,ut=n?nc(n[0][0],n[0][1],n[1][0],n[1][1]):a,nt()):ft},u.scale=function(n){return arguments.length?(r=+n,o()):r},u.translate=function(n){return arguments.length?(v=+n[0],y=+n[1],o()):[v,y]},u.center=function(n){return arguments.length?(p=n[0]%360*i,w=n[1]%360*i,o()):[p*s,w*s]},u.rotate=function(n){return arguments.length?(b=n[0]%360*i,k=n[1]%360*i,d=n.length>2?n[2]%360*i:0,o()):[b*s,k*s,d*s]},n.rebind(u,it,"precision"),function(){return e=t.apply(this,arguments),u.invert=e.invert&&et,o()}}function cc(n){return hc(n,(function(t,r){n.point(t*i,r*i)}))}function tr(n,t){return[n,t]}function lc(n,t){return[n>u?n-k:n<-u?n+k:n,t]}function ve(n,t,i){return n?t||i?tc(vc(n),yc(t,i)):vc(n):t||i?yc(t,i):lc}function ac(n){return function(t,i){return t+=n,[t>u?t-k:t<-u?t+k:t,i]}}function vc(n){var t=ac(n);return t.invert=ac(-n),t}function yc(n,t){function e(n,t){var e=Math.cos(t),o=Math.cos(n)*e,s=Math.sin(n)*e,h=Math.sin(t),c=h*i+o*r;return[Math.atan2(s*u-c*f,o*i-h*r),ni(c*u+s*f)]}var i=Math.cos(n),r=Math.sin(n),u=Math.cos(t),f=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),o=Math.cos(n)*e,s=Math.sin(n)*e,h=Math.sin(t),c=h*u-s*f;return[Math.atan2(s*u+h*f,o*i+c*r),ni(c*i-o*r)]},e}function ye(n,t){var i=Math.cos(n),r=Math.sin(n);return function(u,f,e,o){var h=e*t,c,s;for(u!=null?(u=pc(i,u),f=pc(i,f),(e>0?u<f:u>f)&&(u+=e*k)):(u=n+e*k,f=n-.5*h),s=u;e>0?s>f:s<f;s-=h)o.point((c=tu([i,-r*Math.cos(s),-r*Math.sin(s)]))[0],c[1])}}function pc(n,t){var i=ti(t),u;return i[0]-=n,nu(i),u=fh(-i[1]),((-i[2]<0?-u:u)+2*Math.PI-r)%(2*Math.PI)}function wc(t,i,u){var f=n.range(t,i-r,u).concat(i);return function(n){return f.map((function(t){return[n,t]}))}}function bc(t,i,u){var f=n.range(t,i-r,u).concat(i);return function(n){return f.map((function(t){return[t,n]}))}}function oy(n){return n.source}function sy(n){return n.target}function hy(n,t,i,r){var f=Math.cos(t),c=Math.sin(t),e=Math.cos(r),l=Math.sin(r),a=f*Math.cos(n),v=f*Math.sin(n),y=e*Math.cos(i),p=e*Math.sin(i),u=2*Math.asin(Math.sqrt(eh(r-t)+f*e*eh(i-n))),o=1/Math.sin(u),h=u?function(n){var t=Math.sin(n*=u)*o,i=Math.sin(u-n)*o,r=i*a+t*y,f=i*v+t*p,e=i*c+t*l;return[Math.atan2(f,r)*s,Math.atan2(e,Math.sqrt(r*r+f*f))*s]}:function(){return[n*s,t*s]};return h.distance=u,h}function cy(){function u(u,e){var h=Math.sin(e*=i),s=Math.cos(e),o=f((u*=i)-r),c=Math.cos(o);pe+=Math.atan2(Math.sqrt((o=s*Math.sin(o))*o+(o=t*h-n*s*c)*o),n*h+t*s*c);r=u;n=h;t=s}var r,n,t;fi.point=function(f,e){r=f*i;n=Math.sin(e*=i);t=Math.cos(e);fi.point=u};fi.lineEnd=function(){fi.point=fi.lineEnd=h}}function we(n,t){var i=Math.sqrt(Math.PI*(4+Math.PI));return[2/i*n*(1+Math.sqrt(1-4*t*t/(Math.PI*Math.PI))),4/i*t]}function ir(n,t){function i(t,i){var f=Math.cos(t),r=Math.cos(i),u=n(f*r);return[u*r*Math.sin(t),u*Math.sin(i)]}return i.invert=function(n,i){var r=Math.sqrt(n*n+i*i),u=t(r),f=Math.sin(u),e=Math.cos(u);return[Math.atan2(n*f,r*e),Math.asin(r&&i*f/r)]},i}function kc(n,t){function h(n,t){var u=f(f(t)-w)<r?0:o/Math.pow(e(t),i);return[u*Math.sin(i*n),o-u*Math.cos(i*n)]}var s=Math.cos(n),e=function(n){return Math.tan(u/4+n/2)},i=n===t?Math.sin(n):Math.log(s/Math.cos(t))/Math.log(e(t)/e(n)),o=s*Math.pow(e(n),i)/i;return i?(h.invert=function(n,t){var r=o-t,u=uh(i)*Math.sqrt(n*n+r*r);return[Math.atan2(n,r)/i,2*Math.atan(Math.pow(o/u,1/i))-w]},h):hu}function dc(n,t){function o(n,t){var r=u-t;return[r*Math.sin(i*n),u-r*Math.cos(i*n)]}var e=Math.cos(n),i=n===t?Math.sin(n):(e-Math.cos(t))/(t-n),u=e/i+n;return f(i)<r?tr:(o.invert=function(n,t){var r=u-t;return[Math.atan2(n,r)/i,u-uh(i)*Math.sqrt(n*n+r*r)]},o)}function hu(n,t){return[n,Math.log(Math.tan(u/4+t/2))]}function gc(n){var t=ct(n),r=t.scale,f=t.translate,e=t.clipExtent,i;return t.scale=function(){var n=r.apply(t,arguments);return n===t?i?t.clipExtent(null):t:n},t.translate=function(){var n=f.apply(t,arguments);return n===t?i?t.clipExtent(null):t:n},t.clipExtent=function(n){var h=e.apply(t,arguments),o,s;return h===t?(i=n==null)&&(o=u*r(),s=f(),e([[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]])):i&&(h=null),h},t.clipExtent(null)}function to(n,t){var i=Math.cos(t)*Math.sin(n);return[Math.log((1+i)/(1-i))/2,Math.atan2(Math.tan(t),Math.cos(n))]}function io(n){return n[0]}function nl(n){return n[1]}function ro(t,i){t=n.rgb(t);i=n.rgb(i);var r=t.r,u=t.g,f=t.b,e=i.r-r,o=i.g-u,s=i.b-f;return function(n){return"#"+ci(Math.round(r+e*n))+ci(Math.round(u+o*n))+ci(Math.round(f+s*n))}}function tl(n,t){return t-=n=+n,function(i){return n+t*i}}function il(n,t){var s,u,f,h=0,c=0,r=[],e=[],o,i;for(n=n+"",t=t+"",rr.lastIndex=0,u=0;s=rr.exec(t);++u)s.index&&r.push(t.substring(h,c=s.index)),e.push({i:r.length,x:s[0]}),r.push(null),h=rr.lastIndex;for(h<t.length&&r.push(t.substring(h)),u=0,o=e.length;(s=rr.exec(n))&&u<o;++u)if(i=e[u],i.x==s[0]){if(i.i)if(r[i.i+1]==null)for(r[i.i-1]+=i.x,r.splice(i.i,1),f=u+1;f<o;++f)e[f].i--;else for(r[i.i-1]+=i.x+r[i.i+1],r.splice(i.i,2),f=u+1;f<o;++f)e[f].i-=2;else if(r[i.i+1]==null)r[i.i]=i.x;else for(r[i.i]=i.x+r[i.i+1],r.splice(i.i+1,1),f=u+1;f<o;++f)e[f].i--;e.splice(u,1);o--;u--}else i.x=tl(parseFloat(s[0]),parseFloat(i.x));while(u<o)i=e.pop(),r[i.i+1]==null?r[i.i]=i.x:(r[i.i]=i.x+r[i.i+1],r.splice(i.i+1,1)),o--;return r.length===1?r[0]==null?(i=e[0].x,function(n){return i(n)+""}):function(){return t}:function(n){for(u=0;u<o;++u)r[(i=e[u]).i]=i.x(n);return r.join("")}}function ur(t,i){for(var r=n.interpolators.length,u;--r>=0&&!(u=n.interpolators[r](t,i)););return u}function py(n){return function(t){return t<=0?0:t>=1?1:n(t)}}function ul(n){return function(t){return 1-n(1-t)}}function fl(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function wy(n){return n*n}function by(n){return n*n*n}function ky(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,i=t*n;return 4*(n<.5?i:3*(n-t)+i-.75)}function dy(n){return function(t){return Math.pow(t,n)}}function gy(n){return 1-Math.cos(n*w)}function np(n){return Math.pow(2,10*(n-1))}function tp(n){return 1-Math.sqrt(1-n*n)}function ip(n,t){var i;return arguments.length<2&&(t=.45),arguments.length?i=t/k*Math.asin(1/n):(n=1,i=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-i)*k/t)}}function rp(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function up(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function ep(n,t){return t=t-(n=+n)?1/(t-n):0,function(i){return(i-n)*t}}function op(n,t){return t=t-(n=+n)?1/(t-n):0,function(i){return Math.max(0,Math.min(1,(i-n)*t))}}function hp(n){return n.x}function cp(n){return n.y}function lp(n,t,i){n.y0=t;n.y=i}function uo(t){return n.range(t.length)}function fo(n){for(var t=-1,r=n[0].length,i=[];++t<r;)i[t]=0;return i}function pi(n){var t=n[0],i=n[n.length-1];return t<i?[t,i]:[i,t]}function cu(n){return n.rangeExtent?n.rangeExtent():pi(n.range())}function ap(n,t,i,r){var u=i(n[0],n[1]),f=r(t[0],t[1]);return function(n){return f(u(n))}}function eo(n,t){var i=0,r=n.length-1,u=n[i],f=n[r],e;return f<u&&(e=i,i=r,r=e,e=u,u=f,f=e),n[i]=t.floor(u),n[r]=t.ceil(f),n}function vp(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:sl}function hl(n,t,i,r){function f(){var f=Math.min(n.length,t.length)>2?d3_scale_polylinear:ap,s=r?op:ep;return e=f(n,t,s,i),o=f(t,n,s,ur),u}function u(n){return e(n)}var e,o;return u.invert=function(n){return o(n)},u.domain=function(t){return arguments.length?(n=t.map(Number),f()):n},u.range=function(n){return arguments.length?(t=n,f()):t},u.rangeRound=function(n){return u.range(n).interpolate(d3_interpolateRound)},u.clamp=function(n){return arguments.length?(r=n,f()):r},u.interpolate=function(n){return arguments.length?(i=n,f()):i},u.ticks=function(t){return ll(n,t)},u.tickFormat=function(t,i){return al(n,t,i)},u.nice=function(t){return cl(n,t),f()},u.copy=function(){return hl(n,t,i,r)},f()}function oo(t,i){return n.rebind(t,i,"range","rangeRound","interpolate","clamp")}function cl(n,t){return eo(n,vp(fr(n,t)[2]))}function fr(n,t){t==null&&(t=10);var r=pi(n),f=r[1]-r[0],i=Math.pow(10,Math.floor(Math.log(f/t)/Math.LN10)),u=t/f*i;return u<=.15?i*=10:u<=.35?i*=5:u<=.75&&(i*=2),r[0]=Math.ceil(r[0]/i)*i,r[1]=Math.floor(r[1]/i)*i+i*.5,r[2]=i,r}function ll(t,i){return n.range.apply(n,fr(t,i))}function al(t,i,r){var u=fr(t,i);return n.format(r?r.replace(gf,(function(n,t,i,r,f,e,o,s,h,c){return[t,i,r,f,e,o,s,h||"."+yp(c,u),c].join("")})):",."+so(u[2])+"f")}function so(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function yp(n,t){var i=so(t[2]);return n in vl?Math.abs(i-so(Math.max(Math.abs(t[0]),Math.abs(t[1]))))+ +(n!=="e"):i-(n==="%")*2}function yl(t,i,r,u){function e(n){return(r?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(i)}function o(n){return r?Math.pow(i,n):-Math.pow(i,-n)}function f(n){return t(e(n))}return f.invert=function(n){return o(t.invert(n))},f.domain=function(n){return arguments.length?(r=n[0]>=0,t.domain((u=n.map(Number)).map(e)),f):u},f.base=function(n){return arguments.length?(i=+n,t.domain(u.map(e)),f):i},f.nice=function(){var n=eo(u.map(e),r?Math:pl);return t.domain(n),u=n.map(o),f},f.ticks=function(){var h=pi(u),t=[],c=h[0],l=h[1],n=Math.floor(e(c)),s=Math.ceil(e(l)),a=i%1?2:i,f;if(isFinite(s-n)){if(r){for(;n<s;n++)for(f=1;f<a;f++)t.push(o(n)*f);t.push(o(n))}else for(t.push(o(n));n++<s;)for(f=a-1;f>0;f--)t.push(o(n)*f);for(n=0;t[n]<c;n++);for(s=t.length;t[s-1]>l;s--);t=t.slice(n,s)}return t},f.tickFormat=function(t,i){if(!arguments.length)return ho;arguments.length<2?i=ho:typeof i!="function"&&(i=n.format(i));var s=Math.max(.1,t/f.ticks().length),h=r?(u=1e-12,Math.ceil):(u=-1e-12,Math.floor),u;return function(n){return n/o(h(e(n)+u))<=s?i(n):""}},f.copy=function(){return yl(t.copy(),i,r,u)},oo(f,t)}function wl(n,t,i){function r(t){return n(u(t))}var u=lu(t),f=lu(1/t);return r.invert=function(t){return f(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((i=t.map(Number)).map(u)),r):i},r.ticks=function(n){return ll(i,n)},r.tickFormat=function(n,t){return al(i,n,t)},r.nice=function(n){return r.domain(cl(i,n))},r.exponent=function(e){return arguments.length?(u=lu(t=e),f=lu(1/t),n.domain(i.map(u)),r):t},r.copy=function(){return wl(n.copy(),t,i)},oo(r,n)}function lu(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function bl(t,i){function r(n){return u[((f.get(n)||i.t==="range"&&f.set(n,t.push(n)))-1)%u.length]}function o(i,r){return n.range(t.length).map((function(n){return i+r*n}))}var f,u,e;return r.domain=function(n){if(!arguments.length)return t;t=[];f=new ft;for(var e=-1,o=n.length,u;++e<o;)f.has(u=n[e])||f.set(u,t.push(u));return r[i.t].apply(r,i.a)},r.range=function(n){return arguments.length?(u=n,e=0,i={t:"range",a:arguments},r):u},r.rangePoints=function(n,f){arguments.length<2&&(f=0);var s=n[0],h=n[1],c=(h-s)/(Math.max(1,t.length-1)+f);return u=o(t.length<2?(s+h)/2:s+c*f/2,c),e=0,i={t:"rangePoints",a:arguments},r},r.rangeBands=function(n,f,s){arguments.length<2&&(f=0);arguments.length<3&&(s=f);var h=n[1]<n[0],l=n[+h],a=n[1-h],c=(a-l)/(t.length-f+2*s);return u=o(l+c*s,c),h&&u.reverse(),e=c*(1-f),i={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(n,f,s){arguments.length<2&&(f=0);arguments.length<3&&(s=f);var h=n[1]<n[0],c=n[+h],a=n[1-h],l=Math.floor((a-c)/(t.length-f+2*s)),v=a-c-(t.length-f)*l;return u=o(c+Math.round(v/2),l),h&&u.reverse(),e=Math.round(l*(1-f)),i={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return e},r.rangeExtent=function(){return pi(i.a[0])},r.copy=function(){return bl(t,i)},r.domain(t)}function pp(n){return n.innerRadius}function wp(n){return n.outerRadius}function bp(n){return n.startAngle}function kp(n){return n.endAngle}function dp(n){function t(t){function l(){h.push("M",i(n(e),o))}for(var h=[],e=[],s=-1,a=t.length,c,v=nt(r),y=nt(u);++s<a;)f.call(this,c=t[s],s)?e.push([+v.call(this,c,s),+y.call(this,c,s)]):e.length&&(l(),e=[]);return e.length&&l(),h.length?h.join(""):null}var r=io,u=nl,f=yi,i=er,e=i.key,o=.7;return t.x=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(f=n,t):f},t.interpolate=function(n){return arguments.length?(e=typeof n=="function"?i=n:(i=co.get(n)||er).key,t):e},t.tension=function(n){return arguments.length?(o=n,t):o},t}function er(n){return n.join("L")}function gp(n){function t(t){function k(){y.push("M",i(n(p),o),l,c(n(a.reverse()),o),"Z")}for(var y=[],a=[],p=[],h=-1,d=t.length,v,g=nt(f),tt=nt(e),it=f===r?function(){return w}:nt(r),rt=e===u?function(){return b}:nt(u),w,b;++h<d;)s.call(this,v=t[h],h)?(a.push([w=+g.call(this,v,h),b=+tt.call(this,v,h)]),p.push([+it.call(this,v,h),+rt.call(this,v,h)])):a.length&&(k(),a=[],p=[]);return a.length&&k(),y.length?y.join(""):null}var f=io,r=io,e=0,u=nl,s=yi,i=er,h=i.key,c=i,l="L",o=.7;return t.x=function(n){return arguments.length?(f=r=n,t):r},t.x0=function(n){return arguments.length?(f=n,t):f},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(e=u=n,t):u},t.y0=function(n){return arguments.length?(e=n,t):e},t.y1=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(s=n,t):s},t.interpolate=function(n){return arguments.length?(h=typeof n=="function"?i=n:(i=co.get(n)||er).key,c=i.reverse||i,l=i.closed?"M":"L",t):h},t.tension=function(n){return arguments.length?(o=n,t):o},t}function or(n,t){return hr(n,c),n.id=t,n}function ao(n,t,i,r){var u=n.id;return wt(n,typeof i=="function"?function(n,f,e){n.__transition__[u].tween.set(t,r(i.call(n,n.__data__,f,e)))}:(i=r(i),function(n){n.__transition__[u].tween.set(t,i)}))}function iw(n){return n==null&&(n=""),function(){this.textContent=n}}function yu(t,i,r,u){var e=t.__transition__||(t.__transition__={active:0,count:0}),f=e[r],o;f||(o=u.time,f=e[r]={tween:new ft,time:o,ease:u.ease,delay:u.delay,duration:u.duration},++e.count,n.timer((function(u){function v(u){if(e.active>r)return a();e.active=r;f.event&&f.event.start.call(t,s,i);f.tween.forEach((function(n,r){(r=r.call(t,s,i))&&l.push(r)}));n.timer((function(){return c.c=y(u||1)?yi:y,1}),0,o)}function y(n){if(e.active!==r)return a();for(var u=n/w,h=p(u),o=l.length;o>0;)l[--o].call(t,h);if(u>=1)return f.event&&f.event.end.call(t,s,i),a()}function a(){return--e.count?delete e[r]:delete t.__transition__,1}var s=t.__data__,p=f.ease,h=f.delay,w=f.duration,c=ot,l=[];if(c.t=h+o,h<=u)return v(u-h);c.c=v}),0,o))}function gl(n,t){n.attr("transform",(function(n){return"translate("+t(n)+",0)"}))}function na(n,t){n.attr("transform",(function(n){return"translate(0,"+t(n)+")"}))}function lt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function ei(n,t,i){function e(t){var i=n(t),r=f(i,1);return t-i<r-t?i:r}function u(i){return t(i=n(new l(i-1)),1),i}function f(n,i){return t(n=new l(+n),i),n}function o(n,r,f){var e=u(n),o=[];if(f>1)while(e<r)i(e)%f||o.push(new Date(+e)),t(e,1);else while(e<r)o.push(new Date(+e)),t(e,1);return o}function s(n,t,i){try{l=lt;var r=new lt;return r._=n,o(r,t,i)}finally{l=Date}}n.floor=n;n.round=e;n.ceil=u;n.offset=f;n.range=o;var r=n.utc=pu(n);return r.floor=r,r.round=pu(e),r.ceil=pu(u),r.offset=pu(f),r.range=s,n}function pu(n){return function(t,i){try{l=lt;var r=new lt;return r._=t,n(r,i)._}finally{l=Date}}}function v(n){function t(t){for(var f=[],r=-1,e=0,u,o,s;++r<i;)n.charCodeAt(r)===37&&(f.push(n.substring(e,r)),(o=ea[u=n.charAt(++r)])!=null&&(u=n.charAt(++r)),(s=du[u])&&(u=s(t,o==null?u==="e"?" ":"0":o)),f.push(u),e=r+1);return f.push(n.substring(e,r)),f.join("")}var i=n.length;return t.parse=function(t){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},f=wu(i,n,t,0),u,r;return f!=t.length?null:("p"in i&&(i.H=i.H%12+i.p*12),u=i.Z!=null&&l!==lt,r=new(u?lt:l),"j"in i?r.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(r.setFullYear(i.y,0,1),r.setFullYear(i.y,0,"W"in i?(i.w+6)%7+i.W*7-(r.getDay()+5)%7:i.w+i.U*7-(r.getDay()+6)%7)):r.setFullYear(i.y,i.m,i.d),r.setHours(i.H+Math.floor(i.Z/100),i.M+i.Z%100,i.S,i.L),u?r._:r)},t.toString=function(){return n},t}function wu(n,t,i,r){for(var f,e,o,u=0,s=t.length,h=i.length;u<s;){if(r>=h)return-1;if(f=t.charCodeAt(u++),f===37){if(o=t.charAt(u++),e=sw[o in ea?t.charAt(u++):o],!e||(r=e(n,i,r))<0)return-1}else if(f!=i.charCodeAt(r++))return-1}return r}function bu(t){return new RegExp("^(?:"+t.map(n.requote).join("|")+")","i")}function ku(n){for(var i=new ft,t=-1,r=n.length;++t<r;)i.set(n[t].toLowerCase(),t);return i}function y(n,t,i){var u=n<0?"-":"",r=(u?-n:n)+"",f=r.length;return u+(f<i?new Array(i-f+1).join(t)+r:r)}function hw(n,t,i){ia.lastIndex=0;var r=ia.exec(t.substring(i));return r?(n.w=fw.get(r[0].toLowerCase()),i+r[0].length):-1}function cw(n,t,i){ta.lastIndex=0;var r=ta.exec(t.substring(i));return r?(n.w=uw.get(r[0].toLowerCase()),i+r[0].length):-1}function lw(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i,i+1));return r?(n.w=+r[0],i+r[0].length):-1}function aw(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i));return r?(n.U=+r[0],i+r[0].length):-1}function vw(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i));return r?(n.W=+r[0],i+r[0].length):-1}function yw(n,t,i){ua.lastIndex=0;var r=ua.exec(t.substring(i));return r?(n.m=ow.get(r[0].toLowerCase()),i+r[0].length):-1}function pw(n,t,i){ra.lastIndex=0;var r=ra.exec(t.substring(i));return r?(n.m=ew.get(r[0].toLowerCase()),i+r[0].length):-1}function ww(n,t,i){return wu(n,du.c.toString(),t,i)}function bw(n,t,i){return wu(n,du.x.toString(),t,i)}function kw(n,t,i){return wu(n,du.X.toString(),t,i)}function dw(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i,i+4));return r?(n.y=+r[0],i+r[0].length):-1}function gw(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i,i+2));return r?(n.y=tb(+r[0]),i+r[0].length):-1}function nb(n,t,i){return/^[+-]\d{4}$/.test(t=t.substring(i,i+5))?(n.Z=+t,i+5):-1}function tb(n){return n+(n>68?1900:2e3)}function ib(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i,i+2));return r?(n.m=r[0]-1,i+r[0].length):-1}function oa(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i,i+2));return r?(n.d=+r[0],i+r[0].length):-1}function rb(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i,i+3));return r?(n.j=+r[0],i+r[0].length):-1}function sa(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i,i+2));return r?(n.H=+r[0],i+r[0].length):-1}function ub(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i,i+2));return r?(n.M=+r[0],i+r[0].length):-1}function fb(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i,i+2));return r?(n.S=+r[0],i+r[0].length):-1}function eb(n,t,i){o.lastIndex=0;var r=o.exec(t.substring(i,i+3));return r?(n.L=+r[0],i+r[0].length):-1}function ob(n,t,i){var r=ha.get(t.substring(i,i+=2).toLowerCase());return r==null?-1:(n.p=r,i)}function sb(n){var t=n.getTimezoneOffset(),i=t>0?"-":"+",r=~~(f(t)/60),u=f(t)%60;return i+y(r,"0",2)+y(u,"0",2)}function hb(n,t,i){fa.lastIndex=0;var r=fa.exec(t.substring(i,i+1));return r?i+r[0].length:-1}function rt(n){function i(n){try{l=lt;var i=new l;return i._=n,t(i)}finally{l=Date}}var t=v(n);return i.parse=function(n){try{l=lt;var i=t.parse(n);return i&&i._}finally{l=Date}},i.toString=t.toString,i}function ns(n){return n.toISOString()}function ts(t,i,r){function u(n){return t(n)}function f(t,r){var e=t[1]-t[0],f=e/r,u=n.bisect(gu,f);return u==gu.length?[i.year,fr(t.map((function(n){return n/31536e6})),r)[2]]:u?i[f/gu[u-1]<gu[u]/f?u-1:u]:[ab,fr(t,r)[2]]}return u.invert=function(n){return oi(t.invert(n))},u.domain=function(n){return arguments.length?(t.domain(n),u):t.domain().map(oi)},u.nice=function(n,t){function o(i){return!isNaN(i)&&!n.range(i,oi(+i+1),t).length}var r=u.domain(),e=pi(r),i=n==null?f(e,10):typeof n=="number"&&f(e,n);return i&&(n=i[0],t=i[1]),u.domain(eo(r,t>1?{floor:function(t){while(o(t=n.floor(t)))t=oi(t-1);return t},ceil:function(t){while(o(t=n.ceil(t)))t=oi(+t+1);return t}}:n))},u.ticks=function(n,t){var i=pi(u.domain()),r=n==null?f(i,10):typeof n=="number"?f(i,n):!n.range&&[{range:n},t];return r&&(n=r[0],t=r[1]),n.range(i[0],oi(+i[1]+1),t<1?1:t)},u.tickFormat=function(){return r},u.copy=function(){return ts(t.copy(),i,r)},oo(u,t)}function oi(n){return new Date(n)}function ca(n){return function(t){for(var r=n.length-1,i=n[r];!i[1](t);)i=n[--r];return i[0](t)}}function pb(n){return JSON.parse(n.responseText)}function wb(n){var t=ut.createRange();return t.selectNode(ut.body),t.createContextualFragment(n.responseText)}var n={version:"3.3.10"},tf,f,et,rf,ff,cs,hr,e,cr,tt,af,hi,nh,lr,hh,ar,vr,yr,pr,wr,ot,kf,gf,ah,te,ki,re,ue,kr,bt,b,di,ru,ii,ri,st,kt,dt,it,ai,vi,gt,d,se,nr,ce,le,ht,fu,eu,ou,su,rc,g,pe,fi,be,ke,de,ge,no,ly,ay,rr,fp,sp,el,ol,sl,vl,ho,pl,au,kl,co,nw,tw,c,lo,wi,vu,vo,dl,o,ha,go;Date.now||(Date.now=function(){return+new Date});var rs=[].slice,vt=function(n){return rs.call(n)},ut=document,yt=ut.documentElement,p=window;try{vt(yt.childNodes)[0].nodeType}catch(bb){vt=function(n){for(var t=n.length,i=new Array(t);t--;)i[t]=n[t];return i}}try{ut.createElement("div").style.setProperty("opacity",0,"")}catch(kb){var sr=p.Element.prototype,aa=sr.setAttribute,va=sr.setAttributeNS,us=p.CSSStyleDeclaration.prototype,ya=us.setProperty;sr.setAttribute=function(n,t){aa.call(this,n,t+"")};sr.setAttributeNS=function(n,t,i){va.call(this,n,t,i+"")};us.setProperty=function(n,t,i){ya.call(this,n,t+"",i)}}n.ascending=function(n,t){return n<t?-1:n>t?1:n>=t?0:NaN};n.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN};n.min=function(n,t){var r=-1,f=n.length,i,u;if(arguments.length===1){while(++r<f&&!((i=n[r])!=null&&i<=i))i=undefined;while(++r<f)(u=n[r])!=null&&i>u&&(i=u)}else{while(++r<f&&!((i=t.call(n,n[r],r))!=null&&i<=i))i=undefined;while(++r<f)(u=t.call(n,n[r],r))!=null&&i>u&&(i=u)}return i};n.max=function(n,t){var r=-1,f=n.length,i,u;if(arguments.length===1){while(++r<f&&!((i=n[r])!=null&&i<=i))i=undefined;while(++r<f)(u=n[r])!=null&&u>i&&(i=u)}else{while(++r<f&&!((i=t.call(n,n[r],r))!=null&&i<=i))i=undefined;while(++r<f)(u=t.call(n,n[r],r))!=null&&u>i&&(i=u)}return i};n.extent=function(n,t){var r=-1,e=n.length,i,u,f;if(arguments.length===1){while(++r<e&&!((i=f=n[r])!=null&&i<=i))i=f=undefined;while(++r<e)(u=n[r])!=null&&(i>u&&(i=u),f<u&&(f=u))}else{while(++r<e&&!((i=f=t.call(n,n[r],r))!=null&&i<=i))i=undefined;while(++r<e)(u=t.call(n,n[r],r))!=null&&(i>u&&(i=u),f<u&&(f=u))}return[i,f]};n.sum=function(n,t){var u=0,f=n.length,r,i=-1;if(arguments.length===1)while(++i<f)isNaN(r=+n[i])||(u+=r);else while(++i<f)isNaN(r=+t.call(n,n[i],i))||(u+=r);return u};n.mean=function(n,t){var e=n.length,u,i=0,r=-1,f=0;if(arguments.length===1)while(++r<e)nf(u=n[r])&&(i+=(u-i)/++f);else while(++r<e)nf(u=t.call(n,n[r],r))&&(i+=(u-i)/++f);return f?i:undefined};n.quantile=function(n,t){var u=(n.length-1)*t+1,i=Math.floor(u),r=+n[i-1],f=u-i;return f?r+f*(n[i]-r):r};n.median=function(t,i){return arguments.length>1&&(t=t.map(i)),t=t.filter(nf),t.length?n.quantile(t.sort(n.ascending),.5):undefined};n.bisector=function(n){return{left:function(t,i,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);r<u;){var f=r+u>>>1;n.call(t,t[f],f)<i?r=f+1:u=f}return r},right:function(t,i,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);r<u;){var f=r+u>>>1;i<n.call(t,t[f],f)?u=f:r=f+1}return r}}};tf=n.bisector((function(n){return n}));n.bisectLeft=tf.left;n.bisect=n.bisectRight=tf.right;n.shuffle=function(n){for(var t=n.length,r,i;t;)i=Math.random()*t--|0,r=n[t],n[t]=n[i],n[i]=r;return n};n.permute=function(n,t){for(var i=t.length,r=new Array(i);i--;)r[i]=n[t[i]];return r};n.pairs=function(n){for(var t=0,i=n.length-1,f,r=n[0],u=new Array(i<0?0:i);t<i;)u[t]=[f=r,r=n[++t]];return u};n.zip=function(){var t,r,e;if(!(r=arguments.length))return[];for(var i=-1,u=n.min(arguments,pa),f=new Array(u);++i<u;)for(t=-1,e=f[i]=new Array(r);++t<r;)e[t]=arguments[t][i];return f};n.transpose=function(t){return n.zip.apply(n,t)};n.keys=function(n){var t=[];for(var i in n)t.push(i);return t};n.values=function(n){var t=[];for(var i in n)t.push(n[i]);return t};n.entries=function(n){var t=[];for(var i in n)t.push({key:i,value:n[i]});return t};n.merge=function(n){for(var t=n.length,i,e=-1,r=0,u,f;++e<t;)r+=n[e].length;for(u=new Array(r);--t>=0;)for(f=n[t],i=f.length;--i>=0;)u[--r]=f[i];return u};f=Math.abs;n.range=function(n,t,i){if(arguments.length<3&&(i=1,arguments.length<2&&(t=n,n=0)),(t-n)/i==Infinity)throw new Error("infinite range");var e=[],r=wa(f(i)),o=-1,u;if(n*=r,t*=r,i*=r,i<0)while((u=n+i*++o)>t)e.push(u/r);else while((u=n+i*++o)<t)e.push(u/r);return e};n.map=function(n){var t=new ft,i;if(n instanceof ft)n.forEach((function(n,i){t.set(n,i)}));else for(i in n)t.set(i,n[i]);return t};fs(ft,{has:function(n){return et+n in this},get:function(n){return this[et+n]},set:function(n,t){return this[et+n]=t},remove:function(n){return n=et+n,n in this&&delete this[n]},keys:function(){var n=[];return this.forEach((function(t){n.push(t)})),n},values:function(){var n=[];return this.forEach((function(t,i){n.push(i)})),n},entries:function(){var n=[];return this.forEach((function(t,i){n.push({key:t,value:i})})),n},forEach:function(n){for(var t in this)t.charCodeAt(0)===rf&&n.call(this,t.substring(1),this[t])}});et="\x00";rf=et.charCodeAt(0);n.set=function(n){var i=new es,t,r;if(n)for(t=0,r=n.length;t<r;++t)i.add(n[t]);return i};fs(es,{has:function(n){return et+n in this},add:function(n){return this[et+n]=!0,n},remove:function(n){return n=et+n,n in this&&delete this[n]},values:function(){var n=[];return this.forEach((function(t){n.push(t)})),n},forEach:function(n){for(var t in this)t.charCodeAt(0)===rf&&n.call(this,t.substring(1))}});n.behavior={};n.rebind=function(n,t){for(var i=1,u=arguments.length,r;++i<u;)n[r=arguments[i]]=ba(n,t,t[r]);return n};ff=["webkit","ms","moz","Moz","o","O"];n.dispatch=function(){for(var n=new ef,t=-1,i=arguments.length;++t<i;)n[arguments[t]]=os(n);return n};ef.prototype.on=function(n,t){var r=n.indexOf("."),i="";if(r>=0&&(i=n.substring(r+1),n=n.substring(0,r)),n)return arguments.length<2?this[n].on(i):this[n].on(i,t);if(arguments.length===2){if(t==null)for(n in this)if(this.hasOwnProperty(n))this[n].on(i,null);return this}};n.event=null;n.requote=function(n){return n.replace(cs,"\\$&")};cs=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;hr={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var i in t)n[i]=t[i]};var sf=function(n,t){return t.querySelector(n)},hf=function(n,t){return t.querySelectorAll(n)},ka=yt[uf(yt,"matchesSelector")],da=function(n,t){return ka.call(n,t)};typeof Sizzle=="function"&&(sf=function(n,t){return Sizzle(n,t)[0]||null},hf=function(n,t){return Sizzle.uniqueSort(Sizzle(n,t))},da=Sizzle.matchesSelector);n.selection=function(){return af};e=n.selection.prototype=[];e.select=function(n){var o=[],i,f,e,t,r,s,u,h;for(n=cf(n),r=-1,s=this.length;++r<s;)for(o.push(i=[]),i.parentNode=(e=this[r]).parentNode,u=-1,h=e.length;++u<h;)(t=e[u])?(i.push(f=n.call(t,t.__data__,u,r)),f&&"__data__"in t&&(f.__data__=t.__data__)):i.push(null);return pt(o)};e.selectAll=function(n){var u=[],f,t,i,e;for(n=ls(n),i=-1,e=this.length;++i<e;)for(var o=this[i],r=-1,s=o.length;++r<s;)(t=o[r])&&(u.push(f=vt(n.call(t,t.__data__,r,i))),f.parentNode=t);return pt(u)};cr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:cr,qualify:function(n){var t=n.indexOf(":"),i=n;return t>=0&&(i=n.substring(0,t),n=n.substring(t+1)),cr.hasOwnProperty(i)?{space:cr[i],local:n}:n}};e.attr=function(t,i){if(arguments.length<2){if(typeof t=="string"){var r=this.node();return t=n.ns.qualify(t),t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(i in t)this.each(as(i,t[i]));return this}return this.each(as(t,i))};e.classed=function(n,t){if(arguments.length<2){if(typeof n=="string"){var r=this.node(),u=(n=n.trim().split(/^|\s+/g)).length,i=-1;if(t=r.classList){while(++i<u)if(!t.contains(n[i]))return!1}else for(t=r.getAttribute("class");++i<u;)if(!ys(n[i]).test(t))return!1;return!0}for(t in n)this.each(ps(t,n[t]));return this}return this.each(ps(n,t))};e.style=function(n,t,i){var r=arguments.length;if(r<3){if(typeof n!="string"){r<2&&(t="");for(i in n)this.each(ws(i,n[i],t));return this}if(r<2)return p.getComputedStyle(this.node(),null).getPropertyValue(n);i=""}return this.each(ws(n,t,i))};e.property=function(n,t){if(arguments.length<2){if(typeof n=="string")return this.node()[n];for(t in n)this.each(d3_selection_property(t,n[t]));return this}return this.each(d3_selection_property(n,t))};e.text=function(n){return arguments.length?this.each(typeof n=="function"?function(){var t=n.apply(this,arguments);this.textContent=t==null?"":t}:n==null?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent};e.html=function(n){return arguments.length?this.each(typeof n=="function"?function(){var t=n.apply(this,arguments);this.innerHTML=t==null?"":t}:n==null?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML};e.append=function(n){return n=bs(n),this.select((function(){return this.appendChild(n.apply(this,arguments))}))};e.insert=function(n,t){return n=bs(n),t=cf(t),this.select((function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)}))};e.remove=function(){return this.each((function(){var n=this.parentNode;n&&n.removeChild(this)}))};e.data=function(n,t){function o(n,i){var r,l=n.length,a=i.length,k=Math.min(l,a),v=new Array(a),c=new Array(a),y=new Array(l),u,o;if(t){var p=new ft,w=new ft,b=[],e;for(r=-1;++r<l;)e=t.call(u=n[r],u.__data__,r),p.has(e)?y[r]=u:p.set(e,u),b.push(e);for(r=-1;++r<a;)e=t.call(i,o=i[r],r),(u=p.get(e))?(v[r]=u,u.__data__=o):w.has(e)||(c[r]=lf(o)),w.set(e,o),p.remove(e);for(r=-1;++r<l;)p.has(b[r])&&(y[r]=n[r])}else{for(r=-1;++r<k;)u=n[r],o=i[r],u?(u.__data__=o,v[r]=u):c[r]=lf(o);for(;r<a;++r)c[r]=lf(i[r]);for(;r<l;++r)y[r]=n[r]}c.update=v;c.parentNode=v.parentNode=y.parentNode=n.parentNode;s.push(c);f.push(v);h.push(y)}var i=-1,u=this.length,r,e;if(!arguments.length){for(n=new Array(u=(r=this[0]).length);++i<u;)(e=r[i])&&(n[i]=e.__data__);return n}var s=ks([]),f=pt([]),h=pt([]);if(typeof n=="function")while(++i<u)o(r=this[i],n.call(r,r.parentNode.__data__,i));else while(++i<u)o(r=this[i],n);return f.enter=function(){return s},f.exit=function(){return h},f};e.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")};e.filter=function(n){var e=[],u,f,r,t,o,i,s;for(typeof n!="function"&&(n=d3_selection_filter(n)),t=0,o=this.length;t<o;t++)for(e.push(u=[]),u.parentNode=(f=this[t]).parentNode,i=0,s=f.length;i<s;i++)(r=f[i])&&n.call(r,r.__data__,i,t)&&u.push(r);return pt(e)};e.each=function(n){return wt(this,(function(t,i,r){n.call(t,t.__data__,i,r)}))};e.call=function(n){var t=vt(arguments);return n.apply(t[0]=this,t),this};e.empty=function(){return!this.node()};e.node=function(){for(var i,n=0,r=this.length;n<r;n++)for(var u=this[n],t=0,f=u.length;t<f;t++)if(i=u[t],i)return i;return null};e.size=function(){var n=0;return this.each((function(){++n})),n};tt=[];n.selection.enter=ks;n.selection.enter.prototype=tt;tt.append=e.append;tt.empty=e.empty;tt.node=e.node;tt.call=e.call;tt.size=e.size;tt.select=function(n){for(var i,h,e=[],r,o,s,t,u,f=-1,c=this.length;++f<c;)for(s=(t=this[f]).update,e.push(r=[]),r.parentNode=t.parentNode,i=-1,h=t.length;++i<h;)(u=t[i])?(r.push(s[i]=o=n.call(t.parentNode,u.__data__,i,f)),o.__data__=u.__data__):r.push(null);return pt(e)};tt.insert=function(n,t){return arguments.length<2&&(t=d3_selection_enterInsertBefore(this)),e.insert.call(this,n,t)};e.transition=function(){for(var i=wi||++lo,r=[],u,n,o=vu||{time:Date.now(),ease:ky,delay:0,duration:250},f=-1,s=this.length;++f<s;){r.push(u=[]);for(var e=this[f],t=-1,h=e.length;++t<h;)(n=e[t])&&yu(n,t,i,o),u.push(n)}return or(r,i)};e.interrupt=function(){return this.each(nv)};n.select=function(n){var t=[typeof n=="string"?sf(n,ut):n];return t.parentNode=yt,pt([t])};n.selectAll=function(n){var t=vt(typeof n=="string"?hf(n,ut):n);return t.parentNode=yt,pt([t])};af=n.select(yt);e.on=function(n,t,i){var r=arguments.length;if(r<3){if(typeof n!="string"){r<2&&(t=!1);for(i in n)this.each(ds(i,n[i],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;i=!1}return this.each(ds(n,t,i))};hi="onselectstart"in ut?null:uf(yt.style,"userSelect");nh=0;n.mouse=function(n){return ih(n,ss())};lr=/WebKit/.test(p.navigator.userAgent)?-1:0;n.touches=function(n,t){return arguments.length<2&&(t=ss().touches),t?vt(t).map((function(t){var i=ih(n,t);return i.identifier=t.identifier,i})):[]};n.behavior.drag=function(){function i(){this.on("mousedown.drag",f).on("touchstart.drag",e)}function o(){return n.event.changedTouches[0].identifier}function s(t,i){return n.touches(t).filter((function(n){return n.identifier===i}))[0]}function u(i,u,f,e){return function(){function d(){var n=u(v,h),t=n[0]-s[0],i=n[1]-s[1];y|=t|i;s=n;a({type:"drag",x:n[0]+o[0],y:n[1]+o[1],dx:t,dy:i})}function g(){b.on(f+"."+c,null).on(e+"."+c,null);k(y&&n.event.target===w);a({type:"dragend"})}var l=this,v=l.parentNode,a=r.of(l,arguments),w=n.event.target,h=i(),c=h==null?"drag":"drag-"+h,s=u(v,h),y=0,o,b=n.select(p).on(f+"."+c,d).on(e+"."+c,g),k=th();t?(o=t.apply(l,arguments),o=[o.x-s[0],o.y-s[1]]):o=[0,0];a({type:"dragstart"})}}var r=hs(i,"drag","dragstart","dragend"),t=null,f=u(h,n.mouse,"mousemove","mouseup"),e=u(o,s,"touchmove","touchend");return i.origin=function(n){return arguments.length?(t=n,i):t},n.rebind(i,r,"on")};var u=Math.PI,k=2*u,w=u/2,r=1e-6,rh=r*r,i=u/180,s=180/u;var nk=Math.SQRT2,vf,tk="onwheel"in ut?(vf=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ut?(vf=function(){return n.event.wheelDelta},"mousewheel"):(vf=function(){return-n.event.detail},"MozMousePixelScroll");n.hcl=function(t,i,r){return arguments.length===1?t instanceof pf?oh(t.h,t.c,t.l):t instanceof d3_Lab?d3_lab_hcl(t.l,t.a,t.b):d3_lab_hcl((t=d3_rgb_lab((t=n.rgb(t)).r,t.g,t.b)).l,t.a,t.b):oh(+t,+i,+r)};var ik=pf.prototype=new yf;n.rgb=function(n,t,i){return arguments.length===1?n instanceof wf?bi(n.r,n.g,n.b):uv(""+n,bi,rv):bi(~~n,~~t,~~i)};hh=wf.prototype=new yf;hh.toString=function(){return"#"+ci(this.r)+ci(this.g)+ci(this.b)};ar=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ar.forEach((function(n,t){ar.set(n,sh(t))}));n.functor=nt;n.xhr=fv(a);kf=p[uf(p,"requestAnimationFrame")]||function(n){setTimeout(n,17)};n.timer=function(n,t,i){var u=arguments.length,f,r;u<2&&(t=0);u<3&&(i=Date.now());f=i+t;r={c:n,t:f,f:!1,n:null};yr?yr.n=r:vr=r;yr=r;pr||(wr=clearTimeout(wr),pr=1,kf(df))};n.timer.flush=function(){ch();lh()};var ov=".",sv="$",hv=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(cv);n.formatPrefix=function(t,i){var r=0;return t&&(t<0&&(t*=-1),i&&(t=n.round(t,ne(t,i))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,Math.floor((r<=0?r+1:r-1)/3)*3))),hv[8+r/3]};n.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};n.format=function(t){var u=gf.exec(t),v=u[1]||" ",e=u[2]||">",p=u[3]||"",f=u[4]||"",s=u[5],h=+u[6],c=u[7],r=u[8],i=u[9],o=1,l="",y=!1,a;r&&(r=+r.substring(1));(s||v==="0"&&e==="=")&&(s=v="0",e="=",c&&(h-=Math.floor((h-1)/4)));switch(i){case"n":c=!0;i="g";break;case"%":o=100;l="%";i="f";break;case"p":o=100;l="%";i="r";break;case"b":case"o":case"x":case"X":f==="#"&&(f="0"+i.toLowerCase());case"c":case"d":y=!0;r=0;break;case"s":o=-1;i="r"}return f==="#"?f="":f==="$"&&(f=sv),i!="r"||r||(i="g"),r!=null&&(i=="g"?r=Math.max(1,Math.min(21,r)):(i=="e"||i=="f")&&(r=Math.max(0,Math.min(20,r)))),i=ah.get(i)||lv,a=s&&c,function(t){var u,g,k,w;if(y&&t%1)return"";u=t<0||t===0&&1/t<0?(t=-t,"-"):p;o<0?(g=n.formatPrefix(t,r),t=g.scale(t),l=g.symbol):t*=o;t=i(t,r);var d=t.lastIndexOf("."),b=d<0?t:t.substring(0,d),nt=d<0?"":ov+t.substring(d+1);return!s&&c&&(b=te(b)),k=f.length+b.length+nt.length+(a?0:u.length),w=k<h?new Array(k=h-k+1).join(v):"",a&&(b=te(w+b)),u+=f,t=b+nt,(e==="<"?u+t+w:e===">"?w+u+t:e==="^"?w.substring(0,k>>=1)+u+t+w.substring(k):u+(a?t:w+t))+l}};gf=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;ah=n.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(t,i){return(t=n.round(t,ne(t,i))).toFixed(Math.max(0,Math.min(20,ne(t*(1+1e-15),i))))}});te=a;n.geo={};ie.prototype={s:0,t:0,add:function(n){vh(n,this.t,ki);vh(ki.s,this.s,this);this.s?this.t+=ki.t:this.s=ki.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};ki=new ie;n.geo.stream=function(n,t){n&&re.hasOwnProperty(n.type)?re[n.type](n,t):br(n,t)};re={Feature:function(n,t){br(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,r=-1,u=i.length;++r<u;)br(i[r].geometry,t)}};ue={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates;t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var i=n.coordinates,r=-1,u=i.length;++r<u;)n=i[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){fe(n.coordinates,t,0)},MultiLineString:function(n,t){for(var i=n.coordinates,r=-1,u=i.length;++r<u;)fe(i[r],t,0)},Polygon:function(n,t){yh(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,r=-1,u=i.length;++r<u;)yh(i[r],t)},GeometryCollection:function(n,t){for(var i=n.geometries,r=-1,u=i.length;++r<u;)br(i[r],t)}};n.geo.area=function(t){return kr=0,n.geo.stream(t,b),kr};bt=new ie;b={sphere:function(){kr+=4*u},point:h,lineStart:h,lineEnd:h,polygonStart:function(){bt.reset();b.lineStart=av},polygonEnd:function(){var n=2*bt;kr+=n<0?4*u+n:n;b.lineStart=b.lineEnd=b.point=h}};n.geo.bounds=(function(){function w(n,i){v.push(l=[t=n,u=n]);i<o&&(o=i);i>h&&(h=i)}function g(n,r){var d=ti([n*i,r*i]),v;if(y){var b=li(y,d),nt=[b[1],-b[0],0],c=li(nt,b);nu(c);c=tu(c);var g=n-a,p=g>0?1:-1,l=c[0]*s*p,k=f(g)>180;k^(p*a<l&&l<p*n)?(v=c[1]*s,v>h&&(h=v)):(l=(l+360)%360-180,k^(p*a<l&&l<p*n))?(v=-c[1]*s,v<o&&(o=v)):(r<o&&(o=r),r>h&&(h=r));k?n<a?e(t,n)>e(t,u)&&(u=n):e(n,u)>e(t,u)&&(t=n):u>=t?(n<t&&(t=n),n>u&&(u=n)):n>a?e(t,n)>e(t,u)&&(u=n):e(n,u)>e(t,u)&&(t=n)}else w(n,r);y=d;a=n}function nt(){c.point=g}function tt(){l[0]=t;l[1]=u;c.point=w;y=null}function it(n,t){if(y){var i=n-a;p+=f(i)>180?i+(i>0?360:-360):i}else k=n,d=t;b.point(n,t);g(n,t)}function ut(){b.lineStart()}function ft(){it(k,d);b.lineEnd();f(p)>r&&(t=-(u=180));l[0]=t;l[1]=u;y=null}function e(n,t){return(t-=n)<0?t+360:t}function et(n,t){return n[0]-t[0]}function rt(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var t,o,u,h,a,k,d,y,p,v,l,c={point:w,lineStart:nt,lineEnd:tt,polygonStart:function(){c.point=it;c.lineStart=ut;c.lineEnd=ft;p=0;b.polygonStart()},polygonEnd:function(){b.polygonEnd();c.point=w;c.lineStart=nt;c.lineEnd=tt;bt<0?(t=-(u=180),o=-(h=90)):p>r?h=90:p<-r&&(o=-90);l[0]=t;l[1]=u}};return function(i){var a,p,w;if(h=u=-(t=o=Infinity),v=[],n.geo.stream(i,c),a=v.length,a){v.sort(et);for(var s=1,r=v[0],f,y=[r];s<a;++s)f=v[s],rt(f[0],r)||rt(f[1],r)?(e(r[0],f[1])>e(r[0],r[1])&&(r[1]=f[1]),e(f[0],r[1])>e(r[0],r[1])&&(r[0]=f[0])):y.push(r=f);p=-Infinity;for(var a=y.length-1,s=0,r=y[a],f;s<=a;r=f,++s)f=y[s],(w=e(r[1],f[0]))>p&&(p=w,t=f[0],u=r[1])}return v=l=null,t===Infinity||o===Infinity?[[NaN,NaN],[NaN,NaN]]:[[t,o],[u,h]]}})();n.geo.centroid=function(t){di=ru=ii=ri=st=kt=dt=it=ai=vi=gt=0;n.geo.stream(t,d);var i=ai,u=vi,f=gt,e=i*i+u*u+f*f;return e<rh&&(i=kt,u=dt,f=it,ru<r&&(i=ii,u=ri,f=st),e=i*i+u*u+f*f,e<rh)?[NaN,NaN]:[Math.atan2(u,i)*s,ni(f/Math.sqrt(e))*s]};d={sphere:h,point:oe,lineStart:ph,lineEnd:wh,polygonStart:function(){d.lineStart=vv},polygonEnd:function(){d.lineStart=ph}};se=dh(yi,bv,dv,[-u,-u/2]);nr=1e9;n.geo.clipExtent=function(){var t,i,r,u,n,f,e={stream:function(t){return n&&(n.valid=!1),n=f(t),n.valid=!0,n},extent:function(o){return arguments.length?(f=nc(t=+o[0][0],i=+o[0][1],r=+o[1][0],u=+o[1][1]),n&&(n.valid=!1,n=null),e):[[t,i],[r,u]]}};return e.extent([[0,0],[960,500]])};(n.geo.conicEqualArea=function(){return he(ic)}).raw=ic;n.geo.albers=function(){return n.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};n.geo.albersUsa=function(){function i(n){var t=n[0],i=n[1];return e=null,(s(t,i),e)||(h(t,i),e)||c(t,i),e}var t=n.geo.albers(),u=n.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=n.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),e,o={point:function(n,t){e=[n,t]}},s,h,c;return i.invert=function(n){var e=t.scale(),o=t.translate(),i=(n[0]-o[0])/e,r=(n[1]-o[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?u:r>=.166&&r<.234&&i>=-.214&&i<-.115?f:t).invert(n)},i.stream=function(n){var i=t.stream(n),r=u.stream(n),e=f.stream(n);return{point:function(n,t){i.point(n,t);r.point(n,t);e.point(n,t)},sphere:function(){i.sphere();r.sphere();e.sphere()},lineStart:function(){i.lineStart();r.lineStart();e.lineStart()},lineEnd:function(){i.lineEnd();r.lineEnd();e.lineEnd()},polygonStart:function(){i.polygonStart();r.polygonStart();e.polygonStart()},polygonEnd:function(){i.polygonEnd();r.polygonEnd();e.polygonEnd()}}},i.precision=function(n){return arguments.length?(t.precision(n),u.precision(n),f.precision(n),i):t.precision()},i.scale=function(n){return arguments.length?(t.scale(n),u.scale(n*.35),f.scale(n),i.translate(t.translate())):t.scale()},i.translate=function(n){if(!arguments.length)return t.translate();var e=t.scale(),l=+n[0],a=+n[1];return s=t.translate(n).clipExtent([[l-.455*e,a-.238*e],[l+.455*e,a+.238*e]]).stream(o).point,h=u.translate([l-.307*e,a+.201*e]).clipExtent([[l-.425*e+r,a+.12*e+r],[l-.214*e-r,a+.234*e-r]]).stream(o).point,c=f.translate([l-.205*e,a+.212*e]).clipExtent([[l-.214*e+r,a+.166*e+r],[l-.115*e-r,a+.234*e-r]]).stream(o).point,i},i.scale(1070)};ht={point:h,lineStart:h,lineEnd:h,polygonStart:function(){le=0;ht.lineStart=ty},polygonEnd:function(){ht.lineStart=ht.lineEnd=ht.point=h;ce+=f(le/2)}};rc={point:iy,lineStart:h,lineEnd:h,polygonStart:h,polygonEnd:h};g={point:ui,lineStart:fc,lineEnd:ec,polygonStart:function(){g.lineStart=uy},polygonEnd:function(){g.point=ui;g.lineStart=fc;g.lineEnd=ec}};n.geo.path=function(){function t(t){return t&&(typeof i=="function"&&r.pointRadius(+i.apply(this,arguments)),f&&f.valid||(f=u(r)),n.geo.stream(t,f)),r.result()}function s(){return f=null,t}var i=4.5,e,o,u,r,f;return t.area=function(t){return ce=0,n.geo.stream(t,u(ht)),ce},t.centroid=function(t){return ii=ri=st=kt=dt=it=ai=vi=gt=0,n.geo.stream(t,u(g)),gt?[ai/gt,vi/gt]:it?[kt/it,dt/it]:st?[ii/st,ri/st]:[NaN,NaN]},t.bounds=function(t){return ou=su=-(fu=eu=Infinity),n.geo.stream(t,u(rc)),[[fu,eu],[ou,su]]},t.projection=function(n){return arguments.length?(u=(e=n)?n.stream||ey(n):a,s()):e},t.context=function(n){return arguments.length?(r=(o=n)==null?new ry:new fy(n),typeof i!="function"&&r.pointRadius(i),s()):o},t.pointRadius=function(n){return arguments.length?(i=typeof n=="function"?n:(r.pointRadius(+n),+n),t):i},t.projection(n.geo.albersUsa()).context(null)};n.geo.transform=function(n){return{stream:function(t){var i=new sc(t);for(var r in n)i[r]=n[r];return i}}};sc.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};n.geo.projection=ct;n.geo.projectionMutator=ae;(n.geo.equirectangular=function(){return ct(tr)}).raw=tr.invert=tr;n.geo.rotation=function(n){function t(t){return t=n(t[0]*i,t[1]*i),t[0]*=s,t[1]*=s,t}return n=ve(n[0]%360*i,n[1]*i,n.length>2?n[2]*i:0),t.invert=function(t){return t=n.invert(t[0]*i,t[1]*i),t[0]*=s,t[1]*=s,t},t};lc.invert=tr;n.geo.circle=function(){function n(){var n=typeof t=="function"?t.apply(this,arguments):t,u=ve(-n[0]*i,-n[1]*i,0).invert,r=[];return f(null,null,1,{point:function(n,t){r.push(n=u(n,t));n[0]*=s;n[1]*=s}}),{type:"Polygon",coordinates:[r]}}var t=[0,0],r,u=6,f;return n.origin=function(i){return arguments.length?(t=i,n):t},n.angle=function(t){return arguments.length?(f=ye((r=+t)*i,u*i),n):r},n.precision=function(t){return arguments.length?(f=ye(r*i,(u=+t)*i),n):u},n.angle(90)};n.geo.distance=function(n,t){var f=(t[0]-n[0])*i,e=n[1]*i,o=t[1]*i,a=Math.sin(f),s=Math.cos(f),h=Math.sin(e),c=Math.cos(e),l=Math.sin(o),u=Math.cos(o),r;return Math.atan2(Math.sqrt((r=u*a)*r+(r=c*l-h*u*s)*r),h*l+c*u*s)};n.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:nt()}}function nt(){return n.range(Math.ceil(u/v)*v,i,v).map(b).concat(n.range(Math.ceil(o/y)*y,e,y).map(k)).concat(n.range(Math.ceil(h/a)*a,s,a).filter((function(n){return f(n%v)>r})).map(d)).concat(n.range(Math.ceil(l/w)*w,c,w).filter((function(n){return f(n%y)>r})).map(g))}var s,h,i,u,c,l,e,o,a=10,w=a,v=90,y=360,d,g,b,k,p=2.5;return t.lines=function(){return nt().map((function(n){return{type:"LineString",coordinates:n}}))},t.outline=function(){return{type:"Polygon",coordinates:[b(u).concat(k(e).slice(1),b(i).reverse().slice(1),k(o).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.majorExtent(n).minorExtent(n):t.minorExtent()},t.majorExtent=function(n){return arguments.length?(u=+n[0][0],i=+n[1][0],o=+n[0][1],e=+n[1][1],u>i&&(n=u,u=i,i=n),o>e&&(n=o,o=e,e=n),t.precision(p)):[[u,o],[i,e]]},t.minorExtent=function(n){return arguments.length?(h=+n[0][0],s=+n[1][0],l=+n[0][1],c=+n[1][1],h>s&&(n=h,h=s,s=n),l>c&&(n=l,l=c,c=n),t.precision(p)):[[h,l],[s,c]]},t.step=function(n){return arguments.length?t.majorStep(n).minorStep(n):t.minorStep()},t.majorStep=function(n){return arguments.length?(v=+n[0],y=+n[1],t):[v,y]},t.minorStep=function(n){return arguments.length?(a=+n[0],w=+n[1],t):[a,w]},t.precision=function(n){return arguments.length?(p=+n,d=wc(l,c,90),g=bc(h,s,p),b=wc(o,e,90),k=bc(u,i,p),t):p},t.majorExtent([[-180,-90+r],[180,90-r]]).minorExtent([[-180,-80-r],[180,80+r]])};n.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[u||i.apply(this,arguments),f||r.apply(this,arguments)]}}var i=oy,u,r=sy,f;return t.distance=function(){return n.geo.distance(u||i.apply(this,arguments),f||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,u=typeof n=="function"?null:n,t):i},t.target=function(n){return arguments.length?(r=n,f=typeof n=="function"?null:n,t):r},t.precision=function(){return arguments.length?t:0},t};n.geo.interpolate=function(n,t){return hy(n[0]*i,n[1]*i,t[0]*i,t[1]*i)};n.geo.length=function(t){return pe=0,n.geo.stream(t,fi),pe};fi={sphere:h,point:h,lineStart:cy,lineEnd:h,polygonStart:h,polygonEnd:h};we.invert=function(n,t){var i=Math.sqrt(Math.PI*(4+Math.PI))/2;return[n*i/(1+Math.sqrt(1-t*t*(4+Math.PI)/(4*Math.PI))),t*i/2]};(n.geo.eckert3=function(){return ct(we).scale(180.739)}).raw=we;be=ir((function(n){return Math.sqrt(2/(1+n))}),(function(n){return 2*Math.asin(n/2)}));(n.geo.azimuthalEqualArea=function(){return ct(be)}).raw=be;ke=ir((function(n){var t=Math.acos(n);return t&&t/Math.sin(t)}),a);(n.geo.azimuthalEquidistant=function(){return ct(ke)}).raw=ke;(n.geo.conicConformal=function(){return he(kc)}).raw=kc;(n.geo.conicEquidistant=function(){return he(dc)}).raw=dc;de=ir((function(n){return 1/n}),Math.atan);(n.geo.gnomonic=function(){return ct(de)}).raw=de;hu.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-w]};(n.geo.mercator=function(){return gc(hu)}).raw=hu;ge=ir((function(){return 1}),Math.asin);(n.geo.orthographic=function(){return ct(ge)}).raw=ge;no=ir((function(n){return 1/(1+n)}),(function(n){return 2*Math.atan(n)}));(n.geo.stereographic=function(){return ct(no)}).raw=no;to.invert=function(n,t){return[Math.atan2(tv(n),Math.cos(t)),ni(Math.sin(t)/iv(n))]};(n.geo.transverseMercator=function(){return gc(to)}).raw=to;n.geom={};ly=[];ay=[];n.interpolateRgb=ro;n.interpolateString=il;rr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;n.interpolate=ur;n.interpolators=[function(n,t){var i=typeof t;return(i==="string"?/^(#|rgb\(|hsl\()/.test(t)?ro:il:t instanceof yf?ro:i==="object"?Array.isArray(t)?d3_interpolateArray:d3_interpolateObject:tl)(n,t)}];var rl=function(){return a},vy=n.map({linear:rl,poly:dy,quad:function(){return wy},cubic:function(){return by},sin:function(){return gy},exp:function(){return np},circle:function(){return tp},elastic:ip,back:rp,bounce:function(){return up}}),yy=n.map({"in":a,out:ul,"in-out":fl,"out-in":function(n){return fl(ul(n))}});n.ease=function(n){var t=n.indexOf("-"),i=t>=0?n.substring(0,t):n,r=t>=0?n.substring(t+1):"in";return i=vy.get(i)||rl,r=yy.get(r)||a,py(r(i.apply(null,rs.call(arguments,1))))};fp={a:1,b:0,c:0,d:1,e:0,f:0};n.layout={};sp={};n.layout.stack=function(){function t(s,h){var l=s.map((function(n,i){return r.call(t,n,i)})),a=l.map((function(n){return n.map((function(n,i){return[e.call(t,n,i),o.call(t,n,i)]}))})),y=u.call(t,a,h);l=n.permute(l,y);a=n.permute(a,y);for(var w=f.call(t,a,h),b=l.length,k=l[0].length,v,p,c=0;c<k;++c)for(i.call(t,l[0][c],p=w[c],a[0][c][1]),v=1;v<b;++v)i.call(t,l[v][c],p+=a[v-1][c][1],a[v][c][1]);return s}var r=a,u=uo,f=fo,i=lp,e=hp,o=cp;return t.values=function(n){return arguments.length?(r=n,t):r},t.order=function(n){return arguments.length?(u=typeof n=="function"?n:el.get(n)||uo,t):u},t.offset=function(n){return arguments.length?(f=typeof n=="function"?n:ol.get(n)||fo,t):f},t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(o=n,t):o},t.out=function(n){return arguments.length?(i=n,t):i},t};el=n.map({"inside-out":function(t){for(var u=t.length,i,f=t.map(d3_layout_stackMaxIndex),e=t.map(d3_layout_stackReduceSum),l=n.range(u).sort((function(n,t){return f[n]-f[t]})),o=0,s=0,h=[],c=[],r=0;r<u;++r)i=l[r],o<s?(o+=e[i],h.push(i)):(s+=e[i],c.push(i));return c.reverse().concat(h)},reverse:function(t){return n.range(t.length).reverse()},"default":uo});ol=n.map({silhouette:function(n){for(var s=n.length,f=n[0].length,e=[],u=0,r,i,o=[],t=0;t<f;++t){for(r=0,i=0;r<s;r++)i+=n[r][t][1];i>u&&(u=i);e.push(i)}for(t=0;t<f;++t)o[t]=(u-e[t])/2;return o},wiggle:function(n){var a=n.length,h=n[0],v=h.length,i,t,r,u,c,l,f,e,o,s=[];for(s[0]=e=o=0,t=1;t<v;++t){for(i=0,u=0;i<a;++i)u+=n[i][t][1];for(i=0,c=0,f=h[t][0]-h[t-1][0];i<a;++i){for(r=0,l=(n[i][t][1]-n[i][t-1][1])/(2*f);r<i;++r)l+=(n[r][t][1]-n[r][t-1][1])/f;c+=l*n[i][t][1]}s[t]=e-=u?c/u*f:0;e<o&&(o=e)}for(t=0;t<v;++t)s[t]-=o;return s},expand:function(n){for(var r=n.length,f=n[0].length,o=1/r,t,u,e=[],i=0;i<f;++i){for(t=0,u=0;t<r;t++)u+=n[t][i][1];if(u)for(t=0;t<r;t++)n[t][i][1]/=u;else for(t=0;t<r;t++)n[t][i][1]=o}for(i=0;i<f;++i)e[i]=0;return e},zero:fo});n.scale={};sl={floor:a,ceil:a};n.scale.linear=function(){return hl([0,1],[0,1],ur,!1)};vl={s:1,g:1,p:1,r:1,e:1};n.scale.log=function(){return yl(n.scale.linear().domain([0,1]),10,!0,[1,10])};ho=n.format(".0e");pl={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};n.scale.pow=function(){return wl(n.scale.linear(),1,[0,1])};n.scale.sqrt=function(){return n.scale.pow().exponent(.5)};n.scale.ordinal=function(){return bl([],{t:"range",a:[[]]})};n.svg={};n.svg.arc=function(){function n(){var e=t.apply(this,arguments),n=i.apply(this,arguments),o=r.apply(this,arguments)+au,s=f.apply(this,arguments)+au,h=(s<o&&(h=o,o=s,s=h),s-o),c=h<u?"0":"1",l=Math.cos(o),a=Math.sin(o),v=Math.cos(s),y=Math.sin(s);return h>=kl?e?"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z":e?"M"+n*l+","+n*a+"A"+n+","+n+" 0 "+c+",1 "+n*v+","+n*y+"L"+e*v+","+e*y+"A"+e+","+e+" 0 "+c+",0 "+e*l+","+e*a+"Z":"M"+n*l+","+n*a+"A"+n+","+n+" 0 "+c+",1 "+n*v+","+n*y+"L0,0Z"}var t=pp,i=wp,r=bp,f=kp;return n.innerRadius=function(i){return arguments.length?(t=nt(i),n):t},n.outerRadius=function(t){return arguments.length?(i=nt(t),n):i},n.startAngle=function(t){return arguments.length?(r=nt(t),n):r},n.endAngle=function(t){return arguments.length?(f=nt(t),n):f},n.centroid=function(){var n=(t.apply(this,arguments)+i.apply(this,arguments))/2,u=(r.apply(this,arguments)+f.apply(this,arguments))/2+au;return[Math.cos(u)*n,Math.sin(u)*n]},n};au=-w;kl=k-r;n.svg.line=function(){return dp(a)};co=n.map({linear:er});n.svg.area=function(){return gp(a)};nw=Math.sqrt(3);tw=Math.tan(30*i);c=[];lo=0;c.call=e.call;c.empty=e.empty;c.node=e.node;c.size=e.size;n.transition=function(n){return arguments.length?wi?n.transition():n:af.transition()};n.transition.prototype=c;c.select=function(n){var f=this.id,o=[],e,i,t,r,s;for(n=cf(n),r=-1,s=this.length;++r<s;){o.push(e=[]);for(var h=this[r],u=-1,c=h.length;++u<c;)(t=h[u])&&(i=n.call(t,t.__data__,u,r))?("__data__"in t&&(i.__data__=t.__data__),yu(i,u,f,t.__transition__[f]),e.push(i)):e.push(null)}return or(o,f)};c.selectAll=function(n){var u=this.id,s=[],h,f,t,e,c,i,l,r,v;for(n=ls(n),i=-1,l=this.length;++i<l;)for(var a=this[i],o=-1,y=a.length;++o<y;)if(t=a[o])for(c=t.__transition__[u],f=n.call(t,t.__data__,o,i),s.push(h=[]),r=-1,v=f.length;++r<v;)(e=f[r])&&yu(e,r,u,c),h.push(e);return or(s,u)};c.filter=function(n){var u=[],f,e,i,t,o;for(typeof n!="function"&&(n=d3_selection_filter(n)),t=0,o=this.length;t<o;t++){u.push(f=[]);for(var e=this[t],r=0,s=e.length;r<s;r++)(i=e[r])&&n.call(i,i.__data__,r,t)&&f.push(i)}return or(u,this.id)};c.tween=function(n,t){var i=this.id;return arguments.length<2?this.node().__transition__[i].tween.get(n):wt(this,t==null?function(t){t.__transition__[i].tween.remove(n)}:function(r){r.__transition__[i].tween.set(n,t)})};c.attr=function(t,i){function f(){this.removeAttribute(r)}function e(){this.removeAttributeNS(r.space,r.local)}function o(n){return n==null?f:(n+="",function(){var t=this.getAttribute(r),i;return t!==n&&(i=u(t,n),function(n){this.setAttribute(r,i(n))})})}function s(n){return n==null?e:(n+="",function(){var t=this.getAttributeNS(r.space,r.local),i;return t!==n&&(i=u(t,n),function(n){this.setAttributeNS(r.space,r.local,i(n))})})}if(arguments.length<2){for(i in t)this.attr(i,t[i]);return this}var u=t=="transform"?d3_interpolateTransform:ur,r=n.ns.qualify(t);return ao(this,"attr."+t,i,r.local?s:o)};c.attrTween=function(t,i){function u(n,t){var u=i.call(this,n,t,this.getAttribute(r));return u&&function(n){this.setAttribute(r,u(n))}}function f(n,t){var u=i.call(this,n,t,this.getAttributeNS(r.space,r.local));return u&&function(n){this.setAttributeNS(r.space,r.local,u(n))}}var r=n.ns.qualify(t);return this.tween("attr."+t,r.local?f:u)};c.style=function(n,t,i){function u(){this.style.removeProperty(n)}function f(t){return t==null?u:(t+="",function(){var r=p.getComputedStyle(this,null).getPropertyValue(n),u;return r!==t&&(u=ur(r,t),function(t){this.style.setProperty(n,u(t),i)})})}var r=arguments.length;if(r<3){if(typeof n!="string"){r<2&&(t="");for(i in n)this.style(i,n[i],t);return this}i=""}return ao(this,"style."+n,t,f)};c.styleTween=function(n,t,i){function r(r,u){var f=t.call(this,r,u,p.getComputedStyle(this,null).getPropertyValue(n));return f&&function(t){this.style.setProperty(n,f(t),i)}}return arguments.length<3&&(i=""),this.tween("style."+n,r)};c.text=function(n){return ao(this,"text",n,iw)};c.remove=function(){return this.each("end.transition",(function(){var n;this.__transition__.count<2&&(n=this.parentNode)&&n.removeChild(this)}))};c.ease=function(t){var i=this.id;return arguments.length<1?this.node().__transition__[i].ease:(typeof t!="function"&&(t=n.ease.apply(n,arguments)),wt(this,(function(n){n.__transition__[i].ease=t})))};c.delay=function(n){var t=this.id;return wt(this,typeof n=="function"?function(i,r,u){i.__transition__[t].delay=+n.call(i,i.__data__,r,u)}:(n=+n,function(i){i.__transition__[t].delay=n}))};c.duration=function(n){var t=this.id;return wt(this,typeof n=="function"?function(i,r,u){i.__transition__[t].duration=Math.max(1,n.call(i,i.__data__,r,u))}:(n=Math.max(1,n),function(i){i.__transition__[t].duration=n}))};c.each=function(t,i){var r=this.id,u,f;return arguments.length<2?(u=vu,f=wi,wi=r,wt(this,(function(n,i,u){vu=n.__transition__[r];t.call(n,n.__data__,i,u)})),vu=u,wi=f):wt(this,(function(u){var f=u.__transition__[r];(f.event||(f.event=n.dispatch("start","end"))).on(t,i)})),this};c.transition=function(){for(var s=this.id,u=++lo,f=[],e,o,n,t,r=0,h=this.length;r<h;r++){f.push(e=[]);for(var o=this[r],i=0,c=o.length;i<c;i++)(n=o[i])&&(t=Object.create(n.__transition__[s]),t.delay+=t.duration,yu(n,i,u,t)),e.push(n)}return or(f,u)};n.svg.axis=function(){function t(t){t.each((function(){var ut=n.select(this),p=this.__chart__||e,t=this.__chart__=e.copy(),ot=s==null?t.ticks?t.ticks.apply(t,o):t.domain():s,st=h==null?t.tickFormat?t.tickFormat.apply(t,o):a:h,w=ut.selectAll(".tick").data(ot,t),y=w.enter().insert("g",".domain").attr("class","tick").style("opacity",r),ht=n.transition(w.exit()).style("opacity",r).remove(),it=n.transition(w).style("opacity",1),v,l=cu(t),ft=ut.selectAll(".domain").data([0]),b=(ft.enter().append("path").attr("class","domain"),n.transition(ft)),rt,et;y.append("line");y.append("text");var k=y.select("line"),d=it.select("line"),g=w.select("text").text(st),nt=y.select("text"),tt=it.select("text");switch(c){case"bottom":v=gl;k.attr("y2",i);nt.attr("y",Math.max(i,0)+f);d.attr("x2",0).attr("y2",i);tt.attr("x",0).attr("y",Math.max(i,0)+f);g.attr("dy",".71em").style("text-anchor","middle");b.attr("d","M"+l[0]+","+u+"V0H"+l[1]+"V"+u);break;case"top":v=gl;k.attr("y2",-i);nt.attr("y",-(Math.max(i,0)+f));d.attr("x2",0).attr("y2",-i);tt.attr("x",0).attr("y",-(Math.max(i,0)+f));g.attr("dy","0em").style("text-anchor","middle");b.attr("d","M"+l[0]+","+-u+"V0H"+l[1]+"V"+-u);break;case"left":v=na;k.attr("x2",-i);nt.attr("x",-(Math.max(i,0)+f));d.attr("x2",-i).attr("y2",0);tt.attr("x",-(Math.max(i,0)+f)).attr("y",0);g.attr("dy",".32em").style("text-anchor","end");b.attr("d","M"+-u+","+l[0]+"H0V"+l[1]+"H"+-u);break;case"right":v=na;k.attr("x2",i);nt.attr("x",Math.max(i,0)+f);d.attr("x2",i).attr("y2",0);tt.attr("x",Math.max(i,0)+f).attr("y",0);g.attr("dy",".32em").style("text-anchor","start");b.attr("d","M"+u+","+l[0]+"H0V"+l[1]+"H"+u)}t.rangeBand?(rt=t,et=rt.rangeBand()/2,p=t=function(n){return rt(n)+et}):p.rangeBand?p=t:ht.call(v,t);y.call(v,p);it.call(v,t)}))}var e=n.scale.linear(),c=vo,i=6,u=6,f=3,o=[10],s=null,h;return t.scale=function(n){return arguments.length?(e=n,t):e},t.orient=function(n){return arguments.length?(c=n in dl?n+"":vo,t):c},t.ticks=function(){return arguments.length?(o=arguments,t):o},t.tickValues=function(n){return arguments.length?(s=n,t):s},t.tickFormat=function(n){return arguments.length?(h=n,t):h},t.tickSize=function(n){var r=arguments.length;return r?(i=+n,u=+arguments[r-1],t):i},t.innerTickSize=function(n){return arguments.length?(i=+n,t):i},t.outerTickSize=function(n){return arguments.length?(u=+n,t):u},t.tickPadding=function(n){return arguments.length?(f=+n,t):f},t.tickSubdivide=function(){return arguments.length&&t},t};vo="bottom";dl={top:1,right:1,bottom:1,left:1};n.svg.brush=function(){function f(t){t.each((function(){var i=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",b).on("touchstart.brush",b),h=i.selectAll(".background").data([0]),e,o,s,t;h.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");e=i.selectAll(".resize").data(l,a);e.exit().remove();e.enter().append("g").attr("class",(function(n){return"resize "+n})).style("cursor",(function(n){return rw[n]})).append("rect").attr("x",(function(n){return/[ew]$/.test(n)?-3:null})).attr("y",(function(n){return/^[ns]/.test(n)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden");e.style("display",f.empty()?"none":null);o=n.transition(i);s=n.transition(h);r&&(t=cu(r),s.attr("x",t[0]).attr("width",t[1]-t[0]),y(o));u&&(t=cu(u),s.attr("y",t[0]).attr("height",t[1]-t[0]),w(o));v(o)}))}function v(n){n.selectAll(".resize").attr("transform",(function(n){return"translate("+t[+/e$/.test(n)]+","+i[+/^s/.test(n)]+")"}))}function y(n){n.select(".extent").attr("x",t[0]);n.selectAll(".extent,.n>rect,.s>rect").attr("width",t[1]-t[0])}function w(n){n.select(".extent").attr("y",i[0]);n.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1]-i[0])}function b(){function at(){n.event.keyCode==32&&(a||(b=null,l[0]-=t[1],l[1]-=i[1],a=2),si())}function vt(){n.event.keyCode==32&&a==2&&(l[0]+=t[1],l[1]+=i[1],a=0,si())}function tt(){var f=n.mouse(g),e=!1;nt&&(f[0]+=nt[0],f[1]+=nt[1]);a||(n.event.altKey?(b||(b=[(t[0]+t[1])/2,(i[0]+i[1])/2]),l[0]=t[+(f[0]<b[0])],l[1]=i[+(f[1]<b[1])]):b=null);ht&&ot(f,r,0)&&(y(k),e=!0);ct&&ot(f,u,1)&&(w(k),e=!0);e&&(v(k),rt({type:"brush",mode:a?"move":"resize"}))}function ot(n,r,u){var k=cu(r),p=k[0],w=k[1],c=l[u],v=u?i:t,d=v[1]-v[0],f,y;return a&&(p-=c,w-=d+c),f=(u?h:s)?Math.max(p,Math.min(w,n[u])):n[u],a?y=(f+=c)+d:(b&&(c=Math.max(p,Math.min(w,2*b[u]-f))),c<f?(y=f,f=c):y=c),v[0]!=f||v[1]!=y?(u?o=null:e=null,v[0]=f,v[1]=y,!0):void 0}function st(){tt();k.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null);n.select("body").style("cursor",null);ut.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);lt();rt({type:"brushend"})}var g=this,it=n.select(n.event.target),rt=c.of(g,arguments),k=n.select(g),d=it.datum(),ht=!/^(n|s)$/.test(d)&&r,ct=!/^(e|w)$/.test(d)&&u,a=it.classed("extent"),lt=th(),b,l=n.mouse(g),nt,ut=n.select(p).on("keydown.brush",at).on("keyup.brush",vt),ft,et;if(n.event.changedTouches)ut.on("touchmove.brush",tt).on("touchend.brush",st);else ut.on("mousemove.brush",tt).on("mouseup.brush",st);k.interrupt().selectAll("*").interrupt();a?(l[0]=t[0]-l[0],l[1]=i[0]-l[1]):d?(ft=+/w$/.test(d),et=+/^n/.test(d),nt=[t[1-ft]-l[0],i[1-et]-l[1]],l[0]=t[ft],l[1]=i[et]):n.event.altKey&&(b=l.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null);n.select("body").style("cursor",it.style("cursor"));rt({type:"brushstart"});tt()}var c=hs(f,"brushstart","brush","brushend"),r=null,u=null,t=[0,0],i=[0,0],e,o,s=!0,h=!0,l=yo[0];return f.event=function(r){r.each((function(){var u=c.of(this,arguments),r={x:t,y:i,i:e,j:o},f=this.__chart__||r;this.__chart__=r;wi?n.select(this).transition().each("start.brush",(function(){e=f.i;o=f.j;t=f.x;i=f.y;u({type:"brushstart"})})).tween("brush:brush",(function(){var n=d3_interpolateArray(t,r.x),f=d3_interpolateArray(i,r.y);return e=o=null,function(e){t=r.x=n(e);i=r.y=f(e);u({type:"brush",mode:"resize"})}})).each("end.brush",(function(){e=r.i;o=r.j;u({type:"brush",mode:"resize"});u({type:"brushend"})})):(u({type:"brushstart"}),u({type:"brush",mode:"resize"}),u({type:"brushend"}))}))},f.x=function(n){return arguments.length?(r=n,l=yo[!r<<1|!u],f):r},f.y=function(n){return arguments.length?(u=n,l=yo[!r<<1|!u],f):u},f.clamp=function(n){return arguments.length?(r&&u?(s=!!n[0],h=!!n[1]):r?s=!!n:u&&(h=!!n),f):r&&u?[s,h]:r?s:u?h:null},f.extent=function(n){var s,h,c,l,a;return arguments.length?(r&&(s=n[0],h=n[1],u&&(s=s[0],h=h[0]),e=[s,h],r.invert&&(s=r(s),h=r(h)),h<s&&(a=s,s=h,h=a),(s!=t[0]||h!=t[1])&&(t=[s,h])),u&&(c=n[0],l=n[1],r&&(c=c[1],l=l[1]),o=[c,l],u.invert&&(c=u(c),l=u(l)),l<c&&(a=c,c=l,l=a),(c!=i[0]||l!=i[1])&&(i=[c,l])),f):(r&&(e?(s=e[0],h=e[1]):(s=t[0],h=t[1],r.invert&&(s=r.invert(s),h=r.invert(h)),h<s&&(a=s,s=h,h=a))),u&&(o?(c=o[0],l=o[1]):(c=i[0],l=i[1],u.invert&&(c=u.invert(c),l=u.invert(l)),l<c&&(a=c,c=l,l=a))),r&&u?[[s,c],[h,l]]:r?[s,h]:u&&[c,l])},f.clear=function(){return f.empty()||(t=[0,0],i=[0,0],e=o=null),f},f.empty=function(){return!!r&&t[0]==t[1]||!!u&&i[0]==i[1]},n.rebind(f,c,"on")};var rw={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},yo=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],t=n.time={},l=Date;lt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){at.setUTCDate.apply(this._,arguments)},setDay:function(){at.setUTCDay.apply(this._,arguments)},setFullYear:function(){at.setUTCFullYear.apply(this._,arguments)},setHours:function(){at.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){at.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){at.setUTCMinutes.apply(this._,arguments)},setMonth:function(){at.setUTCMonth.apply(this._,arguments)},setSeconds:function(){at.setUTCSeconds.apply(this._,arguments)},setTime:function(){at.setTime.apply(this._,arguments)}};var at=Date.prototype,po=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wo=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],bo=["January","February","March","April","May","June","July","August","September","October","November","December"],ko=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.year=ei((function(n){return n=t.day(n),n.setMonth(0,1),n}),(function(n,t){n.setFullYear(n.getFullYear()+t)}),(function(n){return n.getFullYear()}));t.years=t.year.range;t.years.utc=t.year.utc.range;t.day=ei((function(n){var t=new l(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t}),(function(n,t){n.setDate(n.getDate()+t)}),(function(n){return n.getDate()-1}));t.days=t.day.range;t.days.utc=t.day.utc.range;t.dayOfYear=function(n){var i=t.year(n);return Math.floor((n-i-(n.getTimezoneOffset()-i.getTimezoneOffset())*6e4)/864e5)};["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach((function(n,i){n=n.toLowerCase();i=7-i;var r=t[n]=ei((function(n){return(n=t.day(n)).setDate(n.getDate()-(n.getDay()+i)%7),n}),(function(n,t){n.setDate(n.getDate()+Math.floor(t)*7)}),(function(n){var r=t.year(n).getDay();return Math.floor((t.dayOfYear(n)+(r+i)%7)/7)-(r!==i)}));t[n+"s"]=r.range;t[n+"s"].utc=r.utc.range;t[n+"OfYear"]=function(n){var r=t.year(n).getDay();return Math.floor((t.dayOfYear(n)+(r+i)%7)/7)}}));t.week=t.sunday;t.weeks=t.sunday.range;t.weeks.utc=t.sunday.utc.range;t.weekOfYear=t.sundayOfYear;t.format=v;var ta=bu(po),uw=ku(po),ia=bu(wo),fw=ku(wo),ra=bu(bo),ew=ku(bo),ua=bu(ko),ow=ku(ko),fa=/^%/,ea={"-":"",_:" ","0":"0"},du={a:function(n){return wo[n.getDay()]},A:function(n){return po[n.getDay()]},b:function(n){return ko[n.getMonth()]},B:function(n){return bo[n.getMonth()]},c:v("%a %b %e %X %Y"),d:function(n,t){return y(n.getDate(),t,2)},e:function(n,t){return y(n.getDate(),t,2)},H:function(n,t){return y(n.getHours(),t,2)},I:function(n,t){return y(n.getHours()%12||12,t,2)},j:function(n,i){return y(1+t.dayOfYear(n),i,3)},L:function(n,t){return y(n.getMilliseconds(),t,3)},m:function(n,t){return y(n.getMonth()+1,t,2)},M:function(n,t){return y(n.getMinutes(),t,2)},p:function(n){return n.getHours()>=12?"PM":"AM"},S:function(n,t){return y(n.getSeconds(),t,2)},U:function(n,i){return y(t.sundayOfYear(n),i,2)},w:function(n){return n.getDay()},W:function(n,i){return y(t.mondayOfYear(n),i,2)},x:v("%m/%d/%Y"),X:v("%H:%M:%S"),y:function(n,t){return y(n.getFullYear()%100,t,2)},Y:function(n,t){return y(n.getFullYear()%1e4,t,4)},Z:sb,"%":function(){return"%"}},sw={a:hw,A:cw,b:yw,B:pw,c:ww,d:oa,e:oa,H:sa,I:sa,j:rb,L:eb,m:ib,M:ub,p:ob,S:fb,U:aw,w:lw,W:vw,x:bw,X:kw,y:gw,Y:dw,Z:nb,"%":hb};o=/^\s*\d+/;ha=n.map({am:0,pm:1});v.utc=rt;go=rt("%Y-%m-%dT%H:%M:%S.%LZ");v.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ns:go;ns.parse=function(n){var t=new Date(n);return isNaN(t)?null:t};ns.toString=go.toString;t.second=ei((function(n){return new l(Math.floor(n/1e3)*1e3)}),(function(n,t){n.setTime(n.getTime()+Math.floor(t)*1e3)}),(function(n){return n.getSeconds()}));t.seconds=t.second.range;t.seconds.utc=t.second.utc.range;t.minute=ei((function(n){return new l(Math.floor(n/6e4)*6e4)}),(function(n,t){n.setTime(n.getTime()+Math.floor(t)*6e4)}),(function(n){return n.getMinutes()}));t.minutes=t.minute.range;t.minutes.utc=t.minute.utc.range;t.hour=ei((function(n){var t=n.getTimezoneOffset()/60;return new l((Math.floor(n/36e5-t)+t)*36e5)}),(function(n,t){n.setTime(n.getTime()+Math.floor(t)*36e5)}),(function(n){return n.getHours()}));t.hours=t.hour.range;t.hours.utc=t.hour.utc.range;t.month=ei((function(n){return n=t.day(n),n.setDate(1),n}),(function(n,t){n.setMonth(n.getMonth()+t)}),(function(n){return n.getMonth()}));t.months=t.month.range;t.months.utc=t.month.utc.range;var gu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],is=[[t.second,1],[t.second,5],[t.second,15],[t.second,30],[t.minute,1],[t.minute,5],[t.minute,15],[t.minute,30],[t.hour,1],[t.hour,3],[t.hour,6],[t.hour,12],[t.day,1],[t.day,2],[t.week,1],[t.month,1],[t.month,3],[t.year,1]],cb=[[v("%Y"),yi],[v("%B"),function(n){return n.getMonth()}],[v("%b %d"),function(n){return n.getDate()!=1}],[v("%a %d"),function(n){return n.getDay()&&n.getDate()!=1}],[v("%I %p"),function(n){return n.getHours()}],[v("%I:%M"),function(n){return n.getMinutes()}],[v(":%S"),function(n){return n.getSeconds()}],[v(".%L"),function(n){return n.getMilliseconds()}]],lb=ca(cb);is.year=t.year;t.scale=function(){return ts(n.scale.linear(),is,lb)};var ab={range:function(t,i,r){return n.range(+t,+i,r).map(oi)}},la=is.map((function(n){return[n[0].utc,n[1]]})),vb=[[rt("%Y"),yi],[rt("%B"),function(n){return n.getUTCMonth()}],[rt("%b %d"),function(n){return n.getUTCDate()!=1}],[rt("%a %d"),function(n){return n.getUTCDay()&&n.getUTCDate()!=1}],[rt("%I %p"),function(n){return n.getUTCHours()}],[rt("%I:%M"),function(n){return n.getUTCMinutes()}],[rt(":%S"),function(n){return n.getUTCSeconds()}],[rt(".%L"),function(n){return n.getUTCMilliseconds()}]],yb=ca(vb);return la.year=t.year.utc,t.scale.utc=function(){return ts(n.scale.linear(),la,yb)},n.json=function(n,t){return bf(n,"application/json",pb,t)},n.html=function(n,t){return bf(n,"text/html",wb,t)},n})()}))