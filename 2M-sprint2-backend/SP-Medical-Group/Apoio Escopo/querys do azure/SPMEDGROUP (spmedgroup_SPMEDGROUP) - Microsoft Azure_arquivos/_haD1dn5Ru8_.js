define("Viva.Controls/Controls/Lists/List1/Viva.List.Component",["require","exports","Weave/DirectMode","Weave","MsPortalImpl/Weave/Components","FxInternal/Weave/Util","MsPortalImpl/Weave/Util","Fx/Weave"],(function(n,t,i,r,u,f,e,o){"use strict";function h(n){var t=n.vm,u=n.state,f;return t.extensionTrigger("setItemViews",u.itemViews),t.extensionTrigger("beforeCreate"),f={body:c,listOrEmpty:l,list:v,listItems:s,listItemsOrEmpty:a,listItem:y,itemContainer:p,item:t.itemTsxFn||t.itemTemplate||w,empty:b},t.extensionTrigger("afterSetTemplates_TSX",f),i(r.If,{condition:o.toComputation(n.vm.shouldRenderList),concealmentBehavior:"remove",trueFn:function(){return i(r.GetContext,{fn:function(n){var o=e.aggregateContext(n,t,u),s=o.disabled,h=o.tabIndex;return i(r.SetContext,{disabled:s,tabIndex:h},f.body({ariaLabel:u.ariaLabel,ariaRole:u.ariaRole,ariaItemRole:u.ariaItemRole,disabled:s,itemViews:u.itemViews,tabIndex:h,vm:t},f))}})}})}function c(n,t){return t.listOrEmpty(n,t)}function l(n,t){var u=o.toComputation(n.itemViews),e=u.compose(f.isEmptyArray),s=u.compose(f.isNonEmptyArray);return i(r.Fragment,null,i("div",{className:{"fxs-display-none":e}},t.list(n,t)),i("div",{className:{"fxs-display-none":s}},t.empty(n,t)))}function a(n,t){var u=o.toComputation(n.itemViews),e=u.compose(f.isEmptyArray),s=u.compose(f.isNonEmptyArray);return i(r.Fragment,null,i("div",{className:{"fxs-display-none":e}},t.listItems(n,t)),i("div",{className:{"fxs-display-none":s}},t.empty(n,t)))}function v(n,t){return i("ul",{className:"azc-listView-list",role:o.toComputation(n.ariaRole),"aria-disabled":n.disabled,"aria-label":o.toComputation(n.ariaLabel)},s(n,t))}function s(n,t){var u=n.disabled,f=n.tabIndex;return i(r.ForEach,{collection:o.toComputation(n.itemViews),fn:function(o){var s=o.item,h=o.index,c=o.length;if(s.metadata.disabled){var l=e.aggregateContext({disabled:u,tabIndex:f},{disabled:s.metadata.disabled}),a=l.disabled,v=l.tabIndex;return i(r.SetContext,{disabled:a,tabIndex:v},t.listItem({itemView:s,itemIndex:h,itemsTotal:c,itemDisabled:a,itemTabIndex:v,ariaItemRole:n.ariaItemRole},t))}return t.listItem({itemView:s,itemIndex:h,itemsTotal:c,itemDisabled:u,itemTabIndex:f,ariaItemRole:n.ariaItemRole},t)}})}function y(n,t,u,f){var s=n.itemView,c=n.itemDisabled,h=o.toComputation(s.item.url),l=o.toComputation(n.ariaItemRole);return i("li",__assign({role:l,data:s,className:["azc-listView-item fxs-portal-hover azc-br-muted",o.toValueOrComputation(s.cssClass),{"fxs-display-none":o.toComputation(s.metadata.hidden)},f],title:o.toComputation(s.tooltip),"aria-label":r.composeComputation([o.toComputation(s.ariaLabel)],e.mapWhiteSpaceToUndefined),"aria-disabled":c,"aria-describedby":o.toComputation(s.metadata.describedById),"aria-hidden":o.toValueOrComputation(s.metadata.hidden,!1)},u||{}),i(r.If,{condition:h,concealmentBehavior:"remove",trueFn:function(){return i("a",{className:"ext-fxc-menu-item",tabindex:"-1",href:h},t.itemContainer(n,t))},falseFn:function(){return t.itemContainer(n,t)}}))}function p(t,r){var f=r.item;return typeof f=="string"?i(u.Ko,{skipSanitization:!0,require:n,content:{htmlTemplate:f,viewModel:t.itemView.item}}):f(t.itemView.item,t.itemIndex,t.itemsTotal)}function w(n){return n.toString?n.toString():null}function b(n){return i("div",{className:"azc-listView-empty"},o.toValueOrComputation(n.vm.noItemsMessage))}Object.defineProperty(t,"__esModule",{value:!0});t.ListInner=void 0;t.ListInner=h}));
define("MsPortalImpl.Controls/Controls/Lists/List1/ListView.Component",["require","exports","Weave/DirectMode","Viva.Controls/Controls/Lists/List1/Viva.List.Component"],(function(n,t,i,r){"use strict";function u(n){return i(r.ListInner,{vm:n.state.vivaListViewModel,state:n.state.vivaListState})}Object.defineProperty(t,"__esModule",{value:!0});t.ListViewInner=void 0;t.ListViewInner=u}));
define("MsPortalImpl.Controls/Controls/Lists/List1/ListView.InternalViewModel",["require","exports","FxInternal/Controls/ListView1"],(function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var r=(function(n){function t(t,i,r,u){var f=n.call(this,t,i,r)||this;return f.itemTsxFn=u,f.shouldRenderList=ko.observable(!MsPortalFx.isFeatureEnabled("earlymenucontentvm")),f}return __extends(t,n),t.prototype.startDelayedListRender=function(){this.shouldRenderList(!0)},t})(i.ViewModel);t.ViewModel=r}));
define("_generated/Less/Viva.Controls/Controls/Lists/Viva.ListView.FocusableExtension.css",["module"],(function(n){"use strict";return{css:".azc-listView-focusable.azc-listView-outlined .azc-listView-item.fxs-portal-focus:hover{box-shadow:0 0 0 2px #db7500}",moduleId:n.id}}));
define("_generated/Less/Viva.Controls/Controls/Lists/Viva.ListView.GroupableExtension.css",["module"],(function(n){"use strict";return{css:".azc-listView-group{margin:0 0 20px}.azc-listView-group:last-child{margin:0}.azc-listView-groupheader{margin:0 5px 5px 0;font-weight:600;font-size:13px;line-height:1.385}",moduleId:n.id}}));
define("_generated/Less/Viva.Controls/Controls/Lists/Viva.ListView.SelectableExtension.css",["module"],(function(n){"use strict";return{css:".azc-listView-selectable.azc-listView-outlined .azc-listView-item.fxs-portal-activated{box-shadow:0 0 0 2px #015cda}",moduleId:n.id}}));
define("Viva.Controls/Controls/Lists/List1/Viva.List",["require","exports","Viva.Controls/Util/Viva.TemplateEngine","Viva.Controls/Controls/Base/Viva.ExtensibleControl","MsPortalImpl.Controls/Controls/Base/Base","FxInternal/Css","_generated/Less/MsPortalImpl.Controls/Controls/Lists/List.css","_generated/Less/Viva.Controls/Controls/Lists/Viva.ListView.css","_generated/Less/Viva.Controls/Controls/Lists/Viva.ListView.FocusableExtension.css","_generated/Less/Viva.Controls/Controls/Lists/Viva.ListView.GroupableExtension.css","_generated/Less/Viva.Controls/Controls/Lists/Viva.ListView.SelectableExtension.css"],(function(n,t,i,r,u,f,e,o,s,h,c){"use strict";var l,v,y;Object.defineProperty(t,"__esModule",{value:!0});t.Widget=t.WidgetUIState=t.ViewModel=t.Extension=void 0;f.injectCss(e,o,s,h,c);var a="azc-listView",p="<!-- ko if: data.shouldRenderList --><!-- ko template: 'body' --><!-- /ko --><!-- /ko -->",w="<!-- ko template: {name:'listOrEmpty',data:{itemViews:$ctl.itemViews}} --><!-- /ko -->",b="<div data-bind='visible:$data.itemViews().length'><!-- ko template: 'list' --><!-- /ko --><\/div><div data-bind='visible:!$data.itemViews().length'><!-- ko template: 'empty' --><!-- /ko --><\/div>",k="<div data-bind='visible:$data.itemViews().length'><!-- ko template: 'listItems' --><!-- /ko --><\/div><div data-bind='visible:!$data.itemViews().length'><!-- ko template: 'empty' --><!-- /ko --><\/div>",d="<div class='azc-listView-empty' data-bind='text:$vm.noItemsMessage'><\/div>",g="<ul class='azc-listView-list' data-bind='attr:{role:$ctl.state.ariaRole,\"aria-disabled\":$disabled,\"aria-label\":$ctl.state.ariaLabel}'><!-- ko template: 'listItems' --><!-- /ko --><\/ul>",nt="<!-- ko foreach: $data.itemViews --><!-- ko context: {$disabled:metadata.disabled} --><!-- ko template: 'listItem' --><!-- /ko --><!-- /ko --><!-- /ko -->",tt="<li class='azc-listView-item fxs-portal-hover azc-br-muted' data-bind='disableAutoDispose:!!(ko.unwrap($data.item.url)),visible:!ko.unwrap($data.metadata.hidden)||($data.item.metadata && !ko.unwrap($data.item.metadata.hidden)),attr:{role:$ctl.state.ariaItemRole,title:$data.tooltip(),\"aria-label\":($data.ariaLabel()||\"\").trim()||undefined,\"aria-disabled\":$disabled,\"aria-describedby\":$data.metadata.describedById,\"aria-hidden\":ko.unwrap($data.metadata.hidden)?\"true\":\"false\" }'><!-- ko if: $data.item.url --><a class='ext-fxc-menu-item' tabindex='-1' data-bind='attr:{href:$data.item.url}'><!-- ko template: 'itemContainer' --><!-- /ko --><\/a><!-- /ko --><!-- ko ifnot: $data.item.url --><!-- ko template: 'itemContainer' --><!-- /ko --><!-- /ko --><\/li>",it="<!-- ko template: {name:'item',data:item} --><!-- /ko -->",rt="<!-- ko vtext: $data.toString?$data.toString():null --><!-- /ko -->",ut=(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.setItemViews=function(n){this._itemViews=n},t})(r.Extension);t.Extension=ut;l=(function(n){function t(t){var i=n.call(this,t)||this;return r.initializePlugins(i.extensions),i.plugins=t.plugins||{},i.items=t.items||ko.observableArray(),i.filterText=t.filterText,i.filterKey=t.filterKey,i.events=t.events||MsPortalFx.noop,i.itemTemplate=t.itemTemplate,i.noItemsMessage=t.noItemsMessage,i.isMenu=t.isMenu,i.outlineStyle=t.outlineStyle||ko.observable(!0),i.itemTsxFn=t.itemTsxFn,i.shouldRenderList=t.shouldRenderList||ko.observable(!0),i.ariaLabel=t.ariaLabel,i}return __extends(t,n),t})(r.ViewModel);t.ViewModel=l;v=(function(n){function t(t){var i=n.call(this)||this,r;return i.widget$Disabled=ko.observable(!1),i.ariaRole=ko.observable("list"),i.ariaItemRole=ko.observable("listitem"),r=t.vm,i.ariaLabel=MsPortalFx.initObservable(r.ariaLabel),i.itemViews=r.items.map(i._ltm,(function(n,t){var u=ko.ignoreDependencies((function(){var u=i._createItemView(t,r);return r.filterText&&r.filterKey&&(u.metadata.hidden=ko.computed(n,[r.filterText,r.filterKey],(function(n,t){return!!t&&!!n&&!~(ko.unwrap(u.item[t])||"").toLowerCase().indexOf(n.toLowerCase())}))),u}));return n.registerForDispose((function(){i._disposeItemView(u,r)})),u})),i}return __extends(t,n),t.prototype._createItemView=function(n,t){var i={item:n,cssClass:n.cssClass||ko.observable(""),ariaLabel:ko.isObservable(n.ariaLabel)?n.ariaLabel:ko.observable(n.ariaLabel),tooltip:ko.isObservable(n.tooltip)?n.tooltip:ko.observable(n.tooltip),metadata:MsPortalFx.extend({disabled:ko.observable(!1),describedById:ko.observable(null)},n.metadata)};return t.extensionTrigger("initializeItemView",i,this.widget$Disabled),i},t.prototype._disposeItemView=function(n,t){t.extensionTrigger("removeItemView",n)},t})(u.WidgetUIState);t.WidgetUIState=v;y=(function(n){function t(t,r,u,f){var e=this;return u=u||{},u.viewModelType=u.viewModelType||l,e=n.call(this,t,r,u,f)||this,e.element.addClass(a),e.weaveContext?e.$disabled.subscribeAndRun(e.ltm,e.state.widget$Disabled):(e.templateEngine=new i.HtmlTemplateEngine,e.options.extensionTrigger("setItemViews",e.state.itemViews),e.options.extensionTrigger("beforeCreate"),e._setTemplates(),e.element.html(p)),e.options.outlineStyle.subscribeAndRun(e.ltm,(function(n){return e.element.toggleClass("azc-listView-outlined",n)})),e.options.extensionTrigger("beforeAttachEvents"),e.options.extensionTrigger("afterAttachEvents"),e.weaveContext||e._bindDescendants(),e.options.extensionTrigger("afterCreate"),e}return __extends(t,n),t.prototype._initializePlugins=function(n){var t=this;n.extensions.forEach((function(n){n.setInstance(t)}))},t.prototype.dispose=function(){this.options.extensionTrigger("beforeDestroy");this.options.extensionTrigger("beforeDetachEvents");this.options.extensionTrigger("afterDetachEvents");this._cleanElement(a,"azc-listView-outlined");n.prototype.dispose.call(this);this.options.extensionTrigger("afterDestroy")},Object.defineProperty(t.prototype,"itemViews",{get:function(){return this.state.itemViews},enumerable:!1,configurable:!0}),t.prototype._setTemplates=function(){this.templateEngine.setTemplate({body:w,listOrEmpty:b,listItemsOrEmpty:k,list:g,empty:d,listItem:tt,listItems:nt,itemContainer:it,item:this.options.itemTemplate||rt});this.templateEngine.getHtmlTemplate("listItem").addAttribute("li","data-bind",["keyedCss:{ listItem: $data.cssClass}"]);this.options.extensionTrigger("afterSetTemplates",this.templateEngine)},t})(r.Widget);t.Widget=y}));
define("Viva.Controls/Controls/Lists/List1/Viva.List.Focusable",["require","exports","MsPortalImpl/Base/JQueryHelper","Viva.Controls/Util/Viva.Util","Viva.Controls/Controls/Lists/List1/Viva.List","WeaveDOM/DirectRender/DataAttribute","FxInternal/Weave/Util","MsPortalImpl/Weave/Util","Fx/Weave"],(function(n,t,i,r,u,f,e,o,s){"use strict";function g(n,t,i){var u=n.get(0);n.find(":focus").length===0&&(t&&r.setFocusToFirstFocusableChild(n)||(i?o.tryFocusAfterChangePropagation(u):u.focus()))}function h(n){var t=i.filterVisible(n,a);return t.length?t:i.filterVisible(n,k)}var y;Object.defineProperty(t,"__esModule",{value:!0});t.FocusableExtension=t.TabMode=void 0;var p=window,w="attr:{'data-listView-focusable':true}",b="attr:{tabindex:metadata.tabIndex}, keyedCss:{ listTabIndex: $disabled()?'':'fxs-portal-focus'}",c=".azc-listView-item",v=".ext-fxc-menu-item",a=c+"[data-listView-focusable=true]:not([aria-disabled=true])",k=v+"[data-listView-focusable=true]:not([aria-disabled=true])",d=MsPortalFx.disposeDisposable,l;(function(n){n[n.LastFocused=0]="LastFocused";n[n.All=1]="All"})(l=t.TabMode||(t.TabMode={}));y=(function(n){function t(t){var i=n.call(this)||this;return i._disposables=[],i._activeItem=ko.observable(),i._options=t=t||{},t.tabMode=t.tabMode||l.LastFocused,i}return __extends(t,n),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),t.prototype.afterCreate=function(){var n=this;ko.computed(this.ltm,(function(){var o=n._itemViews(),t=n._activeItem(),s,u,r,e,i;if(t&&(i=t.metadata,(o.indexOf(t)<0||[i.disabled,i.hidden].some(ko.utils.peekObservable))&&n._activeItem(t=null)),s=function(n){return n&&(n.hidden&&n.hidden()||n.disabled&&n.disabled())},!t)for(u=0;u<o.length;u++)if(r=o[u],r&&r.metadata&&(i=r.metadata,i.selected&&i.selected()&&!s(i))){n._setActiveItem(t=r);break}t||(e=h(n._widget.element[0])[0],e&&n._setActiveItem(t=n._widget.weaveContext?f.getElementData(e):ko.dataFor(e)));t&&(i=t.metadata,[i.disabled,i.hidden].forEach(ko.unwrap))})).extend({rateLimit:{timeout:50,method:"notifyWhenChangesStop"}})},t.prototype.afterSetTemplates=function(n){n.getHtmlTemplate("listItem").addAttribute("li","data-bind",[w,b])},t.prototype.afterSetTemplates_TSX=function(n){var t=n.listItem;n.listItem=function(n,i,r,u){return r=r||{},r.tabindex=s.toComputation(n.itemView.metadata.tabIndex),u=u||[],u.push({"fxs-portal-focus":n.itemDisabled.compose(e.negation)}),r["data-listView-focusable"]="true",t(n,i,r,u)}},t.prototype.initializeItemView=function(n,t){var r=this,i=n.metadata;i.focused||(i.focused=ko.observable(!1));i.tabIndex=ko.pureComputed((function(){var u=r.options.tabMode,e=t(),o=n.metadata.disabled(),s=i.focused(),f=null;return u!==l.All&&(u!==l.LastFocused||!s)||e||o||(f=0),f}))},t.prototype.getOrder=function(){return 10},t.prototype.afterAttachEvents=function(){var n=this;this._disposables.push(this._widget.element.setEvents(["click.azcListView.focusable",a,function(t){var i=$(this).closest(c);n._focusItem(i,n._widget.weaveContext?f.getElementData(i[0]):ko.dataFor(i[0]),!0,t)},],["focusin.azcListView.focusable",a,function(){var t=$(this).closest(c);n._setActiveItem(n._widget.weaveContext?f.getElementData(t[0]):ko.dataFor(t[0]))},],["keydown.azcListView.focusable",function(t){var r=$(t.target).filter(c),i;if(r.length||(r=$(t.target).filter(v)),r.length===1){switch(t.which){case 38:i=n._findPreviousAboveFocusable(r);t.preventDefault();break;case 37:i=n._findPreviousFocusable(r);t.preventDefault();break;case 40:i=n._findNextBelowFocusable(r);t.preventDefault();break;case 39:i=n._findNextFocusable(r);t.preventDefault()}i&&i.length>0&&n._focusItem(i,n._widget.weaveContext?f.getElementData(i[0]):ko.dataFor(i[0]),!1,t)}},]))},t.prototype.beforeDestroy=function(){d(this._disposables);this._disposables=[];this._activeItem(null);this._widget.element.removeClass("fxs-portal-focus")},t.prototype.getName=function(){return t.Name},t.prototype._findPreviousFocusable=function(n){var r=n[0],i=h(this._widget.element[0]),t;if(r)for(t=i.length-1;t>=0;t--)if(r===i[t]&&t>0)return $(i[t-1]);return $(i[i.length-1])},t.prototype._findPreviousAboveFocusable=function(n){var f=n[0],u=h(this._widget.element[0]),t,i,s,e,c,l,r,o;if(f)for(c=f.offsetTop,l=f.offsetLeft,t=0;t<u.length;t++)r=c-u[t].offsetTop,r>0&&(!i||r<=e)&&(o=Math.abs(u[t].offsetLeft-l),(!i||r<e||o<s)&&(i=$(u[t]),s=o,e=r));return i?i:this._findPreviousFocusable(n)},t.prototype._findNextFocusable=function(n){var r=n[0],i=h(this._widget.element[0]),t;if(r)for(t=0;t<i.length;t++)if(r===i[t]&&t<i.length-1)return $(i[t+1]);return $(i[0])},t.prototype._findNextBelowFocusable=function(n){var f=n[0],u=h(this._widget.element[0]),t,i,s,e,c,l,r,o;if(f)for(c=f.offsetTop,l=f.offsetLeft,t=0;t<u.length;t++)r=u[t].offsetTop-c,r>0&&(!i||r<=e)&&(o=Math.abs(u[t].offsetLeft-l),(!i||r<e||o<s)&&(i=$(u[t]),s=o,e=r));return i?i:this._findNextFocusable(n)},t.prototype._focusItem=function(n,t,i,u){var e=$(n),f;t&&e[0]!==p.document.activeElement&&(this._setActiveItem(t),g(e,i,!!this._widget.weaveContext),f={focused:t.item},this._widget.trigger("itemFocus",r.cloneEvent(u,"itemFocus"),f),this._widget.options.events("focus",f))},t.prototype._setActiveItem=function(n){var t=this._activeItem();n&&n!==t&&(t&&t.metadata.focused(!1),this._activeItem(n),n.metadata.focused(!0))},t.Name="azc-listView-focusable",t})(u.Extension);t.FocusableExtension=y}));
define("Viva.Controls/Controls/Lists/List1/Viva.List.Selectable",["require","exports","Weave/DirectMode","Viva.Controls/Controls/Lists/List1/Viva.List.Focusable","Viva.Controls/Util/Viva.Util","Viva.Controls/Controls/Lists/List1/Viva.List","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl/Base/Base.KeyboardHelper","Weave","MsPortalImpl/Weave/Components","WeaveDOM/DirectRender/DataAttribute","FxInternal/Weave/Util","Fx/Weave"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a){"use strict";function y(n,t){return MsPortalFx.find(n(),(function(n){return n.item===t}))}var b;Object.defineProperty(t,"__esModule",{value:!0});t.SelectableExtension=t.SelectionMode=void 0;var k=window,d="attr:{'data-listView-selectable':true}",g="keyedCss: {listSelected: $vm.plugins.selectable._itemSelected(metadata) ? 'fxs-portal-activated' : ''}, attr:{ 'aria-selected': $vm.plugins.selectable._itemSelected(metadata).toString(), 'aria-describedby': $vm.plugins.selectable._itemAriaDesc(metadata) }",p=".azc-listView-item",w=p+"[data-listView-selectable=true]:not([aria-disabled=true])",nt="<!-- ko template: {name:'item',data:item} --><!-- /ko --><!-- ko if: metadata.selected() --><!-- ko template: 'selectedOverlay' --><!-- /ko --><!-- /ko -->",v;(function(n){n[n.Single=0]="Single";n[n.Multiple=1]="Multiple"})(v=t.SelectionMode||(t.SelectionMode={}));b=(function(t){function f(n){var i=t.call(this)||this;return i._options=$.extend(i._getDefaultOptions(),n),i._selectedIndicatorId=MsPortalFx.getUniqueId(),i}return __extends(f,t),Object.defineProperty(f.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),f.prototype.getSelected=function(){return this.options.selectedItems()},f.prototype.select=function(n,t,i){this._select(n,t,i)},f.prototype.unselect=function(n){n.metadata.selected(!1);this.options.selectedItems.remove(n.item)},f.prototype.afterSetTemplates=function(n){this.options.selectionMode===v.Multiple&&n.getHtmlTemplate("list").addAttribute("ul","aria-multiselectable",["true"]);n.getHtmlTemplate("listItem").addAttribute("li","data-bind",[d,g]);this.options.selectedOverlayTemplate&&n.setTemplate({itemContainer:nt,selectedOverlay:this.options.selectedOverlayTemplate})},f.prototype.afterSetTemplates_TSX=function(t){var r=this,f=t.listItem,u;t.listItem=function(n,t,i,u){return u=u||[],u.push({"fxs-portal-activated":a.toComputation(n.itemView.metadata.selected)}),i=i||{},i["aria-selected"]=a.toComputation(n.itemView.metadata.selected),i["aria-describedby"]=s.composeComputation([a.toComputation(n.itemView.metadata.selected,l.falseComputation),a.toComputation(n.itemView.metadata.describedById,l.emptyStringComputation),],(function(n,t){return[t||"",n?r._selectedIndicatorId:""].join(" ").trim()||null})),i["data-listView-selectable"]="true",f(n,t,i,u)};this.options.selectedOverlayTemplate&&(u=t.itemContainer,t.itemContainer=function(t,f){return i(s.Fragment,null,u(t,f),i(s.If,{condition:a.toComputation(t.itemView.metadata.selected),concealmentBehavior:"remove",trueFn:function(){return i(h.Ko,{skipSanitization:!0,require:n,content:{htmlTemplate:r.options.selectedOverlayTemplate,viewModel:t.itemView.item}})}}))})},f.prototype.initializeItemView=function(n){var t=n.metadata,i=this.options.selectedItems.peek().indexOf(n.item)>=0;t.selected?t.selected(i):t.selected=ko.observable(i)},f.prototype.removeItemView=function(n){this.options.selectedItems.remove(n.item)},f.prototype.afterAttachEvents=function(){var n=this,t=function(t){n._changeSelection(this,t,o.isCtrlOrCommandOnly(t))};this._ltm.registerForDispose(this._widget.element.setEvents(["click.azcListView.selectable",w,t,],["dblclick.azcListView.selectable",w,t,],["keydown.azcListView.selectable",function(t){(t.which===13||t.which===32)&&$(t.target).is(p)&&t.target===k.document.activeElement&&(n._changeSelection(t.target,t,o.isCtrlOrCommandOnly(t)),t.preventDefault())},]))},f.prototype.afterCreate=function(){var n=this;MsPortalFx.isNullOrUndefined(this._options.selectionMode)||(this._widget.state.ariaRole("listbox"),this._widget.state.ariaItemRole("option"));this.options.selectedItems.subscribeArrayChanges(this._ltm,(function(t){var i=y(n._itemViews,t);i&&n.select(i,!0,!1)}),(function(t){var i=y(n._itemViews,t);i&&n.unselect(i)}));this._widget.element.append($(FxImpl.createElement("div",{"class":"fxs-hide-accessible-label","aria-hidden":"true",id:this._selectedIndicatorId})).text(e.Controls.ListView.selected));this._itemViews().forEach((function(t){t.metadata.selected(n.options.selectedItems.indexOf(t.item)>=0)}))},f.prototype.getOrder=function(){return 20},f.prototype.getDependencies=function(){return[new r.FocusableExtension]},f.prototype.beforeDestroy=function(){this._widget.element.removeClass("fxs-portal-activated").attr({"aria-expanded":null,"aria-describedby":null})},f.prototype.getName=function(){return f.Name},f.prototype._changeSelection=function(n,t,i){var f=this._widget.weaveContext?c.getElementData(n):ko.dataFor(n),r;f.item.hasOwnProperty("url")&&i||(r=this._select(f,i,i),this._widget.trigger("itemSelect",u.cloneEvent(t,"itemSelect"),r),this._widget.options.events("select",r))},f.prototype._getDefaultOptions=function(){return{selectionMode:v.Single,selectedItems:ko.observableArray(),selectedOverlayTemplate:null}},f.prototype._select=function(n,t,i){var f=this,u,r={selected:[],unselected:[]};return this.options.selectedItems().forEach((function(e){var o=e===n.item,s,h;u=u||o;s=t&&f.options.selectionMode===v.Multiple?!o||o&&!i:o&&!i;s?o&&n.metadata.selected(!0):(h=y(f._itemViews,e),h&&h.metadata.selected(s),r.unselected.push(e))})),r.unselected.length&&this.options.selectedItems.removeAll(r.unselected),u||(n.metadata.selected(!0),r.selected.push(n.item),this._options.selectedItems.push(n.item)),r},f.prototype._itemAriaDesc=function(n){var t=[n.describedById()||""];return n.selected()&&t.push(this._selectedIndicatorId),t.join(" ").trim()||null},f.prototype._itemSelected=function(n){return!!(!this._widget.$disabled()&&n.selected())},f.Name="azc-listView-selectable",f})(f.Extension);t.SelectableExtension=b}));
define("Viva.Controls/Controls/Lists/List1/Viva.List.ContextMenu",["require","exports","Viva.Controls/Controls/Lists/List1/Viva.List.Selectable","Viva.Controls/Util/Viva.Util","Viva.Controls/Controls/Lists/List1/Viva.List","MsPortalImpl/Base/Base.KeyboardHelper","WeaveDOM/DirectRender/DataAttribute"],(function(n,t,i,r,u,f,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContextMenuExtension=void 0;var o=".azc-listView-item[data-listView-selectable=true]:not([aria-disabled=true])",s=(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),Object.defineProperty(t.prototype,"options",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.afterAttachEvents=function(){var n=this._widget;this._ltm.registerForDispose(n.element.setEvents(["contextmenu.azcListView.contextMenu",o,function(t){if(t.which!==3||!(f.isCtrlOrCommandOnly(t)||n.element.hasClass("fxc-menu-grid"))){var i=n.weaveContext?e.getElementData(this):ko.dataFor(this);i.metadata.selected()||n.options.extensionTrigger("select",i);n.trigger("listViewContextMenu",r.cloneEvent(t,"listViewContextMenu"),i,t.target)}}]))},t.prototype.getDependencies=function(){return[new i.SelectableExtension]},t.prototype.getName=function(){return t.Name},t.Name="azc-listView-contextMenu",t})(u.Extension);t.ContextMenuExtension=s}));
define("Viva.Controls/Controls/Lists/List1/Viva.List.Groupable",["require","exports","Weave/DirectMode","Viva.Controls/Controls/Lists/List1/Viva.List","Weave","MsPortalImpl/Weave/Components","FxInternal/Weave/Util","Fx/Weave"],(function(n,t,i,r,u,f,e,o){"use strict";function c(n){return MsPortalFx.isNullOrUndefined(n)?n:ko.toJS(n)}function s(n){var t=c(n);return t!==undefined&&t!==null&&t.toString?t.toString()||"":""}function p(n,t){var i=[],r={};return t.forEach((function(t){t.item[n]===MsPortalFx.Assets.QuickAccessGroupId&&(t.item[n]=MsPortalFx.Resources.Strings.Part.SettingList.Group.quickAccess);var f=t.item[n],u=s(f);u&&!r[u]&&(i.push({value:c(f)}),r[u]=!0)})),i}function w(n,t,i){var u=[],r;return t===0?u=n:(r=n.map((function(n){return c(n.value)})),i?r.sort(i):r.sort(),t===2&&r.reverse(),r.forEach((function(t){var i=s(t);n.forEach((function(n){i===s(n.value)&&u.push(n)}))}))),u}function b(n,t,i,r){n().forEach((function(n){var u,f=s(n.item[i]);f&&(u=MsPortalFx.find(t,(function(n){return f===s(n.value)})));n.metadata.groupId(u?u.value:"");n.metadata.describedById(u?u.groupHeaderId:r)}))}function l(n,t){return MsPortalFx.isNullOrUndefined(n)?t.noGroupLabel:n}function k(t,r,u){return r.headerTsxFn?r.headerTsxFn(t):r.headerTemplate?r.headerTemplate===h?i("div",{className:"azc-listView-groupheader-text"},l(t.value,u.plugins.groupable.options)):i(f.Ko,{skipSanitization:!0,require:n,content:{htmlTemplate:r.headerTemplate,viewModel:t}}):i("div",{className:"azc-listView-groupheader-text"},l(t.value,r))}var a;Object.defineProperty(t,"__esModule",{value:!0});t.GroupableExtension=void 0;var v="<!-- ko if: $ctl.itemViews().length > 0 --><div data-bind='attr:{role:$ctl.state.ariaRole}'><!-- ko foreach: $vm.plugins.groupable.groups --><div role=\"group\" class='azc-listView-group' data-bind='attr: {\"aria-label\":$vm.plugins.groupable.getGroupAriaLabel($data)}, visible: $vm.plugins.groupable.groupHasVisibleItems($data.groupMembers = $vm.plugins.groupable.getItemViewsByGroup(value))'><div class='azc-listView-groupheader azc-br-muted' data-bind='attr:{id:groupHeaderId}'><!-- ko template: 'groupHeaderTemplate' --><!-- /ko --><\/div><!-- ko template: {name:'listItemsOrEmpty',data:{itemViews:$data.groupMembers}} --><!-- /ko --><\/div><!-- /ko --><!-- ko if: $vm.plugins.groupable.getItemViewsByGroup('')().length --><div role=\"group\" class='azc-listView-group' data-bind='attr:{\"aria-label\":$vm.plugins.groupable.getGroupAriaLabel()}'><div class='azc-listView-groupheader azc-br-muted' data-bind='attr:{id:$vm.plugins.groupable.groupIdForUnassigned}'><!-- ko template: {name:'noGroupHeaderTemplate'} --><!-- /ko --><\/div><!-- ko template: {name:'listItems',data:{itemViews:$vm.plugins.groupable.getItemViewsByGroup('')}} --><!-- /ko --><\/div><!-- /ko --><\/div><!-- /ko --><!-- ko ifnot: $ctl.itemViews().length --><!-- ko template: 'empty' --><!-- /ko --><!-- /ko -->",h="<div class='azc-listView-groupheader-text' data-bind='text:$vm.plugins.groupable.valueOrDefaultHeader(value)'><\/div>",y="<div class='azc-listView-groupheader-text' data-bind='text:$vm.plugins.groupable.options.noGroupLabel'><\/div>";a=(function(n){function t(t){var i=n.call(this)||this;return i._groupItemViews={},i.groupIdForUnassigned=MsPortalFx.getUniqueId(),i._options=MsPortalFx.extend({groupKey:ko.observable(""),headerTemplate:h,groups:null,noGroupLabel:"",noGroupAriaLabel:"",order:ko.observable(0),sortFunction:null,headerTsxFn:null},t),i}return __extends(t,n),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),t.prototype.afterSetTemplates=function(n){n.setTemplate({body:v,noGroupHeaderTemplate:y,groupHeaderTemplate:this.options.headerTemplate||h})},t.prototype.afterSetTemplates_TSX=function(n){var t=this;n.body=function(n,r){var s=u.composeComputation([o.toComputation(n.itemViews)],e.isEmptyArray),h=u.composeComputation([o.toComputation(n.itemViews)],e.isNonEmptyArray),f=t.getItemViewsByGroup(""),c=u.composeComputation([o.toComputation(f)],e.isNonEmptyArray),l=t._getGroupAriaLabelComputation(null);return i(u.Fragment,null,i(u.If,{condition:h,concealmentBehavior:"remove",trueFn:function(){return i("div",{className:"azc-listView-list",role:o.toComputation(n.ariaRole),"aria-disabled":n.disabled,"aria-label":o.toComputation(n.ariaLabel)},i(u.ForEach,{collection:o.toComputation(t._groups),fn:function(f){var e=f.item,s=t.getItemViewsByGroup(e.value),h=t._getGroupAriaLabelComputation(e),c=i("div",{className:"azc-listView-groupheader azc-br-muted",id:e.groupHeaderId},k(e,t.options,n.vm)),l=r.listItemsOrEmpty({ariaLabel:n.ariaLabel,ariaRole:n.ariaRole,ariaItemRole:n.ariaItemRole,disabled:n.disabled,itemViews:s,tabIndex:n.tabIndex,vm:n.vm},r);return i(u.LifetimeManagerScoped,{fn:function(n){return i("div",{role:"group",className:["azc-listView-group",{"fxs-display-none":o.toComputation(ko.computed(n,(function(){return!t.groupHasVisibleItems(s)})))}],"aria-label":h},c,l)}})}}),i(u.If,{condition:c,concealmentBehavior:"remove",trueFn:function(){return i("div",{role:"group",className:"azc-listView-group","aria-label":l},i("div",{className:"azc-listView-groupheader azc-br-muted",id:t.groupIdForUnassigned},i("div",{className:"azc-listView-groupheader-text"},t.options.noGroupLabel)),r.listItems({ariaLabel:n.ariaLabel,ariaRole:n.ariaRole,ariaItemRole:n.ariaItemRole,disabled:n.disabled,itemViews:f,tabIndex:n.tabIndex,vm:n.vm},r))}}))}}),i(u.If,{condition:s,concealmentBehavior:"remove",trueFn:function(){return r.empty(n,r)}}))}},t.prototype.beforeCreate=function(){var n=this;this._groups=ko.computed(this.ltm,(function(){var i=n.options.groups?n.options.groups():null,t=i||p(n.options.groupKey(),n._itemViews());return t.forEach((function(n){return n.groupHeaderId=MsPortalFx.getUniqueId()})),b(n._itemViews,t,n.options.groupKey(),n.groupIdForUnassigned),w(t,n.options.order(),n.options.sortFunction)})).extend({deferred:!0})},t.prototype.beforeDestroy=function(){MsPortalFx.disposeDisposable(this._groups,this._groupsComputed)},t.prototype.initializeItemView=function(n){var t=n.metadata;t.groupId||(t.groupId=ko.observable(""))},t.prototype.getItemViewsByGroup=function(n){var r=this,t,i;if(MsPortalFx.isNullOrUndefined(n))throw new Error("groupId cannot be null or undefined when fetching group items.");return t=this._groupItemViews,this._groupsComputed||(this._groupsComputed=ko.computed(this.ltm,(function(){var n=r._itemViews();n.forEach((function(n){return ko.unwrap(n.metadata.groupId)}));ko.ignoreDependencies((function(){var i={};Object.keys(t).forEach((function(n){return i[n]=[]}));n.forEach((function(n){var t=s(n.metadata.groupId);(i[t]||(i[t]=[])).push(n)}));Object.keys(i).forEach((function(n){return t[n]?t[n](i[n]):t[n]=ko.observableArray(i[n])}))}))})).extend({deferred:!0})),i=s(n),t[i]||(t[i]=ko.observableArray())},t.prototype.groupHasVisibleItems=function(n){return!!n().filter((function(n){return!ko.unwrap(n.metadata.hidden)})).length},t.prototype.getGroupAriaLabel=function(n){n=n||{value:null};var t=(ko.unwrap(n.ariaLabel)||"").trim();return t||(MsPortalFx.isNullOrUndefined(n.value)?this.options.noGroupAriaLabel||this.options.noGroupLabel:n.value)||undefined},t.prototype._getGroupAriaLabelComputation=function(n){var t=this;return n=n||{value:null},u.composeComputation([o.toValueOrComputation(n.ariaLabel,e.emptyStringComputation)],(function(i){var r=(i||"").trim();return r||(MsPortalFx.isNullOrUndefined(n.value)?t.options.noGroupAriaLabel||t.options.noGroupLabel:n.value)||undefined}))},t.prototype.valueOrDefaultHeader=function(n){return l(n,this.options)},t.prototype.getName=function(){return t.Name},t.Name="azc-listView-groupable",t})(r.Extension);t.GroupableExtension=a}));
define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/ListView.css",["module"],(function(n){"use strict";return{css:'.fxc-listView.azc-listView.azc-listView-selectable .azc-listView-item[aria-selected=true]{position:relative}.fxc-listView.azc-listView.azc-listView-selectable.fxc-list-activateonselected .azc-listView-list>.azc-listView-item:not([aria-disabled="true"]):hover{cursor:pointer}',moduleId:n.id}}));
define("MsPortalImpl.Controls/Controls/Lists/List1/ListView",["require","exports","Weave/DirectMode","MsPortalImpl.Controls/Controls/Base/Loadable","Viva.Controls/Controls/Lists/List1/Viva.List","Viva.Controls/Controls/Lists/List1/Viva.List.Selectable","Viva.Controls/Controls/Lists/List1/Viva.List.Groupable","Viva.Controls/Controls/Lists/List1/Viva.List.ContextMenu","MsPortalImpl.Controls/Controls/Base/Base","MsPortalImpl.Controls/Controls/Lists/List1/ListView.Component","MsPortalImpl.Controls/Controls/Lists/List1/ListView.InternalViewModel","MsPortalImpl/Base/Base.KnockoutTemplateSanitizer","Weave","FxInternal/Css","_generated/Less/MsPortalImpl/Parts/Parts.Properties.css","_generated/Less/MsPortalImpl.Controls/Controls/Lists/ListView.css","FxInternal/Controls/ListView1"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){"use strict";function it(n){return i(a.GetContext,{fn:function(t){var r=new g({vm:n.vm,isTrusted:!0,sanitizationContext:undefined});return i("div",{className:n.className,afterMount:function(i,u){u.registerForDispose(new k($(i),n.vm,{weaveContext:t,diContainer:t.diContainer},r))}},i(h.ListViewInner,{vm:n.vm,state:r}))}})}var k;Object.defineProperty(t,"__esModule",{value:!0});t.ListView=t.Widget=t.InnerTsxComponent=t.WidgetUIState=void 0;v.injectCss(y,p);var b=w.Extensions,d="fxc-listView",nt="fxc-list-activateonselected",tt="listViewContextMenu",g=(function(t){function i(i){var y=t.call(this)||this,r=i.vm,d=r.extensions,rt=d&b.Selectable,p=y._ltm,h=r.extensionOptions||{},v=h.selectable,ut=i.isTrusted||s.isViewModelTrusted(r),ft,et,k,g,a,nt,tt,it;if(d&b.Filterable&&h.filterable&&(ft=h.filterable.filterText,et=h.filterable.filterKey),k=[],g={},rt&&(a=ko.observableArray(),v&&(nt=v.selection,nt&&(it=function(n,t){var i=MsPortalFx.find(nt.selectableItems(),(function(t){return t.data===n}));i&&(tt=!0,i.isSelected(t),tt=!1,v.activateOnSelected&&i.isActivated(t))},a.subscribeArrayChanges(p,(function(n){return it(n,!0)}),(function(n){return it(n,!1)})),ko.computed(p,(function(){nt.selectableItems().forEach((function(n){var i=n.isSelected(),t;tt||(t=a.peek().indexOf(n.data),i&&t<0?a.push(n.data):!i&&t>=0&&a.splice(t,1))}))}))),v.selectionMode===w.SelectionMode.Single&&(a.subscribe(p,(function(n){n&&n[0]&&v.selectedItem(n[0])})),v.selectedItem.subscribeAndRun(p,(function(n){if(n){var t=a();t.length===1&&t[0]===n||a.splice(0,t.length,n)}else a.removeAll()})))),k.push(g.selectable=new f.SelectableExtension(v&&{selectionMode:v.selectionMode,selectedItems:a}))),d&b.ContextMenu){if(!rt)throw new Error("The list view context menu extension depends on the selection extension, but selection is not enabled.");k.push(new o.ContextMenuExtension)}return d&b.Groupable&&k.push(g.groupable=new e.GroupableExtension(h.groupable&&{groupKey:h.groupable.groupKey,groups:h.groupable.groups,headerTemplate:ut?h.groupable.headerTemplate:l.sanitizeHTML(h.groupable.headerTemplate,n,i.sanitizationContext).sanitizedMarkup,noGroupLabel:h.groupable.noGroupLabel,noGroupAriaLabel:h.groupable.noGroupAriaLabel,order:h.groupable.order,sortFunction:null,headerTsxFn:r instanceof c.ViewModel?h.groupable.headerTsxFn:null})),y.vivaListViewModel=new u.ViewModel({ltm:p,ariaLabel:r.ariaLabel,disabled:r.disabled,events:r.events,items:r.items,itemTemplate:ut?r.itemTemplate:l.sanitizeHTML(r.itemTemplate,n,i.sanitizationContext).sanitizedMarkup,noItemsMessage:r.noItemsMessage,outlineStyle:r.outlineStyle,filterText:ft,filterKey:et,extensions:k,plugins:g,itemTsxFn:r instanceof c.ViewModel?r.itemTsxFn:null,shouldRenderList:r instanceof c.ViewModel?r.shouldRenderList:null}),y.vivaListState=new u.WidgetUIState({vm:y.vivaListViewModel}),y}return __extends(i,t),i})(s.WidgetUIState);t.WidgetUIState=g;t.InnerTsxComponent=h.ListViewInner;k=(function(n){function t(t,i,r,u){var f=n.call(this,t,i,r,u)||this;return f.element.addClass(d),f._initializeWidgets(),f}return __extends(t,n),t.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this.element.removeClass(d),n.prototype.dispose.call(this))},t.prototype._initializeWidgets=function(){var o=this,r=this.options,f=this.element,s=r.extensionOptions||{},t=s.selectable,e=r.extensions,n,i;t&&t.activateOnSelected&&f.addClass(nt);e&b.Selectable&&t&&(i=t.selection,i&&i.selectedItems.subscribe(this.ltm,(function(){n&&(n.resolve(),n=null)})));e&b.ContextMenu&&this.ltm.registerForDispose(f.setEvents([tt,function(t,i){return(n=Q.defer()).promise.then((function(){o._triggerRightClickEvent(t,i.item);n=null})),i.metadata.selected()&&n.resolve(),t.preventDefault(),t.stopPropagation(),!0}]));this._widgets.push(new u.Widget(this.element,this.state.vivaListViewModel,{weaveContext:this.weaveContext},this.state.vivaListState))},t.prototype._triggerRightClickEvent=function(n,t){var i=$.Event("rightclick");return i.clientX=t.clientX,i.clientY=t.clientY,$(n.target).trigger(i,this._getCommandRightClickEventArgs(t)),!0},t.prototype._getCommandRightClickEventArgs=function(n){var r=this.options.extensionOptions.selectable.selection,t=n.commandGroup,i=n.commandGroupOwner,u=MsPortalFx.findIndex(r.selectedItems(),(function(n){return n.commandGroup!==t&&n.commandGroupOwner!==i}));return u!==-1&&(t=null,i=null),{entityType:1,commandGroup:t,commandGroupOwner:i,viewModel:n,listData:{selectableSet:r,deleteRowCommandTitle:null,markForDelete:null}}},t.flightNewRender=!0,t})(r.Widget);t.Widget=k;t.ListView=it}))