define("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/EntryPoint",["require","exports","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Constants","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/ServiceContainer"],(function(n,t,i,r){"use strict";function u(n,t){r.ServiceContainer.Instance().registerIfUnset(i.TypeNames.HostingEnvironment,(function(){return n}));t&&Object.keys(t).forEach((function(n){r.ServiceContainer.Instance().registerIfUnset(n,(function(){return t[n]}))}))}Object.defineProperty(t,"__esModule",{value:!0});t.initialize=void 0;t.initialize=u}));
define("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/Constants",["require","exports"],(function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MonitorChartVersionIds=void 0;t.MonitorChartVersionIds={V2_0:"V2.0",VEmbedded:"VEmbedded"}}));
define("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/MonitorChartV2Version",["require","exports","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Utilities/FilterTreeHelper","FxInternal/Controls/MonitorChartV2","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Utilities/ResourceTypes","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/Constants","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Constants","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Skins/ThresholdSkinsShared","Fx/ResourceManagement"],(function(n,t,i,r,u,f,e,o,s){"use strict";function a(n,t,i){var r=n.indexOf("blob")>=0&&"blob"||n.indexOf("file")>=0&&"file"||n.indexOf("queue")>=0&&"queue"||n.indexOf("table")>=0&&"table";return r&&""+l+r||e.classicStorageKindToNamespace[t]||i}function g(n){var t=n&&n.metrics&&n.metrics&&ko.unwrap(n.metrics);return!!t&&(t.length===0||t.some((function(n){return!MsPortalFx.isNullOrUndefined(n&&n.resourceMetadata&&n.resourceMetadata.id)})))}function nt(n){var t=n&&n.metrics&&n.filterCollection&&ko.unwrap(n.filterCollection);return!!t&&!!t.filters}function v(n){var i;if(n){var u=ko.unwrap(n.legendVisualization),r=ko.unwrap(n.chartType),t=ko.unwrap(n.axisVisualization),e=ko.unwrap(n.colorMap),o=ko.unwrap(n.enableTimeBrush),f=2;r&&r.valueOf()>=1&&r.valueOf()<=3?f=r:r&&r.valueOf()===4?f=7:r&&r.valueOf()===5&&(f=4);i={chartType:f};e&&(i.colorMap=e);MsPortalFx.isNullOrUndefined(o)||(i.timeBrushEnable=o);u&&(i.legend={isVisible:u.isVisible,position:tt(u.position),hideSubtitle:u.hideSubtitle,maximumDecimalDigits:u.maximumDecimalDigits});t&&(i.axis={x:t.x&&{isVisible:t.x.isVisible,axisType:2,min:t.x.min,max:t.x.max},y:t.y&&{isVisible:t.y.isVisible,axisType:1,min:t.y.min,max:t.y.max,autoAdjust:t.y.autoAdjust}});i.sortIndex=ko.unwrap(n.sortIndex);i.sortOrder=ko.unwrap(n.sortOrder)}return i}function tt(n){var t=n&&n.valueOf();return t===2||t===4?n:2}function y(n){return n&&{charts:ko.observableArray([n])}}function it(n){return n&&n.valueOf()>=1&&n.valueOf()<=11?n:1}function p(n){if(n){var t={grain:n.grain?it(n.grain):1,showUTCTime:n.showUTCTime};if(n.relative&&n.relative.duration)return{options:t,relative:{duration:n.relative.duration}};if(n.absolute&&n.absolute.startTime&&n.absolute.endTime)return{options:t,absolute:n&&n.absolute&&{startTime:n.absolute.startTime,endTime:n.absolute.endTime}}}}function rt(n){var t=p(n);return t||{options:{useDashboardTimeRange:!0,grain:1},relative:{duration:864e5}}}var h;Object.defineProperty(t,"__esModule",{value:!0});t.ConvertTimespanV2ToTimeContext=t.MonitorChartV2Version=void 0;var c=e.ResourceTypes.Storage+"/",l="microsoft.classicstorage/storageaccounts/services/",w=o.ThresholdSkinsShared.DynamicThresholdOperator,b=o.ThresholdSkinsShared.DynamicThresholdSensitivity,k=(h={},h[1]="Auto",h[2]="Custom",h[0]="None",h),d=(function(){function n(){this.versionId=f.MonitorChartVersionIds.V2_0;this.nextAdapter={targetVersionId:null,convert:function(n){var g=y(n),t,r,f,nt,h,d;if(g)return r=g.charts,f=[],r&&(nt=ko.unwrap(r),nt.filter((function(n){return!!n})).map((function(n){var r={title:ko.unwrap(n.title),titleKind:k[ko.unwrap(n.titleKind)]},p,d,g=ko.unwrap(n.metrics),ft,it,rt,nt,h,ut,tt,y;g&&(ft=g.map((function(n){var v,f,et,ot,st,k,rt,ut,h,ht,it;if(n){var ft=void 0,t=void 0,i=void 0,g=n.metricVisualization&&n.metricVisualization()&&n.metricVisualization(),r=n.resourceMetadata;if(u.isResourceDefinition(r)){if(v=r.id,v===e.DraftDEMOAPPAppId)t=e.AIKustoNamespace,i=e.DraftDEMOAPPAppId;else{var nt=s.ArmId.parse(v,!0),tt=nt.provider&&nt.provider.toLowerCase(),y=nt.resourceType&&nt.resourceType.toLowerCase();i=nt.resourceName&&nt.resourceName.toLowerCase();t=n.namespace;tt&&(f=r.kind,t?tt==="microsoft.storage"?(["blob","file","queue","table"].indexOf(t)!==-1&&(t=c+t+"services"),t==="account"&&(t=e.ResourceTypes.Storage)):tt!=="microsoft.classicstorage"||t.startsWith(l)?t==="microsoft.insights/components"&&f==="Historical"&&(t=e.AIKustoNamespace):t=a(i,f,t):tt==="microsoft.storage"?(et=i.indexOf("blobservices")>=0&&"blobservices"||i.indexOf("fileservices")>=0&&"fileservices"||i.indexOf("queueservices")>=0&&"queueservices"||i.indexOf("tableservices")>=0&&"tableservices",et&&(t=""+c+et),t||(t=e.storageKindToNamespace[f])):tt==="microsoft.classicstorage"?(ot=v.indexOf("/services/"),ot>0&&(v=v.substr(0,ot)),t=a(i,f,t)):y===e.ResourceTypes.CosmosDB?t=e.ClassicCosmosDBNamespace:y===e.ResourceTypes.ApplicationInsights?t=f==="Live"?e.AILiveNamespace:e.AIKustoNamespace:f&&f.toLowerCase()==="guest"&&(y===e.ResourceTypes.VirtualMachines||y===e.ResourceTypes.VirtualMachinesScaleSets||y===e.ResourceTypes.ClassicComputeVirtualMachines)&&(t=y.toLowerCase()+"/guest"),y===e.ResourceTypes.ClassicComputeVirtualMachines&&(!t||t===e.ResourceTypes.ClassicComputeVirtualMachines)&&e.MdmClassicVMMetrics.indexOf((n.name||"").toLowerCase())<0&&(t="microsoft.classiccompute/virtualmachines/guest"))}ft={id:v,name:g&&g.resourceDisplayName||i}}else r&&(st=r.subscription,st&&st.subscriptionId&&(t=t||r.resourceType,ft=MsPortalFx.extend2(r,{subscription:{subscriptionId:r.subscription.subscriptionId,displayName:r.subscription.uniqueDisplayName}})));if(k={id:{resourceDefinition:ft,name:{id:n.name,displayName:g&&g.displayName||undefined},namespace:t&&{name:t}},metricAggregation:MsPortalFx.isNullOrUndefined(n.aggregationType)?null:ko.unwrap(n.aggregationType),color:g&&g.color||undefined},k.id.namespace&&k.id.namespace.name===e.AILiveNamespace&&(rt=n.nativeDescription,k.nativeDescription=rt,!k.id.name.id&&rt&&(k.id.name.id=rt.DraftMetricId)),ut=ko.unwrap(n.thresholds),ut&&ut.length>0&&(h=ut[0],h&&(!p&&h.upperThreshold&&(ht=ko.unwrap(h.operator),p={alertThresholdHigh:ko.unwrap(h.upperThreshold),alertThresholdLow:ko.unwrap(h.lowerThreshold),operator:o.ThresholdSkinsShared.SimpleThresholdOperator[ht],isLocked:h.isLocked}),!d&&(it=ko.unwrap(h.dynamicThreshold),it)))){var ht=it.operator,ct=w[ht]||o.ThresholdSkinsShared.DynamicThresholdOperator.Both,lt=it.sensitivity,at=b[lt]||o.ThresholdSkinsShared.DynamicThresholdSensitivity.Medium;d=MsPortalFx.extend2(it,{operator:ct,sensitivity:at})}return k}})),r.metrics=ft);(p||d)&&(r.alertThresholdOptions={simpleThreshold:p,dynamicThreshold:d});it=ko.unwrap(n.filterCollection);rt=it&&it.filters;g&&g.length>0&&rt&&(nt=i.createRootFilter(),rt.forEach((function(n){if(n){var t=i.createEmptyLeaf();t.OperandSelectedKey={dimensionName:{id:ko.unwrap(n.key)}};t.ComparisonOperator=n.operator||0;t.OperandSelectedValues=ko.unwrap(n.values);i.addFilter(t,nt.id,nt)}})),r.filters=nt);h=ko.unwrap(n.grouping);t||(t=ko.unwrap(n.title));r.grouping=h&&h.dimension&&{dimension:{dimensionName:{id:h.dimension}},sort:h.sort,top:h.top};ut=ko.unwrap(n.visualization);ut&&(tt=v(ut),r.visualization=tt,y=tt.axis&&tt.axis.y,y&&y.min!==y.max&&(r.yAxisOptions={minValue:y.min,maxValue:y.max,options:2}));r.visualization=v(ko.unwrap(n.visualization));f.push(r)}))),h=undefined,d=n.timespan,d&&(h=p(ko.unwrap(d))),{title:t,timeContext:h,items:f}}}}return n.prototype.versionDetector=function(n,t){var r=y(n),u=r&&r.charts,i;return u&&(i=ko.unwrap(u),i&&i.length>0&&i.some((function(n){return g(n)||nt(n)})))?!0:t&&t.relative?t.relative.duration&&!t.relative.durationMs?!0:!1:!1},n})();t.MonitorChartV2Version=d;t.ConvertTimespanV2ToTimeContext=rt}));
define("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/MetricsDataProvider",["require","exports","MsPortalImpl/Base/JQueryHelper","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/DataModels/TimeContext","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/MetricsProvider/MetricsProviderWrapper","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Shared/AjaxHelper","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Stores/ItemDataModelStore","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Telemetry","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Utilities/ChartUtils","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Utilities/ResourceTypes","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/MonitorChartV2Version","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Utils/DynamicImportUtils"],(function(n,t,i,r,u,f,e,o,s,h,c,l){"use strict";function p(n){return n&&n.id!==undefined}function v(n){var i,t,r;return p(n.resourceMetadata)?(i=n.resourceMetadata,{resourceDefinition:{id:i.id,kind:i.kind,sku:i.sku},name:{id:n.name},namespace:{name:n.namespace||h.getDefaultNamespaces(i.id)[0].name}}):(t=n.resourceMetadata,r=void 0,t&&(r={subscription:t.subscription,resourceType:t.resourceType,region:t.region}),{resourceDefinition:r,name:{id:n.name},namespace:{name:n.namespace||t&&t.resourceType}})}function w(n){var t=i.findByClassName(i.jBody,"fxs-portal-content").width(),r=t-60;return s.computeMaxBucketCount(r-30,25,5,n)}var a,y;Object.defineProperty(t,"__esModule",{value:!0});t.MetricsDataProvider=void 0;a={};a.PT1M=2;a.PT5M=7;a.PT15M=8;a.PT30M=9;a.PT1H=3;a.PT6H=10;a.PT12H=11;a.P1D=4;a.P1W=5;a.P1M=6;y=(function(){function n(n){this._id=n}return n.prototype.getFilterAttributes=function(n){if(n&&n.length>0){var t=e.ItemDataModelStore.Instance().GetItemDataModel(this._id),i=new o.OperationTelemetry("MonitorChartV2.getFilterAttributes",o.getOrCreateTelemetryContext(t)),r=n.map((function(n){return v(n)})),f=u.MetricsProviderWrapper.Instance(this._id),s=f.fetchDimensionDefinitions(r,undefined,i);return s.catch((function(n){return o.logError("Failed to get filter attributes",o.getOrCreateTelemetryContext(t),n,{metricIds:r},undefined,i),Q([])}))}return Q([])},n.prototype.getFilterValues=function(n,t,i){if(n&&n.length>0){var f=e.ItemDataModelStore.Instance().GetItemDataModel(this._id),s=new o.OperationTelemetry("MonitorChartV2.getFilterValues",o.getOrCreateTelemetryContext(f)),h=n.map((function(n){return v(n)})),l=u.MetricsProviderWrapper.Instance(this._id);return l.fetchDimensionValues(h,t,null,new r.TimeContext(c.ConvertTimespanV2ToTimeContext(i,null)),1e3,s).then((function(n){return n.map((function(n){return n.value||"<undefined>"}))})).catch((function(n){return o.logError("Failed to get filter values",o.getOrCreateTelemetryContext(f),n,{metricIds:h},undefined,s),Q([])}))}return Q([])},n.prototype.preQueryBladeDataWithTimespan=function(n){var t=new r.TimeContext(c.ConvertTimespanV2ToTimeContext(n,null));return this.preQueryBladeData(t.getTimerange(),t.getGrain())},n.prototype.preQueryBladeData=function(n,t){var i=e.ItemDataModelStore.Instance().GetItemDataModel(this._id),c=o.CreateOperation("MonitorChartV2.preQueryBladeData",o.getOrCreateTelemetryContext(i)),u=c.opTimer,h=c.opStop,y=w(i.visualization.chartType),p=new r.TimeContext({absolute:n,options:{grain:t,maxBucketCount:y}}),v=s.getIdealTimeSpan(p,u),b=a[v.timeGrain];return l.dynamicImport("../AI/ME/MetricsProvider/BackendProviders/Mist.Provider").then((function(n){var t=i.metrics&&i.metrics.length>0&&i.metrics[0]&&i.metrics[0].id.resourceDefinition,r,e;if(t)return r=new f.Ajax,e=new n.MistProvider(t,r),e.preQueryData(i,v.absolute,b,u).then((function(){h();o.logCustomEvent("pre query: complete",null,null,null,undefined,u)}));h();o.logCustomEvent("pre query: skipped",null,null,null,undefined,u)})).catch((function(n){h();o.logWarning("pre query: failed",null,{Error:n},null,u)}))},n})();t.MetricsDataProvider=y}));
define("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/MonitorChartVEmbeddedVersion",["require","exports","Fx/ResourceManagement","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/Constants","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Constants","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Utilities/MetricsExplorerItemDataModelUtil","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Utilities/ResourceTypes"],(function(n,t,i,r,u,f,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MonitorChartVEmbeddedVersion=void 0;var o=(function(){function n(){this.versionId=r.MonitorChartVersionIds.VEmbedded;this.nextAdapter={targetVersionId:null,convert:function(n){var o=n.itemDataModel&&n.itemDataModel.grouping,s,t,r;return o&&typeof o.dimension=="string"&&(s=o.dimension,o.dimension={dimensionName:{id:s}}),t=n&&n.itemDataModel,t&&t.metrics&&t.metrics.length>0&&t.metrics.forEach((function(n){var r=n.id,s,h;if(e.isResourceDefinition(r.resourceDefinition)&&(s=r.resourceDefinition.id,s!==u.DraftDEMOAPPAppId)){var c=i.ArmId.parse(s,!0),o=(c.provider||"").toLowerCase(),l=(MsPortalFx.last(c.resourceTypes)||"").toLowerCase();o!=="microsoft.insights"||l!=="components"||t.version||f.isLiveMetric(n.id)?o==="microsoft.classiccompute"&&l==="virtualmachines"&&(!r.namespace||r.namespace.name===u.ResourceTypes.ClassicComputeVirtualMachines)&&u.MdmClassicVMMetrics.indexOf((r&&r.name&&r.name.id||"").toLowerCase())<0?r.namespace={name:"microsoft.classiccompute/virtualmachines/guest"}:r.namespace||(h=r.kind&&r.kind.id,o==="microsoft.storage"?r.namespace={name:u.storageKindToNamespace[h]}:o==="microsoft.classicstorage"&&(r.namespace={name:u.classicStorageKindToNamespace[h]})):r.namespace={name:u.AIKustoNamespace}}})),t&&t.visualization&&(r=t.visualization,r.axis===null&&(r.axis=undefined),r.legend===null&&(r.legend=undefined)),{items:[t],timeContext:n&&n.timeContext}}}}return n.prototype.versionDetector=function(n){return!!(n&&n.itemDataModel)},n})();t.MonitorChartVEmbeddedVersion=o}));
define("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/MonitorChartConverter",["require","exports","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/Constants","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/MonitorChartV2Version","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/MonitorChartVEmbeddedVersion"],(function(n,t,i,r,u){"use strict";function h(n,t){var r,u,h;return(n&&n.version?s.indexOf(n.version)>=0?r=n.version:o.error("MonitorChartConverter.GetVersion: Invalid version: "+n.version):(u=MsPortalFx.find(e,(function(i){return i.versionDetector(n,t)})),u&&(r=u.versionId)),r===undefined)?(h=f[i.MonitorChartVersionIds.V2_0].versionId,o.warning("MonitorChartConverter.GetVersion: Couldn't infer version. Defaulting to "+h),h):r}function c(n,t){var i;if(n){for(var e=h(n),r=f[e],u=n;r&&r.nextAdapter;)u=r.nextAdapter.convert(u,t),r=r.nextAdapter.targetVersionId&&f[r.nextAdapter.targetVersionId];u&&u!==n&&(i=u,t&&t.timeContext&&!i.timeContext&&(i.timeContext=t.timeContext.toDataObject()),i.items&&i.items.length===1&&i.items[0]&&(i.items[0].id=t&&t.itemDatamodelId?t.itemDatamodelId:MsPortalFx.newGuid()))}return i}var s;Object.defineProperty(t,"__esModule",{value:!0});t.Convert=t.GetVersion=void 0;var o=MsPortalFx.Base.Diagnostics.createLog(n),e=[new u.MonitorChartVEmbeddedVersion,new r.MonitorChartV2Version,],f={};e.forEach((function(n){f[n.versionId]=n}));s=e.map((function(n){return n.versionId}));t.GetVersion=h;t.Convert=c}));
define("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/MonitorChart.Main",["require","exports","Fx/ResourceManagement","Fx/Composition/PartReferences","Fx/Composition/Selectable","Fx/Controls/MonitorChartV2","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Strings","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Constants","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/DataModels/MetricsExplorerItemDataModel","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/DataModels/TimeContext","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/EntryPoint","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/MetricsProvider/MetricsProviderWrapper","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/ServiceContainer","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Shared/AjaxHelper","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Skins/SkinConstants","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Stores/ItemDataModelStore","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Telemetry","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Utilities/ChartUtils","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Utilities/ResourceTypes","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Utilities/TimeUtils","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Utilities/Util","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/Constants","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/MonitorChartConverter","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/MonitorChartV2Version"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){"use strict";function vt(n){var t=[n.cssClass];return n.disabled()&&t.push("fxc-monitorchartv2-toolbar-item-disabled"),t.join(" ")}function ut(n,t){n[t]=(n[t]||0)+1}function ft(n){var t=n&&n.getVisualization();return t&&t.chartType!==4}function ot(n){return n.openBlade!==undefined?n.openBlade:!0}function st(n,t,i,r,u){return{image:n,title:t,onActivate:function(n,t){var r=t;r.key&&r.key!=="Enter"&&r.key!=="Space"||(i(),t.stopPropagation())},disabled:ko.pureComputed((function(){return u()===2})),hidden:ko.observable(!0),cssClass:"fxc-monitorchartv2-toolbar-pin "+r}}function yt(n,t){t&&t(new u.ParameterProviderBladeReference(at,lt,{parameters:{ruleInputs:n},receiveResult:function(){}}))}function pt(n,t){t.metrics.forEach((function(t){var r=t.id.resourceDefinition,f,u;d.isResourceDefinition(r)?(f=r.id,u=i.ArmId.parse(f,!0),u.kind===6?ut(n,u.resourceType.toLowerCase()):ut(n,"undefined")):r&&ut(n,r.resourceType||"undefined")}))}var ht;Object.defineProperty(t,"__esModule",{value:!0});t.MonitorChartMain=t.Template=void 0;var et=o.Controls.MonitorChart,ct=MsPortalFx.Base.Diagnostics.createLog(n),lt="Microsoft_Azure_Monitoring",at="CreateVNextAlertRuleBlade";t.Template="<div class='fxc-monitorchartv2-chart' data-bind='css: { \"fxc-monitorchartv2-header-hidden\": !showHeader(), \"fxc-monitorchartv2-title-and-subtitle-show\": showTitleAndSubTitleOrPinShown(), \"fxc-monitorchartv2-only-title-show\": showOnlyTitle(), \"fxc-monitorchartv2-only-subtitle-show\": showOnlySubTitle() }' ><div class='fxc-monitorchartv2-header' data-bind='visible: showHeader()'><div class='fxc-monitorchartv2-title-container'><h3 class='fxc-monitorchartv2-title msportalfx-tooltip-overflow' data-bind='visible: title(), text: title, attr: {id: chartId() + \"_monitorChartTitle\"}'><\/h3><div class='fxc-monitorchartv2-subtitle msportalfx-tooltip-overflow' data-bind='visible: subtitle(), text: subtitle, attr: {id: chartId() + \"_monitorChartSubtitle\"}'><\/div><\/div><div class='fxc-monitorchartv2-toolbar-container' data-bind='foreach: toolbarItems'><div tabindex='0' class='fxc-monitorchartv2-toolbar-item azc-fill-text fxs-portal-hover' data-bind='image: $data.image, attr: { title: $data.title }, click: $data.onActivate, event:{keyup: $data.onActivate}, css: $parent.getToolbarItemCss($data), visible: !$data.hidden(), clickBubble: false' role='button'><\/div><\/div><\/div><!-- ko ifnot: isGrid() --><div data-bind='attr: {id: chartId()}, visible: true' class='fxc-monitorchartv2-chart-container' ><\/div><!-- /ko --><!-- ko if: isGrid() --><div data-bind='attr: {id: gridSpinnerAndWatermarkId()}' class='fxc-monitorchartv2-chart-container' ><div data-bind='attr: {id: chartId()}, visible: true, pcControl:grid' class='fxc-monitorchartv2-chart-container' ><\/div><\/div><!-- /ko --><\/div>";ht=(function(){function t(n,t,i,r,u,f,e){var o=this;this._itemDataModel=null;this._previousItemdatamodel=null;this._itemDataModelLifeTime=null;this._thresholdStoreRegistered=!1;this._updateCount=0;this._viewModelCreated=Q.defer();this._openBlade=e;this.state=ko.observable(0);this._initialOpeTelemetry=b.AddOperation("MonitorchartMain.constructor",r);this._isInDashboard=u;this._onSortChanged=f;this._ltm=n;this._element=t;this._title=ko.observable(null);this._subtitle=ko.observable(null);this._chartContainer=ko.observable("defaultAiChartDiv"+MsPortalFx.newGuid());this._dataStore=w.ItemDataModelStore.Instance();l.initialize(s.HostingEnvironment.PortalShell);this.openBladeOptions=ko.observable();this.resolvedBladeClickOptions=ko.observable();this.isChartClickable=ko.pureComputed((function(){var n=o.openBladeOptions(),t=o.resolvedBladeClickOptions();return!!(!t&&!n||n&&ot(n)||t&&t.openBlade)}));this._isGrid=ko.observable(!1);this._isMetricControlLoaded=ko.observable(!1)}return t.prototype.OnHighThresholdUpdated=function(n,t){var u;if(this._chartDefVersion===tt.MonitorChartVersionIds.V2_0){var f=this._chartDefn,r=ko.unwrap(f.metrics)[0],i=r&&ko.unwrap(r.thresholds)[0];i&&(ko.isObservable(i.upperThreshold)?i.upperThreshold()!==t&&i.upperThreshold(t):i.upperThreshold=t);u=new b.OperationTelemetry("MonitorChart.Main.onHighThresholdUpdated",b.getOrCreateTelemetryContext(this._itemDataModel));this._getMetricControl(u).then((function(n){if(n&&n.skins){var i=n.skins.filter((function(n){return n.skinType===0}))[0];i&&i.updateThreshold({alertThresholdHigh:t})}}))}},t.prototype.OnOperatorUpdated=function(n,t){if(this._chartDefVersion===tt.MonitorChartVersionIds.V2_0){var i=new b.OperationTelemetry("MonitorChart.Main.onOperatorUpdated",b.getOrCreateTelemetryContext(this._itemDataModel));this._getMetricControl(i).then((function(n){if(n&&n.skins){var i=n.skins.filter((function(n){return n.skinType===0}))[0];i&&i.updateThreshold({operator:t})}}))}},t.prototype.OnDynamicThresholdUpdated=function(n,t){var r=this,i=new b.OperationTelemetry("MonitorChart.Main.OnDynamicThresholdUpdated",b.getOrCreateTelemetryContext(this._itemDataModel));this._thresholdStoreRegistered?this._onDynamicThresholdUpdatedMethod(n,t,i):s.thresholdBundleLoadedDefer.promise.then((function(){r._onDynamicThresholdUpdatedMethod(n,t,i)}))},t.prototype.OnDynamicThresholdResponse=function(n){var t=this._getResponseObservable();t&&t({options:n})},t.prototype.OnDynamicThresholdEligibilityUpdated=function(n,t,i){var r=this._getResponseObservable();r&&r({isEligible:t,responseMessage:i})},t.prototype._getResponseObservable=function(){var n=this._chartDefn,t;if(n&&n.metrics&&ko.unwrap(n.metrics)[0]&&(t=ko.unwrap(ko.unwrap(n.metrics)[0].thresholds),t))return t[0].dynamicThresholdResponse},t.prototype.collectTelemetryInfo=function(n){n.timespansMs.push(this.timeContext.getDurationMs());pt(n.resourceTypes,this._itemDataModel);n.metricCounts.push(this._itemDataModel.MetricCount());n.isGroupedBys.push(this._itemDataModel.IsSegmented())},t.prototype.getMEv2PartInput=function(){var n=this;return MsPortalFx.require("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Utils/V2ChartFormatConverter").then((function(t){var i=t.convertItemDataModelToV2Chart(n._itemDataModel,n.timeContext);return{chart:i.chartObject,timeContext:n.timeContext.toDataObject()}}))},t.prototype.getChartType=function(){var n=this._itemDataModel&&this._itemDataModel.visualization;return n&&n.chartType},t.prototype.getViewModel=function(){var t=this,r=[],i=!this._shouldDisablePin(),u;return i&&(this._pinToolbarItem=st(MsPortalFx.Base.Images.Pin(),et.pinTitle.format(this._title&&this._title()?this._title():""),function(){t.createPinnedPartRef().then((function(n){MsPortalFx.require("Fx/Pinner").then((function(t){t.pin([n],{notify:!0})}))}))}.bind(this),undefined,this.state),r.push(this._pinToolbarItem)),this._shouldDisableAlert()||(this._alertToolbarItem=st(MsPortalFx.Base.Images.Alert(),et.alertsTitle,function(){t.GetAlertData().then((function(i){MsPortalFx.require(n.normalize("./AI/ME/Utilities/AlertRuleData")).then((function(n){var r=n.getAlertRuleData(i);yt(r,t._openBlade)}))}))}.bind(this),"fxc-monitorchartv2-toolbar-alert",this.state),r.push(this._alertToolbarItem)),u={state:this.state,title:this._title,subtitle:this._subtitle,toolbarItems:r,getToolbarItemCss:vt,chartId:this._chartContainer,gridSpinnerAndWatermarkId:ko.pureComputed((function(){return t._chartContainer()+"-spinnerAndWatermark"})),showHeader:ko.pureComputed((function(){return t._title()||t._subtitle()||i})),showTitleAndSubTitleOrPinShown:ko.pureComputed((function(){return i||t._title()&&t._subtitle()})),showOnlyTitle:ko.pureComputed((function(){return!i&&t._title()&&!t._subtitle()})),showOnlySubTitle:ko.pureComputed((function(){return!i&&!t._title()&&t._subtitle()})),isGrid:ko.pureComputed((function(){return t._isGrid()})),grid:ko.pureComputed((function(){return t._isMetricControlLoaded()&&t._isGrid()&&t._meControl}))},this._initialOpeTelemetry.opStop(),this._viewModelCreated.resolve(),u},t.prototype.createPinnedPartRef=function(){var n=this;return MsPortalFx.require("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Utils/V2ChartFormatConverter").then((function(t){var i=t.convertItemDataModelToV2Chart(n._itemDataModel,n.timeContext);return n._updateResolvedBladeForPinToDashboard(i.chartObject).then((function(){var n={chart:i.chartObject};return delete n.chart.timespan,new r.PartReference("MonitorChartPart",{options:n},{extensionName:"HubsExtension",initialSize:5,filters:{MsPortalFx_TimeRange:i.timeFilter}})}))}))},t.prototype.resolveOpenBladeReference=function(n){var t,i,r;return this._isInDashboard?Q(this.resolvedBladeClickOptions()):(t=this.openBladeOptions(),!t)?Q({openBlade:!0}):(i=ot(t),t.createBladeReference)?(r=Q(t.createBladeReference(n)),r.then((function(n){var t=n.options;if(t&&(t.onClosed||t.callbacks))throw new Error("MonitorChartV2 control does not support OpenBladeOptions.createBladeReference with callbacks and onClosed handler(s). Please remove these handler(s).");return Q({openBlade:i,resolvedBlade:n})}))):Q({openBlade:i})},t.prototype._updateResolvedBladeForPinToDashboard=function(n){var t=this.resolvedBladeClickOptions(),i;return i=t?Q(t):this.resolveOpenBladeReference(f.CreateBladeReferenceEvent.OnPin),i.then((function(t){var i=t.resolvedBlade;n.openBladeOnClick={openBlade:t.openBlade,destinationBlade:i?{bladeName:i.bladeName,parameters:i.parameters,extensionName:i.extensionName,metadata:i.metadata,options:i.options}:undefined}}))},t.prototype.GetAlertData=function(){var n=this,t=new b.OperationTelemetry("MonitorChartV2.getAlertData",b.getOrCreateTelemetryContext(this._itemDataModel));return this._getMetricControl(t).then((function(t){if(ft(t))return{itemDataModel:n._itemDataModel,chartSeriesData:t&&t.chartData&&t.chartData.chartSeriesData};var i=t;return i&&i._gridVM.refreshHandler.GetAlertData()}))},t.prototype._updateTimespan=function(n){var i=this._chartDefn,u=b.getOrCreateTelemetryContext(this._itemDataModel),r,t;i&&i.timespan&&ko.isObservable(i.timespan)?(t=ko.unwrap(i.timespan),r={From:t.relative?"Relative"+t.relative.duration:"Absolute"+t.absolute.startTime+" - "+t.absolute.endTime,To:n.absolute?n.absolute.startTime+" - "+n.absolute.endTime:undefined},n.grain=t.grain,n.showUTCTime=t.showUTCTime,i.timespan(n)):r={Error:"timespan is not observable, can't update timespan on brush"};b.logCustomEvent("timeBrush_updateTimeSpan_dashboard",u,r)},t.prototype._sendInitialQuery=function(n,t){var i,r,u;return n&&n.HasMetrics()?(i=new y.Ajax,r=a.MetricsProviderWrapper.Instance(n.id,i),this._width&&!n.appliedISOGrain&&(u=n.visualization&&n.visualization.chartType||2,this.timeContext.maxBucketCount=k.computeMaxBucketCount(this._width-30,25,5,u)),r.fetchMetricResults(n,this.timeContext,t,17),i.initialAjaxSentDefer.promise.isFulfilled?Q(!0):i.initialAjaxSentDefer.promise):Q(!0)},t.prototype._getMetricControl=function(n,t){var i=this,h,c;t===void 0&&(t=this._updateCount);var r=this._itemDataModel&&this._itemDataModel.visualization,u=r&&r.chartType,f=this._previousItemdatamodel&&this._previousItemdatamodel.visualization,o=f&&f.chartType,s=u===4;return o!==u&&(o===4||s)&&(this._meControlPromise=undefined,this._initialMetricControlRefreshPromise=undefined,this._meControl&&this._meControl.dispose()),this._meControlPromise?this._height>0&&this._width>0&&this._itemDataModel&&this._itemDataModel.visualization&&(this._itemDataModel.visualization.containerSize=this._calculateDesiredControlSize(this._height,this._width)):(h=b.AddOperation("MonitorchartMain.createMetricControl",n),c=b.AddOperation("MonitorchartMain.waitForViewModel",n),this._meControlPromise=this._viewModelCreated.promise.then((function(){c.opStop();var r=t===i._updateCount?n:i._initialOpeTelemetry.opTimer,u=b.AddOperation("MonitorChartMain._sendInitialQuery",r);return i._sendInitialQuery(i._itemDataModel,r).then((function(){u.opStop();i._isMetricControlLoaded(!1);var f=b.AddOperation("MonitorChartMain.MEControlInitialLoad",r),n=b.AddOperation("MonitorChartMain.LoadControlUXBundle",r),t;return t=s?MsPortalFx.require("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/MetricGrid").then((function(t){return n.opStop(),i._isGrid(!0),i._setControlInitialInput(r),new t.ViewModel(i._ltm,i._initialMEControlInputOptions)})):MsPortalFx.require("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/MetricChart").then((function(t){return n.opStop(),i._isGrid(!1),i._setControlInitialInput(r),new t.MetricChart(i._initialMEControlInputOptions)})),t.then((function(n){return i._itemDataModelLifeTime.registerForDispose(n),n.updateAccessibleOptions(i._title()||i._subtitle()?{ariaLabelledbyId:i._chartContainer()+"_monitorChartTitle "+i._chartContainer()+"_monitorChartSubtitle "}:{ariaLabel:e.monitorChartV2||"Metrics Chart"}),i._meControl=n,i._isMetricControlLoaded(!0),i._initialMetricControlRefreshPromise=n.getInitialRefreshPromise().finally(f.opStop),i._meControl}))}))})),this._meControlPromise.finally(h.opStop)),this._meControlPromise},t.prototype.resizeChart=function(n,t,i){var r=this;if(n>0&&t>0)return this._height=n,this._width=t,this._getMetricControl(i).then((function(u){var e=r._calculateDesiredControlSize(n,t),f;return r._itemDataModel.visualization.containerSize=e,MsPortalFx.isFeatureEnabled("monitorchartV2Resizecheck")&&!r._isGrid()&&(f=r._element[0],f&&(f.clientHeight!==n||f.clientWidth!==t)&&ct.error("MonitorChartV2 height/width overrun the control size, and will result in infinitely resizing for the control.")),r._refreshMetricControl(u,4,i)}))},t.prototype.updateThreshold=function(n,t){var i=this;this._thresholdStoreRegistered?this._updateThresholdMethod(n,t):this._registerThresholdStoreIfNeeded().then((function(){i._updateThresholdMethod(n,t)}))},t.prototype.update=function(n,t,i,r,u,f){var e=this,s;if(!n)return Q();var c=b.AddOperation("MetricChartMain.update",f),o=c.opTimer,l=c.opStop;return this._populateMEControlInputs(n,t,i,r,u,o),s=++this._updateCount,this._getMetricControl(o,s).then((function(n){var t=e._itemDataModel,r=e._previousItemdatamodel,c,u,f,i,a;if(s===e._updateCount)return e._pinToolbarItem&&(c=e._shouldDisablePin(),e._pinToolbarItem.hidden(c)),e._alertToolbarItem&&e._alertToolbarItem.hidden(e._shouldDisableAlert()),u=g.TimeContextEquals(e._previousTimeContext,e.timeContext,!1),e._previousTimeContext=e.timeContext.clone(),f=h.MetricsEquals(r&&r.metrics,t&&t.metrics),i=void 0,f&&(i=h.Equals(r,t,!1)),i||(e._previousItemdatamodel=MsPortalFx.clone(t,!0)),f&&u||!t||(t.appliedISOGrain=null),a=e._refreshMetricControl(n,3,o,!i,!u),Q.allSettled([a,e._initialMetricControlRefreshPromise]).then((function(){l()}))}))},t.prototype._updateThresholdMethod=function(n,t){if(this._itemDataModel){var i=it.Convert(this._chartDefn,{timeContext:this.timeContext,itemDatamodelId:this._chartContainer()}),r=i&&i.items&&i.items[0];r&&this._updateItemDataModelWithMissingUndefinedFields(r)}this._getMetricControl(t).then((function(t){n&&t&&ft(t)&&t.setVisualization(n)}))},t.prototype._onDynamicThresholdUpdatedMethod=function(n,t,i){var r={Payload:t},u=b.getOrCreateTelemetryContext(this._itemDataModel);b.logCustomEvent("DynamicThreshold_onDynamicThresholdUpdatedMethod",u,r,undefined,undefined,i);this._getMetricControl(i).then((function(n){if(ft(n)){var i={chartData:n.chartData},t=n.skins.filter((function(n){return n.skinType===1}));t&&t.length&&t[0].updateThreshold(i)}}))},t.prototype._shouldDisablePin=function(){if(this._isInDashboard)return!0;var n=ko.unwrap(this._chartDefn.visualization);return n&&ko.unwrap(n.disablePinning)},t.prototype._shouldDisableAlert=function(){if(this._isInDashboard)return!0;var n=ko.unwrap(this._chartDefn.visualization);return n&&!ko.unwrap(n.enableAlertToolbar)},t.prototype._populateMEControlInputs=function(n,t,i,r,u,f){var p=b.AddOperation("MetricChartMain._populateInputs",f),s,l,a,v,e,o,h,y;this._chartDefn=n;this._chartDefVersion=it.GetVersion(this._chartDefn,t);this._isInMultiCharts=i;this._height=u;this._width=r;s=this._chartDefVersion;t&&(l=rt.ConvertTimespanV2ToTimeContext(t,s),l&&(this.timeContext=new c.TimeContext(l)));this._getOrCreateItemDataModel(n);s===tt.MonitorChartVersionIds.V2_0?(s===tt.MonitorChartVersionIds.V2_0&&(a=n,a.openBladeOnClick&&this.openBladeOptions(a.openBladeOnClick())),e=n,v=MsPortalFx.initValue(ko.unwrap(e.title),""),this._title(v)):s===tt.MonitorChartVersionIds.VEmbedded&&(e=n,this._title(e&&e.itemDataModel&&e.itemDataModel.title||""),o=e.resolvedBladeToOpenOnClick,o&&o.resolvedBlade&&o.resolvedBlade.detailBlade&&(h=o.resolvedBlade,y=new FxImpl.Composition.Selectable.PdlBladeReference(h.detailBlade,h.extension,{parameters:h.detailBladeInputs}),o.resolvedBlade=y),this.resolvedBladeClickOptions(o));p.opStop()},t.prototype._setControlInitialInput=function(n){var i=this,t;this._getOrCreateItemDataModel(this._chartDefn);this._previousItemdatamodel=this._itemDataModel&&MsPortalFx.clone(this._itemDataModel,!0);this._previousTimeContext=this.timeContext.clone();t={containerSize:this._height>0&&this._width>0&&this._calculateDesiredControlSize(this._height,this._width)||undefined};nt.extendVisualization(t,this._itemDataModel.visualization);this._itemDataModel.visualization=t;this._initialMEControlInputOptions={itemDataModel:this._itemDataModel,timeContext:this.timeContext,realm:this._chartContainer(),skipRefresh:function(){return i._element.is(":hidden")},telemetryData:n,onTimeContextChanged:this._updateTimespan.bind(this),OnSortChanged:this._onSortChanged}},t.prototype._getOrCreateItemDataModel=function(n){var s={timeContext:this.timeContext,itemDatamodelId:this._chartContainer()},i=it.Convert(n,s),u=i&&i.items&&i.items[0],t,f,o,e,r;this._itemDataModelLifeTime=this._ltm.createChildLifetime();this._itemDataModel?u&&this._updateItemDataModelWithMissingUndefinedFields(u):(this._itemDataModel=new h.MetricsExplorerItemDataModel(u||{id:MsPortalFx.newGuid(),metrics:[]}),this._itemDataModel.alertThresholdOptions&&Object.keys(this._itemDataModel.alertThresholdOptions).length!==0&&(this._itemDataModel.alertThresholdOptions.simpleThreshold&&this._isInDashboard&&(this._itemDataModel.alertThresholdOptions.simpleThreshold.isLocked=!0),this._registerThresholdStoreIfNeeded()),t=this._itemDataModel&&this._itemDataModel.visualization,t&&(f=t.axis&&t.axis.x,f&&(f.axisType=2),t.timeBrushEnable=!!t.timeBrushEnable||!!this._isInDashboard||MsPortalFx.isFeatureEnabled("timeBrushAllowed")),this._dataStore.AttachItemDataModel(this._itemDataModel),this.itemDataModel_id=this._itemDataModel.id);o=i&&i.timeContext||{options:{grain:1},relative:{duration:864e5}};this.timeContext||(this.timeContext=new c.TimeContext(o));e=this._itemDataModel&&this._itemDataModel.visualization;r=e&&e.legend;r&&(r.position===1||r.position===3)&&(r.position=2)},t.prototype._registerThresholdStoreIfNeeded=function(){var n=this,t=v.ServiceContainer.Instance();return this._thresholdStoreRegistered?Q():(MsPortalFx.require("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Skins/SkinEntryPoint").then((function(i){i.init();n._simpleThresholdStore=t.get(p.ThresholdConstants.SimpleThresholdStore);n._simpleThresholdStore&&n._simpleThresholdStore.Register(n);n._dynamicThresholdStore=t.get(p.ThresholdConstants.DynamicThresholdStore);n._dynamicThresholdStore&&n._dynamicThresholdStore.Register(n);s.thresholdBundleLoadedDefer.resolve()})),this._thresholdStoreRegistered=!0,s.thresholdBundleLoadedDefer.promise)},t.prototype._updateItemDataModelWithMissingUndefinedFields=function(n){n.grouping=n.grouping||null;n.filters=n.filters||null;n.visualization&&n.visualization.containerSize&&(n.visualization.containerSize=this._itemDataModel.visualization&&this._itemDataModel.visualization.containerSize);this._itemDataModel.Update(n)},t.prototype._refreshMetricControl=function(n,t,i,r,u){return this._itemDataModel&&this.timeContext?this._isGrid()?(n.setVisualization(this._itemDataModel.visualization),t===1||r?n.refresh(this._itemDataModel,this.timeContext,t,i):u?n.onTimeContextUpdated(this.timeContext,i):n.refresh(this._itemDataModel,this.timeContext,t,i)):n.refresh(this._itemDataModel,this.timeContext,t,i):Q()},t.prototype._calculateDesiredControlSize=function(n,t){var i=(this._isInMultiCharts?295:n)-10,r,u;return i-=5,r=this._isInMultiCharts?374:t,u=!this._shouldDisablePin(),u||this._title()&&this._subtitle()?i-=39:this._title()?i-=24:this._subtitle()&&(i-=15),this._isInMultiCharts&&(i-=20,r-=40),{height:i,width:r}},t})();t.MonitorChartMain=ht}));
define("_generated/Less/MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/MetricsChart.css",["module"],(function(n){"use strict";return{css:".fxc-monitorchart-graphContainer{fill:transparent}.fxc-monitorchart-graphContainer .fxc-monitorchart-graphContainerRect{visibility:hidden;pointer-events:all}.fxc-monitorchart-graphContainer .fxc-monitorchart-bars{pointer-events:none;transition:opacity .2s ease-in-out;opacity:1}.fxc-monitorchart-graphContainer .fxc-monitorchart-bars.fxc-monitorchart-translucent{opacity:.3 !important}.fxc-monitorchart-tooltip-root{position:absolute;text-align:center;display:none;opacity:0;background:#f08080;border-color:#2f4f4f;border-style:solid;border-width:1px;z-index:999;float:left;pointer-events:none}.fxc-monitorchart-tooltip-root .fxc-monitorchart-tooltip-padding .fxc-monitorchart-tooltip-chrome{background:transparent;display:block;padding:5px;float:left}.fxc-monitorchart-tooltip-root .fxc-monitorchart-tooltip-padding .fxc-monitorchart-tooltip-body{display:block;padding:2px 4px;float:right;background-color:#fff}.fxc-monitorchart-tooltip-root .fxc-monitorchart-tooltip-padding .fxc-monitorchart-tooltip-body .fxc-monitorchart-tooltip-list{list-style-type:none;font-size:80%;margin:0;padding:0;text-align:left}.fxc-monitorchart-axis{shape-rendering:crispEdges}.fxc-monitorchart-axis .fxc-monitorchart-tick-path,.fxc-monitorchart-axis .fxc-monitorchart-tick-line{fill:none;stroke:#ccc;stroke-width:1px}.fxc-monitorchart-axis .fxc-monitorchart-tick-text{font-size:10px;line-height:auto;fill:#575b60}.fxc-monitorchart-axis .fxc-monitorchart-minor .fxc-monitorchart-tick-line,.fxc-monitorchart-axis .fxc-monitorchart-minor .fxc-monitorchart-tick-line-nodata{stroke:#ccc;stroke-width:1px}.fxc-monitorchart-temp-tick{font-size:10px;line-height:auto;fill:#575b60;text-anchor:middle;pointer-events:none}.fxc-monitorchart-utc-label{font-size:10px;line-height:auto;fill:black}.fxc-monitorchart-legendsContainer .fxc-monitorchart-legend{display:block;width:calc(100% - 10px);height:inherit;opacity:1;text-align:left}.fxc-monitorchart-legendsContainer .fxc-monitorchart-legend .fxc-full{display:none}.fxc-monitorchart-legendsContainer .fxc-monitorchart-legend.notSelected{opacity:.3}.fxc-monitorchart-legendsContainer .fxc-monitorchart-legend.Selected .fxc-full{display:inherit}.fxc-monitorchart-legendsContainer .fxc-monitorchart-legend.Selected .fxc-display{display:none}.fxc-monitorchart-legendsContainer .fxc-monitorchart-legend .fxc-monitorchart-metric{font-weight:700;font-size:10px;line-height:10px;letter-spacing:-.05em;font-weight:600;display:block;max-width:115px;margin:3px 0}.fxc-monitorchart-legendsContainer .fxc-monitorchart-legend .fxc-monitorchart-resource{font-weight:700;font-size:10px;line-height:10px;letter-spacing:-.05em;font-family:az_ea_font,'Segoe UI',az_font,system-ui,-apple-system,BlinkMacSystemFont,Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-weight:400;display:block;max-width:115px;margin:3px 0}.fxc-monitorchart-legendsContainer .fxc-monitorchart-legend .fxc-monitorchart-value{font-weight:600;padding-right:3px;font-size:20px;line-height:12px;letter-spacing:-.025em}.fxc-monitorchart-legendsContainer .fxc-monitorchart-legend .fxc-monitorchart-units{font-weight:600;font-size:10px;display:inline-block;text-align:right;vertical-align:bottom;overflow:hidden}.fxc-monitorchart-legendsContainer .fxc-monitorchart-legend .fxc-monitorchart-legend-more{font-size:30px;line-height:12px;letter-spacing:-.025em}.fxc-monitorchart-pages{font-weight:600;font-size:13px;text-anchor:middle}.fxc-monitorchart-pages .fxc-monitorchart-nav{stroke:#015cda;cursor:pointer}.fxc-monitorchart-brush .fxc-monitorchart-extent{fill:#1f2327;fill-opacity:.125}.fxc-monitorchart-brush .fxc-monitorchart-resize .fxc-monitorchart-resize-rect{stroke:#1f2327;stroke-width:1.5px}.screenReaderText{position:absolute !important;clip:rect(1px,1px,1px,1px)}.fxc-monitorchart-lineContainer,.fxc-monitorchart-bargroup,.fxc-monitorchart-scattergroup{opacity:1}.fxc-monitorchart-lineContainer.notSelected,.fxc-monitorchart-bargroup.notSelected,.fxc-monitorchart-scattergroup.notSelected{opacity:.2}.fxc-monitorchart-lineContainer.Selected .fxc-monitorchart-linePoints-missing,.fxc-monitorchart-lineContainer.Selected .fxc-monitorchart-linePoints{stroke-width:3px}.fxc-monitorchart-scattergroup .fxc-monitorchart-timeSeriesPoints-dot{r:3.5}.fxc-monitorchart-scattergroup.Selected .fxc-monitorchart-timeSeriesPoints-dot{r:4.5}.fxc-monitorchart-watermark{background-color:rgba(0,0,0,.7);height:48px;width:90%;position:relative;top:-25px;display:flex;justify-content:center;align-items:center}circle.fxc-monitorchart-marker{stroke-width:3px}circle.fxc-monitorchart-marker.notSelected{opacity:.2}circle.fxc-monitorchart-marker.missing{fill:#fff}.fxc-monitorchart-watermark-container{font-size:13px;line-height:normal;display:flex;width:100%;height:100%;position:absolute;top:0;justify-content:center;align-items:center}.fxc-monitorchart-static-threshold{stroke:#111;stroke-width:1;cursor:row-resize;pointer-events:all;stroke-dasharray:5,5}.fxc-monitorchart-static-threshold-pointer{fill:#111;cursor:row-resize}.fxc-monitorchart-dynamic-threshold-path{stroke:#808080}.fxc-monitorchart-dynamic-threshold-area{fill:#0072c6;opacity:.2}.fxc-monitorchart-dynamic-thresholdSquare{opacity:.2}.fxc-monitorchart-dynamic-thresholdAlertCircle{stroke:#111}.fxc-monitorchart-watermark-text{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#fff;padding-left:.8em;padding-right:.8em}.dark .fxc-monitorchart-legend,.fxs-theme-dark .fxc-monitorchart-legend{fill:#fff}.dark .fxc-monitorchart-pages,.fxs-theme-dark .fxc-monitorchart-pages{fill:#fff}.dark circle.fxc-monitorchart-marker.missing,.fxs-theme-dark circle.fxc-monitorchart-marker.missing{fill:#111}.dark .fxc-monitorchart-watermark,.fxs-theme-dark .fxc-monitorchart-watermark{border-width:1px;border-style:solid}.dark .fxc-monitorchart-static-threshold,.fxs-theme-dark .fxc-monitorchart-static-threshold{stroke:#fff}.dark .fxc-monitorchart-static-threshold-pointer,.fxs-theme-dark .fxc-monitorchart-static-threshold-pointer{fill:#fff}.dark .fxc-monitorchart-dynamic-threshold-path,.fxs-theme-dark .fxc-monitorchart-dynamic-threshold-path{stroke:#fff}.dark .fxc-monitorchart-dynamic-threshold-area,.fxs-theme-dark .fxc-monitorchart-dynamic-threshold-area{fill:#808080;opacity:.5}.dark .fxc-monitorchart-dynamic-thresholdAlertCircle,.fxs-theme-dark .fxc-monitorchart-dynamic-thresholdAlertCircle{stroke:#fff}.dark .fxc-monitorchart-dynamic-thresholdSquare,.fxs-theme-dark .fxc-monitorchart-dynamic-thresholdSquare{opacity:.3}.dark .fxc-monitorchart-minor .fxc-monitorchart-tick-line,.fxs-theme-dark .fxc-monitorchart-minor .fxc-monitorchart-tick-line{stroke:#525252}.dark .fxc-monitorchart-minor .fxc-monitorchart-tick-line-nodata,.fxs-theme-dark .fxc-monitorchart-minor .fxc-monitorchart-tick-line-nodata{stroke:rgba(82,82,82,.2)}.dark .fxc-monitorchart-axis .fxc-monitorchart-tick-path,.fxs-theme-dark .fxc-monitorchart-axis .fxc-monitorchart-tick-path{stroke:#aeaeae}.dark .fxc-monitorchart-axis .fxc-monitorchart-tick-text,.fxs-theme-dark .fxc-monitorchart-axis .fxc-monitorchart-tick-text{fill:#aeaeae}.dark .fxc-monitorchart-utc-label,.fxs-theme-dark .fxc-monitorchart-utc-label{fill:white}.dark .fxc-monitorchart-temp-tick,.fxs-theme-dark .fxc-monitorchart-temp-tick{fill:#aeaeae}.dark .fxc-monitorchart-tooltip-padding .fxc-monitorchart-tooltip-body,.fxs-theme-dark .fxc-monitorchart-tooltip-padding .fxc-monitorchart-tooltip-body{background-color:#111}@media screen and (-ms-high-contrast:black-on-white){.fxc-monitorchart-legend{fill:black}.fxc-monitorchart-watermark{background-color:#fff;border:1px solid #000;opacity:1}.fxc-monitorchart-watermark .fxc-monitorchart-watermark-text{color:#000}.fxc-monitorchart-static-threshold{stroke:black}.fxc-monitorchart-static-threshold-pointer{fill:black}.fxc-monitorchart-minor .fxc-monitorchart-tick-line{stroke:black}.fxc-monitorchart-minor .fxc-monitorchart-tick-line-nodata{stroke:black}.fxc-monitorchart-axis .fxc-monitorchart-tick-path{stroke:black}.fxc-monitorchart-axis .fxc-monitorchart-tick-text{fill:black}.fxc-monitorchart-utc-label{fill:black}.fxc-monitorchart-temp-tick{fill:black}}@media screen and (-ms-high-contrast:white-on-black){.fxc-monitorchart-legend{fill:white}.fxc-monitorchart-watermark{background-color:#000;border:1px solid #fff;opacity:1}.fxc-monitorchart-watermark .fxc-monitorchart-watermark-text{color:#fff}.fxc-monitorchart-static-threshold{stroke:white}.fxc-monitorchart-static-threshold-pointer{fill:white}.fxc-monitorchart-minor .fxc-monitorchart-tick-line{stroke:white}.fxc-monitorchart-minor .fxc-monitorchart-tick-line-nodata{stroke:white}.fxc-monitorchart-axis .fxc-monitorchart-tick-path{stroke:white}.fxc-monitorchart-axis .fxc-monitorchart-tick-text{fill:white}.fxc-monitorchart-utc-label{fill:white}.fxc-monitorchart-temp-tick{fill:white}}.light.high-contrast .fxc-monitorchart-legend{fill:black}.light.high-contrast .fxc-monitorchart-watermark{background-color:#fff;border:1px solid #000;opacity:1}.light.high-contrast .fxc-monitorchart-watermark .fxc-monitorchart-watermark-text{color:#000}.light.high-contrast .fxc-monitorchart-static-threshold{stroke:black}.light.high-contrast .fxc-monitorchart-static-threshold-pointer{fill:black}.light.high-contrast .fxc-monitorchart-minor .fxc-monitorchart-tick-line{stroke:black}.light.high-contrast .fxc-monitorchart-minor .fxc-monitorchart-tick-line-nodata{stroke:black}.light.high-contrast .fxc-monitorchart-axis .fxc-monitorchart-tick-path{stroke:black}.light.high-contrast .fxc-monitorchart-axis .fxc-monitorchart-tick-text{fill:black}.light.high-contrast .fxc-monitorchart-utc-label{fill:black}.light.high-contrast .fxc-monitorchart-temp-tick{fill:black}.dark.high-contrast .fxc-monitorchart-legend{fill:white}.dark.high-contrast .fxc-monitorchart-watermark{background-color:#000;border:1px solid #fff;opacity:1}.dark.high-contrast .fxc-monitorchart-watermark .fxc-monitorchart-watermark-text{color:#fff}.dark.high-contrast .fxc-monitorchart-static-threshold{stroke:white}.dark.high-contrast .fxc-monitorchart-static-threshold-pointer{fill:white}.dark.high-contrast .fxc-monitorchart-minor .fxc-monitorchart-tick-line{stroke:white}.dark.high-contrast .fxc-monitorchart-minor .fxc-monitorchart-tick-line-nodata{stroke:white}.dark.high-contrast .fxc-monitorchart-axis .fxc-monitorchart-tick-path{stroke:white}.dark.high-contrast .fxc-monitorchart-axis .fxc-monitorchart-tick-text{fill:white}.dark.high-contrast .fxc-monitorchart-utc-label{fill:white}.dark.high-contrast .fxc-monitorchart-temp-tick{fill:white}.fxc-monitorchartv2-progress{width:60px;z-index:194}.msportalfx-chart-color-0{fill:#0078d4;stroke:#0078d4;background-color:#0078d4}.msportalfx-chart-color-0.msportalfx-color-override{fill:#0078d4 !important;stroke:#0078d4 !important}.msportalfx-chart-color-1{fill:#ef6950;stroke:#ef6950;background-color:#ef6950}.msportalfx-chart-color-1.msportalfx-color-override{fill:#ef6950 !important;stroke:#ef6950 !important}.msportalfx-chart-color-2{fill:#00188f;stroke:#00188f;background-color:#00188f}.msportalfx-chart-color-2.msportalfx-color-override{fill:#00188f !important;stroke:#00188f !important}.msportalfx-chart-color-3{fill:#00a2ad;stroke:#00a2ad;background-color:#00a2ad}.msportalfx-chart-color-3.msportalfx-color-override{fill:#00a2ad !important;stroke:#00a2ad !important}.msportalfx-chart-color-4{fill:#4b003f;stroke:#4b003f;background-color:#4b003f}.msportalfx-chart-color-4.msportalfx-color-override{fill:#4b003f !important;stroke:#4b003f !important}.msportalfx-chart-color-5{fill:#e3008c;stroke:#e3008c;background-color:#e3008c}.msportalfx-chart-color-5.msportalfx-color-override{fill:#e3008c !important;stroke:#e3008c !important}.msportalfx-chart-color-6{fill:#022f22;stroke:#022f22;background-color:#022f22}.msportalfx-chart-color-6.msportalfx-color-override{fill:#022f22 !important;stroke:#022f22 !important}.msportalfx-chart-color-7{fill:#917edb;stroke:#917edb;background-color:#917edb}.msportalfx-chart-color-7.msportalfx-color-override{fill:#917edb !important;stroke:#917edb !important}.msportalfx-chart-color-8{fill:#001d3f;stroke:#001d3f;background-color:#001d3f}.msportalfx-chart-color-8.msportalfx-color-override{fill:#001d3f !important;stroke:#001d3f !important}.msportalfx-chart-color-9{fill:#502006;stroke:#502006;background-color:#502006}.msportalfx-chart-color-9.msportalfx-color-override{fill:#502006 !important;stroke:#502006 !important}.msportalfx-chart-color-10{fill:#00439b;stroke:#00439b;background-color:#00439b}.msportalfx-chart-color-10.msportalfx-color-override{fill:#00439b !important;stroke:#00439b !important}.msportalfx-chart-color-11{fill:#a32d21;stroke:#a32d21;background-color:#a32d21}.msportalfx-chart-color-11.msportalfx-color-override{fill:#a32d21 !important;stroke:#a32d21 !important}.msportalfx-chart-color-12{fill:#5a6bbc;stroke:#5a6bbc;background-color:#5a6bbc}.msportalfx-chart-color-12.msportalfx-color-override{fill:#5a6bbc !important;stroke:#5a6bbc !important}.msportalfx-chart-color-13{fill:#006875;stroke:#006875;background-color:#006875}.msportalfx-chart-color-13.msportalfx-color-override{fill:#006875 !important;stroke:#006875 !important}.msportalfx-chart-color-14{fill:#895682;stroke:#895682;background-color:#895682}.msportalfx-chart-color-14.msportalfx-color-override{fill:#895682 !important;stroke:#895682 !important}.msportalfx-chart-color-15{fill:#a00055;stroke:#a00055;background-color:#a00055}.msportalfx-chart-color-15.msportalfx-color-override{fill:#a00055 !important;stroke:#a00055 !important}.msportalfx-chart-color-16{fill:#527c70;stroke:#527c70;background-color:#527c70}.msportalfx-chart-color-16.msportalfx-color-override{fill:#527c70 !important;stroke:#527c70 !important}.msportalfx-chart-color-17{fill:#50419e;stroke:#50419e;background-color:#50419e}.msportalfx-chart-color-17.msportalfx-color-override{fill:#50419e !important;stroke:#50419e !important}.msportalfx-chart-color-18{fill:#667c97;stroke:#667c97;background-color:#667c97}.msportalfx-chart-color-18.msportalfx-color-override{fill:#667c97 !important;stroke:#667c97 !important}.msportalfx-chart-color-19{fill:#936952;stroke:#936952;background-color:#936952}.msportalfx-chart-color-19.msportalfx-color-override{fill:#936952 !important;stroke:#936952 !important}.msportalfx-chart-color-20{fill:#005eb8;stroke:#005eb8;background-color:#005eb8}.msportalfx-chart-color-20.msportalfx-color-override{fill:#005eb8 !important;stroke:#005eb8 !important}.msportalfx-chart-color-21{fill:#c64d3d;stroke:#c64d3d;background-color:#c64d3d}.msportalfx-chart-color-21.msportalfx-color-override{fill:#c64d3d !important;stroke:#c64d3d !important}.msportalfx-chart-color-22{fill:#3449aa;stroke:#3449aa;background-color:#3449aa}.msportalfx-chart-color-22.msportalfx-color-override{fill:#3449aa !important;stroke:#3449aa !important}.msportalfx-chart-color-23{fill:#008792;stroke:#008792;background-color:#008792}.msportalfx-chart-color-23.msportalfx-color-override{fill:#008792 !important;stroke:#008792 !important}.msportalfx-chart-color-24{fill:#733569;stroke:#733569;background-color:#733569}.msportalfx-chart-color-24.msportalfx-color-override{fill:#733569 !important;stroke:#733569 !important}.msportalfx-chart-color-25{fill:#c10070;stroke:#c10070;background-color:#c10070}.msportalfx-chart-color-25.msportalfx-color-override{fill:#c10070 !important;stroke:#c10070 !important}.msportalfx-chart-color-26{fill:#335c50;stroke:#335c50;background-color:#335c50}.msportalfx-chart-color-26.msportalfx-color-override{fill:#335c50 !important;stroke:#335c50 !important}.msportalfx-chart-color-27{fill:#7160bc;stroke:#7160bc;background-color:#7160bc}.msportalfx-chart-color-27.msportalfx-color-override{fill:#7160bc !important;stroke:#7160bc !important}.msportalfx-chart-color-28{fill:#334d6b;stroke:#334d6b;background-color:#334d6b}.msportalfx-chart-color-28.msportalfx-color-override{fill:#334d6b !important;stroke:#334d6b !important}.msportalfx-chart-color-29{fill:#784e37;stroke:#784e37;background-color:#784e37}.msportalfx-chart-color-29.msportalfx-color-override{fill:#784e37 !important;stroke:#784e37 !important}.msportalfx-chart-color-30{fill:#01297f;stroke:#01297f;background-color:#01297f}.msportalfx-chart-color-30.msportalfx-color-override{fill:#01297f !important;stroke:#01297f !important}.msportalfx-chart-color-31{fill:#810c06;stroke:#810c06;background-color:#810c06}.msportalfx-chart-color-31.msportalfx-color-override{fill:#810c06 !important;stroke:#810c06 !important}.msportalfx-chart-color-32{fill:#7e8fd7;stroke:#7e8fd7;background-color:#7e8fd7}.msportalfx-chart-color-32.msportalfx-color-override{fill:#7e8fd7 !important;stroke:#7e8fd7 !important}.msportalfx-chart-color-33{fill:#004a57;stroke:#004a57;background-color:#004a57}.msportalfx-chart-color-33.msportalfx-color-override{fill:#004a57 !important;stroke:#004a57 !important}.msportalfx-chart-color-34{fill:#b384ad;stroke:#b384ad;background-color:#b384ad}.msportalfx-chart-color-34.msportalfx-color-override{fill:#b384ad !important;stroke:#b384ad !important}.msportalfx-chart-color-35{fill:#7e0039;stroke:#7e0039;background-color:#7e0039}.msportalfx-chart-color-35.msportalfx-color-override{fill:#7e0039 !important;stroke:#7e0039 !important}.msportalfx-chart-color-36{fill:#729d86;stroke:#729d86;background-color:#729d86}.msportalfx-chart-color-36.msportalfx-color-override{fill:#729d86 !important;stroke:#729d86 !important}.msportalfx-chart-color-37{fill:#30237f;stroke:#30237f;background-color:#30237f}.msportalfx-chart-color-37.msportalfx-color-override{fill:#30237f !important;stroke:#30237f !important}.msportalfx-chart-color-38{fill:#7e95b4;stroke:#7e95b4;background-color:#7e95b4}.msportalfx-chart-color-38.msportalfx-color-override{fill:#7e95b4 !important;stroke:#7e95b4 !important}.msportalfx-chart-color-39{fill:#b18b72;stroke:#b18b72;background-color:#b18b72}.msportalfx-chart-color-39.msportalfx-color-override{fill:#b18b72 !important;stroke:#b18b72 !important}.msportalfx-chart-color-info{stroke:#0078d4;fill:#0078d4;background-color:#0078d4}.msportalfx-chart-color-info.msportalfx-color-override{fill:#0078d4 !important;stroke:#0078d4 !important}.msportalfx-chart-color-success{stroke:#57a300;fill:#57a300;background-color:#57a300}.msportalfx-chart-color-success.msportalfx-color-override{fill:#57a300 !important;stroke:#57a300 !important}.msportalfx-chart-color-warning{stroke:#db7500;fill:#db7500;background-color:#db7500}.msportalfx-chart-color-warning.msportalfx-color-override{fill:#db7500 !important;stroke:#db7500 !important}.msportalfx-chart-color-error{stroke:#e00b1c;fill:#e00b1c;background-color:#e00b1c}.msportalfx-chart-color-error.msportalfx-color-override{fill:#e00b1c !important;stroke:#e00b1c !important}.msportalfx-chart-color-disabled{stroke:#8a8886;fill:#8a8886;background-color:#8a8886}.msportalfx-chart-color-disabled.msportalfx-color-override{fill:#8a8886 !important;stroke:#8a8886 !important}.fxs-mode-dark .msportalfx-chart-color-0{fill:#0078d4;stroke:#0078d4;background-color:#0078d4}.fxs-mode-dark .msportalfx-chart-color-0.msportalfx-color-override{fill:#0078d4 !important;stroke:#0078d4 !important}.fxs-mode-dark .msportalfx-chart-color-1{fill:#cb4936;stroke:#cb4936;background-color:#cb4936}.fxs-mode-dark .msportalfx-chart-color-1.msportalfx-color-override{fill:#cb4936 !important;stroke:#cb4936 !important}.fxs-mode-dark .msportalfx-chart-color-2{fill:#bedfff;stroke:#bedfff;background-color:#bedfff}.fxs-mode-dark .msportalfx-chart-color-2.msportalfx-color-override{fill:#bedfff !important;stroke:#bedfff !important}.fxs-mode-dark .msportalfx-chart-color-3{fill:#038387;stroke:#038387;background-color:#038387}.fxs-mode-dark .msportalfx-chart-color-3.msportalfx-color-override{fill:#038387 !important;stroke:#038387 !important}.fxs-mode-dark .msportalfx-chart-color-4{fill:#f6c0ff;stroke:#f6c0ff;background-color:#f6c0ff}.fxs-mode-dark .msportalfx-chart-color-4.msportalfx-color-override{fill:#f6c0ff !important;stroke:#f6c0ff !important}.fxs-mode-dark .msportalfx-chart-color-5{fill:#d60084;stroke:#d60084;background-color:#d60084}.fxs-mode-dark .msportalfx-chart-color-5.msportalfx-color-override{fill:#d60084 !important;stroke:#d60084 !important}.fxs-mode-dark .msportalfx-chart-color-6{fill:#a4e1d2;stroke:#a4e1d2;background-color:#a4e1d2}.fxs-mode-dark .msportalfx-chart-color-6.msportalfx-color-override{fill:#a4e1d2 !important;stroke:#a4e1d2 !important}.fxs-mode-dark .msportalfx-chart-color-7{fill:#6e5db7;stroke:#6e5db7;background-color:#6e5db7}.fxs-mode-dark .msportalfx-chart-color-7.msportalfx-color-override{fill:#6e5db7 !important;stroke:#6e5db7 !important}.fxs-mode-dark .msportalfx-chart-color-8{fill:#c7d3ff;stroke:#c7d3ff;background-color:#c7d3ff}.fxs-mode-dark .msportalfx-chart-color-8.msportalfx-color-override{fill:#c7d3ff !important;stroke:#c7d3ff !important}.fxs-mode-dark .msportalfx-chart-color-9{fill:#ffca8a;stroke:#ffca8a;background-color:#ffca8a}.fxs-mode-dark .msportalfx-chart-color-9.msportalfx-color-override{fill:#ffca8a !important;stroke:#ffca8a !important}.fxs-mode-dark .msportalfx-chart-color-10{fill:#62b2ee;stroke:#62b2ee;background-color:#62b2ee}.fxs-mode-dark .msportalfx-chart-color-10.msportalfx-color-override{fill:#62b2ee !important;stroke:#62b2ee !important}.fxs-mode-dark .msportalfx-chart-color-11{fill:#e89387;stroke:#e89387;background-color:#e89387}.fxs-mode-dark .msportalfx-chart-color-11.msportalfx-color-override{fill:#e89387 !important;stroke:#e89387 !important}.fxs-mode-dark .msportalfx-chart-color-12{fill:#5493ba;stroke:#5493ba;background-color:#5493ba}.fxs-mode-dark .msportalfx-chart-color-12.msportalfx-color-override{fill:#5493ba !important;stroke:#5493ba !important}.fxs-mode-dark .msportalfx-chart-color-13{fill:#61b9bc;stroke:#61b9bc;background-color:#61b9bc}.fxs-mode-dark .msportalfx-chart-color-13.msportalfx-color-override{fill:#61b9bc !important;stroke:#61b9bc !important}.fxs-mode-dark .msportalfx-chart-color-14{fill:#aa72b3;stroke:#aa72b3;background-color:#aa72b3}.fxs-mode-dark .msportalfx-chart-color-14.msportalfx-color-override{fill:#aa72b3 !important;stroke:#aa72b3 !important}.fxs-mode-dark .msportalfx-chart-color-15{fill:#ed68ba;stroke:#ed68ba;background-color:#ed68ba}.fxs-mode-dark .msportalfx-chart-color-15.msportalfx-color-override{fill:#ed68ba !important;stroke:#ed68ba !important}.fxs-mode-dark .msportalfx-chart-color-16{fill:#439686;stroke:#439686;background-color:#439686}.fxs-mode-dark .msportalfx-chart-color-16.msportalfx-color-override{fill:#439686 !important;stroke:#439686 !important}.fxs-mode-dark .msportalfx-chart-color-17{fill:#aba0dc;stroke:#aba0dc;background-color:#aba0dc}.fxs-mode-dark .msportalfx-chart-color-17.msportalfx-color-override{fill:#aba0dc !important;stroke:#aba0dc !important}.fxs-mode-dark .msportalfx-chart-color-18{fill:#7188ba;stroke:#7188ba;background-color:#7188ba}.fxs-mode-dark .msportalfx-chart-color-18.msportalfx-color-override{fill:#7188ba !important;stroke:#7188ba !important}.fxs-mode-dark .msportalfx-chart-color-19{fill:#af7f33;stroke:#af7f33;background-color:#af7f33}.fxs-mode-dark .msportalfx-chart-color-19.msportalfx-color-override{fill:#af7f33 !important;stroke:#af7f33 !important}.fxs-mode-dark .msportalfx-chart-color-20{fill:#3195e1;stroke:#3195e1;background-color:#3195e1}.fxs-mode-dark .msportalfx-chart-color-20.msportalfx-color-override{fill:#3195e1 !important;stroke:#3195e1 !important}.fxs-mode-dark .msportalfx-chart-color-21{fill:#da6e5e;stroke:#da6e5e;background-color:#da6e5e}.fxs-mode-dark .msportalfx-chart-color-21.msportalfx-color-override{fill:#da6e5e !important;stroke:#da6e5e !important}.fxs-mode-dark .msportalfx-chart-color-22{fill:#89b9dc;stroke:#89b9dc;background-color:#89b9dc}.fxs-mode-dark .msportalfx-chart-color-22.msportalfx-color-override{fill:#89b9dc !important;stroke:#89b9dc !important}.fxs-mode-dark .msportalfx-chart-color-23{fill:#329ea2;stroke:#329ea2;background-color:#329ea2}.fxs-mode-dark .msportalfx-chart-color-23.msportalfx-color-override{fill:#329ea2 !important;stroke:#329ea2 !important}.fxs-mode-dark .msportalfx-chart-color-24{fill:#d099d9;stroke:#d099d9;background-color:#d099d9}.fxs-mode-dark .msportalfx-chart-color-24.msportalfx-color-override{fill:#d099d9 !important;stroke:#d099d9 !important}.fxs-mode-dark .msportalfx-chart-color-25{fill:#e1349f;stroke:#e1349f;background-color:#e1349f}.fxs-mode-dark .msportalfx-chart-color-25.msportalfx-color-override{fill:#e1349f !important;stroke:#e1349f !important}.fxs-mode-dark .msportalfx-chart-color-26{fill:#73bcac;stroke:#73bcac;background-color:#73bcac}.fxs-mode-dark .msportalfx-chart-color-26.msportalfx-color-override{fill:#73bcac !important;stroke:#73bcac !important}.fxs-mode-dark .msportalfx-chart-color-27{fill:#8c7fc9;stroke:#8c7fc9;background-color:#8c7fc9}.fxs-mode-dark .msportalfx-chart-color-27.msportalfx-color-override{fill:#8c7fc9 !important;stroke:#8c7fc9 !important}.fxs-mode-dark .msportalfx-chart-color-28{fill:#9caddc;stroke:#9caddc;background-color:#9caddc}.fxs-mode-dark .msportalfx-chart-color-28.msportalfx-color-override{fill:#9caddc !important;stroke:#9caddc !important}.fxs-mode-dark .msportalfx-chart-color-29{fill:#d7a45f;stroke:#d7a45f;background-color:#d7a45f}.fxs-mode-dark .msportalfx-chart-color-29.msportalfx-color-override{fill:#d7a45f !important;stroke:#d7a45f !important}.fxs-mode-dark .msportalfx-chart-color-30{fill:#93cffb;stroke:#93cffb;background-color:#93cffb}.fxs-mode-dark .msportalfx-chart-color-30.msportalfx-color-override{fill:#93cffb !important;stroke:#93cffb !important}.fxs-mode-dark .msportalfx-chart-color-31{fill:#f7b8af;stroke:#f7b8af;background-color:#f7b8af}.fxs-mode-dark .msportalfx-chart-color-31.msportalfx-color-override{fill:#f7b8af !important;stroke:#f7b8af !important}.fxs-mode-dark .msportalfx-chart-color-32{fill:#1f6c97;stroke:#1f6c97;background-color:#1f6c97}.fxs-mode-dark .msportalfx-chart-color-32.msportalfx-color-override{fill:#1f6c97 !important;stroke:#1f6c97 !important}.fxs-mode-dark .msportalfx-chart-color-33{fill:#90d4d7;stroke:#90d4d7;background-color:#90d4d7}.fxs-mode-dark .msportalfx-chart-color-33.msportalfx-color-override{fill:#90d4d7 !important;stroke:#90d4d7 !important}.fxs-mode-dark .msportalfx-chart-color-34{fill:#893b8e;stroke:#893b8e;background-color:#893b8e}.fxs-mode-dark .msportalfx-chart-color-34.msportalfx-color-override{fill:#893b8e !important;stroke:#893b8e !important}.fxs-mode-dark .msportalfx-chart-color-35{fill:#f89cd5;stroke:#f89cd5;background-color:#f89cd5}.fxs-mode-dark .msportalfx-chart-color-35.msportalfx-color-override{fill:#f89cd5 !important;stroke:#f89cd5 !important}.fxs-mode-dark .msportalfx-chart-color-36{fill:#127160;stroke:#127160;background-color:#127160}.fxs-mode-dark .msportalfx-chart-color-36.msportalfx-color-override{fill:#127160 !important;stroke:#127160 !important}.fxs-mode-dark .msportalfx-chart-color-37{fill:#c9c2ee;stroke:#c9c2ee;background-color:#c9c2ee}.fxs-mode-dark .msportalfx-chart-color-37.msportalfx-color-override{fill:#c9c2ee !important;stroke:#c9c2ee !important}.fxs-mode-dark .msportalfx-chart-color-38{fill:#466297;stroke:#466297;background-color:#466297}.fxs-mode-dark .msportalfx-chart-color-38.msportalfx-color-override{fill:#466297 !important;stroke:#466297 !important}.fxs-mode-dark .msportalfx-chart-color-39{fill:#875908;stroke:#875908;background-color:#875908}.fxs-mode-dark .msportalfx-chart-color-39.msportalfx-color-override{fill:#875908 !important;stroke:#875908 !important}",moduleId:n.id}}));
define("_generated/Less/MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/MonitorChartV2.css",["module"],(function(n){"use strict";return{css:".fxc-monitorchartv2-charttext{white-space:pre}.fxc-monitorchartv2{position:relative}.fxc-monitorchartv2-charts{display:flex;flex-flow:row wrap;height:100%;padding:5px 0;margin-left:-5px;margin-right:-5px}.fxc-monitorchartv2-chart-wrapper{padding-top:5px;position:relative;box-sizing:border-box;overflow:hidden}.fxc-monitorchartv2-chart{height:100%;width:100%}.fxc-monitorchartv2-chart-container{flex:1 1 0%;position:relative}.fxc-monitorchartv2-overlay-preview-text{position:absolute;top:63px;font-weight:bold}.fxc-monitorchartv2-header{display:flex;flex-flow:row nowrap;height:47px;flex:none}.fxc-monitorchartv2-title-and-subtitle-show .fxc-monitorchartv2-header{height:calc(24px + 15px)}.fxc-monitorchartv2-only-title-show .fxc-monitorchartv2-header{height:calc(24px)}.fxc-monitorchartv2-only-subtitle-show .fxc-monitorchartv2-header{height:calc(15px)}.fxc-monitorchartv2-title-container{flex:1 1 0%;max-width:calc(100% - 28px)}.fxc-monitorchartv2-title,.fxc-monitorchartv2-subtitle{margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fxc-monitorchartv2-title{padding-left:10px;font-weight:600;font-size:14px;line-height:17px;padding-bottom:5px}.fxc-monitorchartv2-subtitle{font-weight:700;font-size:12px;line-height:15px}.fxc-monitorchartv2-toolbar-item{height:18px;width:18px;padding:5px;float:right;display:block}.fxc-monitorchartv2-toolbar-item-disabled{pointer-events:none;opacity:.5}.fxc-monitorchartv2-chart-single{height:100%;width:100%}.fxc-monitorchartv2-chart-single .fxc-monitorchartv2-title-and-subtitle-show .fxc-monitorchartv2-chart-container{height:calc(100% - 24px - 15px)}.fxc-monitorchartv2-chart-single .fxc-monitorchartv2-only-title-show .fxc-monitorchartv2-chart-container{height:calc(100% - 24px)}.fxc-monitorchartv2-chart-single .fxc-monitorchartv2-only-subtitle-show .fxc-monitorchartv2-chart-container{height:calc(100% - 15px)}.fxc-monitorchartv2-chart-single .fxc-monitorchartv2-chart-container{height:\"100%\"}.fxc-monitorchartv2-short .fxc-monitorchartv2-chart-single .fxc-monitorchartv2-chart-container{height:calc(100% + -5px + -20px)}.fxc-monitorchartv2-short .fxc-monitorchartv2-chart-single .fxc-monitorchartv2-header-hidden .fxc-monitorchartv2-chart-container{height:calc(100% + -5px + -20px + 40px)}.fxc-monitorchartv2-chart-multiple{padding:10px;max-width:374px;min-width:374px;flex:1 1 0%}.fxc-monitorchartv2-chart-multiple .fxc-monitorchartv2-chart{padding:10px;border:1px solid #d6d6d6;height:calc(300px - 2*10px - 2px);box-sizing:border-box;transition:box-shadow 100ms}.fxc-monitorchartv2-chart-multiple .fxc-monitorchartv2-chart:hover{box-shadow:0 2px 2px rgba(50,50,50,.5)}.fxc-monitorchartv2-chart-multiple .fxc-monitorchartv2-title-and-subtitle-show .fxc-monitorchartv2-chart-container{height:calc(300px - (10px*2 + 24px + 15px))}.fxc-monitorchartv2-chart-multiple .fxc-monitorchartv2-only-title-show .fxc-monitorchartv2-chart-container{height:calc(300px - (10px*2 + 24px))}.fxc-monitorchartv2-chart-multiple .fxc-monitorchartv2-only-subtitle-show .fxc-monitorchartv2-chart-container{height:calc(300px - (10px*2 + 15px))}.fxc-monitorchartv2-chart-multiple .fxc-monitorchartv2-chart-container{height:calc(300px - (10px*2))}.fxc-monitorchartv2-chart .azc-metrics .azc-singleSetting-data .azc-singleSetting-value{font-size:20px !important;line-height:14px !important}.fxc-monitorchartv2-chart .azc-metrics ul.azc-metrics-horizontal{height:33px !important}.fxc-monitorchartv2-chart .azc-metrics .azc-metrics-singleSetting .azc-singleSetting-caption{font-size:11px !important}.fxc-monitorchartv2-chart .azc-metrics .azc-balloon-text{white-space:pre-line}.fxc-monitorchartv2-clickable{cursor:pointer}.fxc-monitorchartv2-default-cursor{cursor:default}.fxc-megrid-loadMoreContainer{display:block;height:20px;text-decoration:none;text-align:center}.fxc-megrid-loadMoreContainer .fxc-megrid-loadMoreLabel{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;font-size:13px;line-height:20px}.fxc-monitorchartv2-chart .fxc-gc-row.fxs-portal-hover:hover,.fxc-monitorchartv2-chart .fxc-gc-row.fxs-portal-hover.fxs-hover{background-color:transparent}",moduleId:n.id}}));
define("MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/MonitorChartV2",["require","exports","Fx/Controls/MonitorChartV2","MsPortalImpl/Base/Base.Timers","MsPortalImpl/UI/Compositions/UI.Composition","Viva.Controls/Util/Viva.Resize","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/AI/ME/Telemetry","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/MetricsDataProvider","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/MonitorChart.Main","MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/Tools/MonitorChartConverter/Constants","MsPortalImpl/Services/Services.SecurityTokens","MsPortalImpl.Controls/Controls/Base/Loadable","FxInternal/Css","_generated/Less/MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/MonitorChartV2.css","_generated/Less/MsPortalImpl.Controls/Controls/Visualization/MonitorChartV2/MetricsChart.css"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){"use strict";function it(n){var t=n&&n.metrics,i=t&&t[0]&&t[0].resourceMetadata;if(i)return i.subscription?"CrossResourceQuery":i.id}var d;Object.defineProperty(t,"__esModule",{value:!0});t.Widget=void 0;a.injectCss(v,y);var w=MsPortalFx.Base.Diagnostics.Telemetry,p="fxc-monitorchartv2",b=p+"-clickable",g=p+"-default-cursor",nt=MsPortalFx.Base.Diagnostics.createLog(n),tt="<div class='"+p+"-charts' data-bind='foreach: $ctl._charts, css: { \""+p+"-short\": $ctl._size() === 0 }'><div class='"+p+"-chart-wrapper' data-bind='css: $ctl._getChartCss($data), with: $data.chart.getViewModel()'>"+s.Template+"<\/div><\/div>",k={relative:{duration:864e5}};d=(function(n){function t(t,i,s){var l=n.call(this,t,i,s)||this,y,a,b,v,it,rt,ut,k;l._version=undefined;l._width=0;l._height=0;var d=Date.now(),ft=new e.OperationTelemetry("MonitorchartV2.init",{}),g=$(t).closest(".fxs-tile").data(u.CompositionInstanceDataName),nt=g&&g.locator;l._bladeOrPartName=nt?nt.toFriendlyString():"";l._determineOptionsVersion();l._isPartHostedOnDashboard=i.isPartOnDashboard;y=i.visualization;y&&(l._sortIndex=y.sortIndex,l._sortOrder=y.sortOrder);l._charts=ko.observableArray([]);l._charts.extend({rateLimit:1});l._size=ko.observable(1);l.element.addClass(p).html(tt);l._bindDescendants();a={source:"MonitorChartV2",action:"fetchDraftToken",actionModifier:"Fail",duration:0};b=new Date;try{s.diContainer.getAsync(c.SecurityTokensManager).then((function(n){var t=[];return MsPortalFx.isFeatureEnabled("mist")&&t.push(n.getToken({extensionName:"Microsoft_Azure_MonitoringAz",resourceName:"mist",isBackground:!1,skipCache:!1})),MsPortalFx.isFeatureEnabled("prefetchdrafttoken")&&t.push(n.getToken({extensionName:"Microsoft_Azure_MonitoringAz",resourceName:"loganalyticsapi",isBackground:!1,skipCache:!1})),t.length>0?Q.all(t).then((function(n){a.duration=Date.now()-b.getTime();n[0].token.header&&(a.actionModifier="Success");w.trace(a)})):void 0})).catch((function(n){a.duration=Date.now()-b.getTime();a.data={Error:n};w.trace(a)}))}catch(et){a.duration=Date.now()-b.getTime();a.data={Error:et};w.trace(a)}return v=0,ko.pureComputed((function(){var n;return l._version===h.MonitorChartVersionIds.VEmbedded&&(n=l._options,n._msPortalFxCharts(),n._msPortalFxTimespan()),l._version===h.MonitorChartVersionIds.V2_0&&(n=l._options,n.timespan(),n.grouping(),n.filterCollection(),n.visualization&&(n.visualization.chartType(),n.visualization.legendVisualization(),n.visualization.axisVisualization(),n.visualization.enableTimeBrush()),n.metrics().forEach((function(n){n.aggregationType();n.metricVisualization()})),n.openBladeOnClick()),v=(v+1)%255})).extend({throttle:50}).subscribe(l.ltm,(function(){l.update(!1,new e.OperationTelemetry("MonitorChartV2.ChartInputUpdated",{}),s,i.telemetryData,d)})),it=function(){l._charts().forEach((function(n){n.chart.updateThreshold({},new e.OperationTelemetry("MonitorChartV2.ThresholdChanged",{}))}))},ko.pureComputed((function(){if(l._version===h.MonitorChartVersionIds.V2_0){var n=l._options;n.metrics().forEach((function(n){n.thresholds().forEach((function(n){n.lowerThreshold();n.upperThreshold();n.operator();n.dynamicThreshold&&n.dynamicThreshold()}))}))}return v=(v+1)%255})).subscribe(l.ltm,it),ut=r.throttleByAnimationFrame((function(n,t){l.ltm.isDisposed()||l._onSizeChanged(n||l._width,t||l._height)})),k=function(n,t){MsPortalFx.isNullOrUndefined(t)||(rt=!0,l._width=n,l._height=t,t<=175?l._size(0):l._size(1),ut(n,t))},f.track(l.ltm,t,k),Q.delay(250).then((function(){rt||k(l.element.width(),l.element.height())})),l.update(!0,ft,s,i.telemetryData,d),l._metricsDataProvider=new o.MetricsDataProvider(l._charts()[0]&&l._charts()[0].chart.itemDataModel_id),i._msPortalFxMetricsDataProvider||(i._msPortalFxMetricsDataProvider=ko.observable()),i._msPortalFxMetricsDataProvider(l._metricsDataProvider),l._attachEvents(),l}return __extends(t,n),t.prototype.update=function(n,t,i,r,u){var f=this,tt=MsPortalFx.startTimer(),e,o,l,b,g,nt,a;if(this._version===h.MonitorChartVersionIds.VEmbedded?e=ko.unwrap(this._options._msPortalFxCharts):this._version===h.MonitorChartVersionIds.V2_0&&(e=[this._options]),o=e?e.length:0,o||this._charts([]),l=o-this._charts().length,l<0)this._charts.splice(o,-l);else while(l--)this._charts.push({cssClass:ko.observable(""),chart:new s.MonitorChartMain(this.ltm,this.element,i,t,this._isPartHostedOnDashboard,this._onSortChanged.bind(this),this.options.openBlade.bind(this.options)),onClick:undefined});var v=o>1,it=p+(v?"-chart-multiple":"-chart-single"),d=this._charts(),c={resourceTypes:{},timespansMs:[],metricCounts:[],isGroupedBys:[]},y=[];return this._version===h.MonitorChartVersionIds.V2_0?(b=this.options.timespan,g=b&&b()||k,e.forEach((function(n,i){var r=d[i],u;r.cssClass(it);u=r.chart.update(n,g,v,f._width,f._height,t).finally((function(){r.chart.collectTelemetryInfo(c)}));y.push(u)}))):this._version===h.MonitorChartVersionIds.VEmbedded&&e.forEach((function(n,i){var r=d[i],u=n.timespan||k,e=r.chart.update(n,u,v,f._width,f._height,t).finally((function(){r.chart.collectTelemetryInfo(c)}));y.push(e)})),nt=Date.now(),Q.all(y).catch((function(n){a=n})).finally((function(){var i,e,l;if(r){var h=Date.now(),v=tt(),s={bladeOrPartName:f._bladeOrPartName,chartDefinitionVersion:f._version,inputChartLength:o,resourceTypes:c.resourceTypes,timespanMs:c.timespansMs,metricCount:c.metricCounts,isGroupedBy:c.isGroupedBys};MsPortalFx.extend(s,t.getStats());i=void 0;e=void 0;n?(l={init:t.getStats(),widgetConstructionTime:nt-u},MsPortalFx.extend(s,l),r.firstWidgetLoad&&r.firstWidgetLoad()?(e="Load",i=h-r.constructorStartTimestamp,MsPortalFx.extend(s,{viewModelConstructionTime:r.constructorEndTimestamp-r.constructorStartTimestamp,widgetBundleLoadTime:u-r.constructorEndTimestamp}),r.firstWidgetLoad(!1)):(e="WidgetLoad",i=h-u)):(i=v,e="WidgetUpdate");w.trace({source:"MonitorChartV2",action:e,actionModifier:a?"Fail":"Success",duration:i,data:s})}if(a)throw a;}))},t.prototype._onSizeChanged=function(n,t){var r=this,f=w.start({source:"MonitorChartV2",action:"Resize"}),o=[],s=new e.OperationTelemetry("MonitorChartV2.onSizeChanged",{}),i={resourceTypes:{},timespansMs:[],metricCounts:[],isGroupedBys:[]},u;return this._charts().forEach((function(r){o.push(r.chart.resizeChart(t,n,s));r.chart.collectTelemetryInfo(i)})),Q.all(o).catch((function(n){u=n})).finally((function(){var n={bladeOrPartName:r._bladeOrPartName,chartDefinitionVersion:r._version,inputChartLength:r._charts().length,resourceTypes:i.resourceTypes,timespanMs:i.timespansMs,metricCount:i.metricCounts,isGroupedBy:i.isGroupedBys};if(MsPortalFx.extend(n,s.getStats()),u){w.cancelTrace(f,n);throw u;}else w.completeTrace(f,n)}))},t.prototype._determineOptionsVersion=function(){if(this._version===undefined){var n=this._options._msPortalFxCharts;n&&n().some((function(n){return!MsPortalFx.isNullOrUndefined(n.itemDataModel)}))?this._version=h.MonitorChartVersionIds.VEmbedded:this._options.charts?this._version=h.MonitorChartVersionIds.V2_0:nt.error("MonitorChartV2 Widget._determineOptionsVersion: Unsupported version: "+JSON.stringify(this._options))}},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this._cleanElement(p),n.prototype.dispose.call(this))},t.prototype._attachEvents=function(){var n=this;this.ltm.registerForDispose(this.element.setEvents(["click","."+b,function(t){n._handleChartClick(t)},],["keyup","."+b,function(t){(t.which===13||t.which===32)&&n._handleChartClick(t)},]))},t.prototype._handleChartClick=function(n){var i=this,t=ko.dataFor(n.currentTarget),r=t.chart.state();r!==0||this._isPartHostedOnDashboard||(n.stopPropagation(),this._tryResolveOpenBladeLink(t).then((function(n){var r,u,f;(!n||n.openBlade)&&(r=void 0,u=n&&n.resolvedBlade,u?r=Q(u):(f=t.chart.timeContext.getTimerange(),MsPortalFx.isFeatureEnabled("monitorchartprequery")&&i._metricsDataProvider.preQueryBladeData(f,t.chart.timeContext.getGrain()),r=i._getMEv2BladeDefinition(t)),r.then((function(n){i.options.openBlade(n)})))})))},t.prototype._getMEv2BladeDefinition=function(n){return n.chart.getMEv2PartInput().then((function(n){var r,t,i;return n&&(t=n.chart,i={parameters:{ResourceId:it(t),TimeContext:n.timeContext,Chart:t,openInEditMode:!1}},r=MsPortalFx.isFeatureEnabled("mereactblade")?new FxImpl.Composition.Selectable.PdlBladeReference("Metrics.ReactView","Microsoft_Azure_MonitoringMetrics",i,{}):new FxImpl.Composition.Selectable.PdlBladeReference("MetricsV4","Microsoft_Azure_MonitoringAz",i,{})),r}))},t.prototype._getChartCss=function(n){var t=n.cssClass(),i=t?[t]:[];return i.push(n.chart.isChartClickable()?b:g),i.join(" ")},t.prototype._tryResolveOpenBladeLink=function(n){return(this._version===h.MonitorChartVersionIds.V2_0||this._version===h.MonitorChartVersionIds.VEmbedded)&&n&&n.chart?n.chart.resolveOpenBladeReference(i.CreateBladeReferenceEvent.OnClick):Q(undefined)},t.prototype._onSortChanged=function(n,t){this._sortIndex&&n!==ko.unwrap(this._sortIndex)&&this._sortIndex(n);this._sortOrder&&t!==ko.unwrap(this._sortOrder)&&this._sortOrder(t)},t})(l.Widget);t.Widget=d}))