define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.ActionHandler",["require","exports"],(function(){"use strict";var n;return (function(n){function i(n){var i=t.data(n,"ActionHandler");return i||(i=ko.observable(),t.data(n,"ActionHandler",i)),i}var t=MsPortalFx.Base.ProxiedObservables;n.getOrCreateActionHandler=i})(n||(n={})),n}));
define("Viva.Controls/Controls/Forms/Viva.TextBox.Component",["require","exports","Weave/DirectMode","Weave","Viva.Controls/Controls/Base/Viva.Base","Fx/Weave","MsPortalImpl/Weave/Util"],(function(n,t,i,r,u,f,e){"use strict";function s(n){var t=n.vm,s=MsPortalFx.Base.Images.Search(),h=f.toComputation(t.validators).compose((function(n){return n.some((function(n){return n.type===1}))}));return i(r.GetContext,{fn:function(n){var l=e.aggregateContext(n,t),c=l.disabled,a=l.tabIndex;return i("div",{className:["azc-inputbox-wrapper azc-textBox-wrapper",{"fxc-has-search-icon":f.toComputation(t.showSearchIcon)}],tabindex:"-1"},i(r.If,{condition:f.toComputation(t.showSearchIcon),concealmentBehavior:"remove",trueFn:function(){return i("div",{className:"fxc-search-icon fxs-portal-svg-secondary",image:s})}}),i(r.LifetimeManagerScoped,{fn:function(n){var w=t.getValueUpdateTrigger()||"change",s,y,p,l,e,v;return w==="input"?(l=f.toComputation(t.value),s=function(n){var i=n.value,r=t.value()||"";i!==r&&t.value(i)}):(e=l=r.makeWritableComputation(t.value()),t.value.subscribe(n,e),s=function(n){var t=n.value;return e(t)},v=function(){var n=e.value,i=t.value()||"";n!==i&&t.value(n)},y=v,p=function(n){var t=n.keyCode;t===13&&v()}),i("input",{className:["azc-input azc-formControl azc-validation-border "+u.autoTooltipClass,{"fxs-br-error":f.toComputation(t.validationState).compose((function(n){return n===1})),"fxs-br-dirty":f.toComputation(t.dirty),"azc-disabled":c,"azc-br-focused":f.toComputation(t.focused)}],type:"text","aria-multiline":"false",name:t.name||"__azc-textBox-tsx"+o++,placeholder:f.toComputation(t.placeholder),readonly:f.toComputation(t.readOnly),spellcheck:f.toComputation(t.spellcheck),disabled:c,tabindex:a,"aria-required":h,"aria-readonly":f.toComputation(t.readOnly),"aria-disabled":c,value:l,onValueChange:s,onBlur:y,onKeyDown:p})}}))}})}Object.defineProperty(t,"__esModule",{value:!0});t.TextBoxInner=void 0;var o=0;t.TextBoxInner=s}));
define("MsPortalImpl.Controls/Fields/TextField.Component",["require","exports","Weave/DirectMode","MsPortalImpl.Controls/Fields/Base/Field.ComponentBuilder","MsPortalImpl/Weave/Builder","Viva.Controls/Controls/Forms/Viva.TextBox.Component"],(function(n,t,i,r,u,f){"use strict";function e(n){var o=n.vm,e=n.state,s=e.labelHelper,h=r.getFieldTsxBuilder(o,s),c=h.root,l=h.container,t=new u.Builder(function(n){return i("div",__assign({className:n.className},n.attributes),n.children)}),a;return t.insertAdjacentNode("beforeend",i(f.TextBoxInner,{vm:e.vivaTextBoxViewModel})),t.setAttribute("id",e.controlRootId),l.insertAdjacentNode("beforeend",t),r.attachLabelAndSubLabel({vm:o,container:l,controlRoot:t,labelHelper:s}),a=c.warnOnStyleAndAttrExistence().generateFinalTsx(),{weaveNode:a,parentClassName:c.getClassName()}}Object.defineProperty(t,"__esModule",{value:!0});t.TextFieldInner=void 0;t.TextFieldInner=e}));
define("Viva.Controls/Controls/Base/Viva.ValueUpdateTrigger",["require","exports"],(function(){"use strict";var n;return (function(n){n.DefaultDelayValidationTimeout=500;var t;(function(n){n[n.Default=0]="Default";n[n.AfterKeyDown=1]="AfterKeyDown";n[n.KeyPress=2]="KeyPress";n[n.Blur=3]="Blur";n[n.Input=4]="Input"})(t=n.ValueUpdateTrigger||(n.ValueUpdateTrigger={}))})(n||(n={})),n}));
define("Viva.Controls/Controls/Base/Viva.TypableControl",["require","exports","Viva.Controls/Controls/Base/Viva.ValueUpdateTrigger","Viva.Controls/Controls/Base/Viva.ValidatableControl"],(function(n,t,i,r){"use strict";var u,f;Object.defineProperty(t,"__esModule",{value:!0});t.Widget=t.ViewModel=void 0;u=(function(n){function t(t){var r=n.call(this,t)||this;return r.delayValidationTimeout=t.delayValidationTimeout||ko.observable(500),r.valueUpdateTrigger=t.valueUpdateTrigger||i.ValueUpdateTrigger.Default,r.onEnterPressed=t.onEnterPressed||MsPortalFx.noop,r}return __extends(t,n),t.prototype.getValueUpdateTrigger=function(){var n;switch(this.valueUpdateTrigger){case i.ValueUpdateTrigger.AfterKeyDown:case i.ValueUpdateTrigger.KeyPress:case i.ValueUpdateTrigger.Input:n="input";break;case i.ValueUpdateTrigger.Blur:case i.ValueUpdateTrigger.Default:n=""}return n},t})(r.ViewModel);t.ViewModel=u;f=(function(n){function t(t,i,r){var f=this;return r=r||{},r.viewModelType=r.viewModelType||u,f=n.call(this,t,i,r)||this,f.ltm.registerForDispose(f.element.setEvents(["keyup",function(n){n.which===13&&f.element.trigger("typableControl-commit",{widget:f,model:f.options})},])),f}return __extends(t,n),t.prototype.debouncer=function(n){var r=this,t=n.func,i=t===void 0?MsPortalFx.noop:t,u=n.callNow,f=function(){r.timeout=null;i()};clearTimeout(this.timeout);u?i():this.timeout=setTimeout(f,this.options.delayValidationTimeout())},t.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this.debouncer({callNow:!0}),n.prototype.dispose.call(this))},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),t.prototype.validate=function(t){var i=this;this.debouncer({func:function(){return n.prototype.validate.call(i,t)},callNow:!0})},t.prototype._valueChangeValidation=function(){var t=this,i=this.options.delayValidationTimeout();if(i>0&&this._shouldDelayValidation()){this.debouncer({func:function(){return n.prototype.validate.call(t)}});return}n.prototype._valueChangeValidation.call(this)},t.prototype._shouldDelayValidation=function(){switch(this.options.valueUpdateTrigger){case i.ValueUpdateTrigger.AfterKeyDown:case i.ValueUpdateTrigger.KeyPress:case i.ValueUpdateTrigger.Input:return!0}return!1},t})(r.Widget);t.Widget=f}));
define("_generated/Less/Viva.Controls/Controls/Forms/Viva.TextBox.css",["module"],(function(n){"use strict";return{css:".azc-textBox{height:23px}.fxc-search-icon{top:5px;left:7px;height:12px;width:12px;position:absolute;z-index:1}.azc-textBox-wrapper{width:100%}.azc-textBox-wrapper .azc-input{border-style:solid;border-width:1px;box-sizing:border-box;font-size:13px;height:23px;outline:none;padding:2px 8px 4px;width:100%}.azc-textBox-wrapper [placeholder]{text-overflow:ellipsis}.fxc-inputhasvalue ::placeholder{color:transparent !important}.fxc-has-search-icon input{padding-left:24px !important;position:relative}.azc-fabric .azc-textBox{height:24px}.azc-fabric .azc-textBox .azc-input{height:24px;padding:3px 8px 5px}.azc-fabric .azc-input{font-size:13px;line-height:18px}",moduleId:n.id}}));
define("Viva.Controls/Controls/Forms/Viva.TextBox",["require","exports","Viva.Controls/Controls/Base/Viva.TypableControl","MsPortalImpl.Controls/Controls/Base/WidgetBindingHandler","FxInternal/Css","_generated/Less/Viva.Controls/Controls/Forms/Viva.TextBox.css"],(function(n,t,i,r,u,f){"use strict";var e;Object.defineProperty(t,"__esModule",{value:!0});t.Widget=t.ViewModel=void 0;u.injectCss(f);var c=MsPortalFx.Base,l=c.Images,o="azc-inputbox azc-textBox",s="azc-has-focus",a="__azc-textBox",v="<div class='azc-inputbox-wrapper azc-textBox-wrapper' data-bind='css: {\"fxc-has-search-icon\": data.showSearchIcon}' tabindex='-1'><!-- ko if: data.showSearchIcon --><div class='fxc-search-icon fxs-portal-svg-secondary' data-bind='image: searchIcon'><\/div><!-- /ko --><input class='azc-input azc-formControl azc-validation-border' type='text' aria-multiline='false' data-bind='value: $ctl._value, css: { \"fxs-br-error\": data.validationState() === 1, \"fxs-br-dirty\": data.dirty(), \"azc-disabled\": $disabled, \"azc-br-focused\": data.focused() }, valueUpdate: data.getValueUpdateTrigger(), attr: { name: name, placeholder: data.placeholder, readonly: data.readOnly, spellcheck: data.spellcheck().toString(), disabled: $disabled, tabindex: $tabIndex, \"aria-required\": required, \"aria-readonly\": data.readOnly, \"aria-disabled\": $disabled }' /><\/div>",y=0,h=(function(n){function t(t){var i=n.call(this,t)||this;return i.showSearchIcon=ko.observable(!1),i.readOnly=t.readOnly||ko.observable(!1),i.spellcheck=t.spellcheck||ko.observable(!1),i.placeholder=t.placeholder||ko.observable(null),i}return __extends(t,n),t})(i.ViewModel);t.ViewModel=h;e=(function(n){function t(t,i,r){var u=this,f;if(r=r||{},r.viewModelType=r.viewModelType||h,u=n.call(this,t,i,r)||this,f=u.options,t.addClass(o),u.weaveContext||t.html(v),u._input=t.find("input"),u._value=ko.observable(),f.value.subscribeAndRun(u.ltm,u._value),u._value.subscribe(u.ltm,(function(n){var t=f.value();(n||t)&&t!==n&&f.value(n)})),u._attachEvents(),!u.weaveContext){var e=l.Search(),s=f.name||a+y++,c=ko.computed(u.ltm,(function(){return 0!==f.validators.filter(u.ltm,(function(n){return 1===n.type}))().length}));u._bindDescendants({searchIcon:e,name:s,required:c})}return u._afterCreate(),u._supportsFocus(!0),u}return __extends(t,n),t.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this._cleanElement(o),n.prototype.dispose.call(this))},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),t.prototype._getElementToFocus=function(){return this._input[0]},t.prototype._attachEvents=function(){var i=this,t=this.options,n=t.events;this.ltm.registerForDispose(this.element.setEvents(["keydown",function(n){n.which!==13||i.element.parents(".fxc-group-dropdown").length||t.value(i._input.val())},],["keyup",function(r){if(r.which===13){r.preventDefault();var u=i._input.val();if(n&&n.enterPressed)n.enterPressed(u);else if(t.onEnterPressed)t.onEnterPressed(u)}else r.which===40&&n&&n.downPressed&&n.downPressed()},]));this.ltm.registerForDispose(this._input.setEvents(["focus",function(){t.focused(!0);i.element.toggleClass(s,!0);n&&n.focus&&n.focus()},],["blur",function(){t.focused(!1);i.element.toggleClass(s,!1);n&&n.blur&&n.blur()},]))},t})(i.Widget);t.Widget=e;ko.bindingHandlers.azcTextBox=r.getBindingHandler(e)}));
define("MsPortalImpl.Controls/Fields/TextField",["require","exports","MsPortalImpl.Controls/Fields/Base/Field","Viva.Controls/Controls/Forms/Viva.TextBox","Viva.Controls/Controls/Base/ValidationPlacements/Viva.Css","Viva.Controls/Controls/Base/ValidationPlacements/Viva.DockedBalloon","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.ActionHandler","MsPortalImpl.Controls/Fields/TextField.Component","MsPortalImpl/Weave/Util"],(function(n,t,i,r,u,f,e,o,s){"use strict";function v(n){return n.hasOwnProperty("placeHolderText")}var h,c,l,a;Object.defineProperty(t,"__esModule",{value:!0});t.TextField=t.Widget=t.WidgetUIState=t.InnerTsxComponent=void 0;h="azc-textField";c="fxc-TextField";t.InnerTsxComponent=o.TextFieldInner;l=(function(n){function t(t){var u=n.call(this,t)||this,i=t.vm;return u.vivaTextBoxViewModel=new r.ViewModel({ltm:u._ltm,value:i._msPortalFxWidgetValue,readOnly:ko.utils.wrap(i.readOnly),spellcheck:ko.utils.wrap(i.spellcheck),valueUpdateTrigger:i.valueUpdateTrigger,onEnterPressed:function(n){i.onEnterPressed&&i.onEnterPressed(n)},placeholder:i.emptyValueText}),u}return __extends(t,n),t})(i.WidgetUIState);t.WidgetUIState=l;a=(function(n){function t(t,i,r,u){return n.call(this,t,i,r,u)||this}return __extends(t,n),t.prototype._initializeField=function(){n.prototype._initializeField.call(this);this.element.addClass(h).addClass(c);this.element.toggleClass("azc-fabric",v(this.options));this._textFieldInit()},t.prototype._createLabelAndSubLabel=function(){this.weaveContext||this._attachLabelAndSubLabel();this._attachAriaBindings({ariaLabel:this._options.ariaLabel})},t.prototype.dispose=function(){this._textBoxWidget&&(this._textBoxWidget.dispose(),this._textBoxWidget=null);this._cleanElement(h,c);n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"validatableViewModel",{get:function(){return this.state.vivaTextBoxViewModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validatableWidget",{get:function(){return this._textBoxWidget},enumerable:!1,configurable:!0}),t.prototype._textFieldInit=function(){var t=this,i=this.options,n=this.state.vivaTextBoxViewModel,h=n.lifetimeManager,s,o;n.events={};n.validationPlacements.push(new u.Css(h));n.validationPlacements.push(new f.DockedBalloon(this._diContainer,h,f.DockedBalloon.defaultOptions));i.actionHandler&&(s=this.ltm,this._actionHandler=e.getOrCreateActionHandler(ko.unwrap(i.actionHandler)),ko.isObservable(i.actionHandler)&&i.actionHandler.subscribe(s,(function(n){t._actionHandler=e.getOrCreateActionHandler(n)})),n.events.enterPressed=function(){var n=t._actionHandler();n&&ko.unwrap(i.actionsEnabled)&&n.activateFirstItem()},n.events.downPressed=function(){var n=t._actionHandler();n&&ko.unwrap(i.actionsEnabled)&&n.focusFirstItem()},n.events.focus=function(){var n=t._actionHandler();n&&ko.unwrap(i.actionsEnabled)&&n.pseudoFocusFirstItem()},n.events.blur=function(){var n=t._actionHandler();n&&n.pseudoBlurFirstItem()},this._actionHandler.subscribe(s,(function(t){t&&n.focused()&&t.pseudoFocusFirstItem()})));this.weaveContext?o=$(this.element[0].querySelector("#"+this.state.controlRootId)):(o=$(FxImpl.createElement("div")),this.appendControl(o));this.linkValidatableControlViewModels();this._addWidget(this._textBoxWidget=new r.Widget(o,n,{weaveContext:this.weaveContext}));this.setupValidationBindings();i.value.subscribeAndRun(this.ltm,(function(n){t.element.findByClassName("azc-input").toggleClass("fxc-inputhasvalue",!!n)}));i.showValidationsAsPopup&&MsPortalFx.require("MsPortalImpl/Controls/Helpers/ValidationPopup").then((function(i){t._popupWidget=new i.Widget(t.ltm,{targetElement:t.element.find(".azc-inputbox"),widget:t,validationResults:n.validationResults})}))},t.flightNewRender=!0,t})(i.FieldWidget);t.Widget=a;t.TextField=s.createControlComponent({widgetCtor:a,widgetUIStateCtor:l,innerComponent:o.TextFieldInner})}))