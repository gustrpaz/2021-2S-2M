define("_generated/Less/MsPortalImpl.Controls/Controls/Forms/CopyableLabel.css",["module"],(function(n){"use strict";return{css:".fxc-copyablelabel{overflow:hidden;padding-right:28px;background-color:transparent}.fxc-copyablelabel .fxc-copyablelabel-textbox{box-sizing:border-box;float:left;width:100%}.fxc-copyablelabel .fxc-copyablelabel-textbox .azc-input{text-overflow:ellipsis}.fxc-copyablelabel .fxc-copyablelabel-textbox .azc-dockedballoon.azc-dockedballoon-validation{box-sizing:border-box}.fxc-copyablelabel .fxc-copyablelabel-alignbutton{float:none !important}.fxc-copyablelabel .fxc-copyablelabel-hideTextbox{display:none !important}.fxc-copyablelabel .fxc-copyablelabel-copybutton{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;overflow:hidden;display:table;border-width:0;margin-right:-28px;float:right;padding:0;outline-width:0}.fxc-copyablelabel .fxc-copyablelabel-copybutton.azc-button{min-width:0}.fxc-copyablelabel .fxc-copyablelabel-copybutton.azc-button .fxc-copyablelabel-copyimage{vertical-align:middle;text-align:center;display:table-cell;padding:3px;width:23px;height:23px;box-sizing:border-box;display:inline-block}.fxc-copyablelabel .fxc-copyablelabel-copybutton .fxc-copyablelabel-anchor{position:absolute;height:0;width:50%;top:20%;left:25%}.fxc-copyablelabel .fxc-copyablelabel-copybutton .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor{visibility:hidden}.fxc-copyablelabel .fxc-copyablelabel-copybutton .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor::before{color:transparent}.fxc-copyablelabel .fxc-copyablelabel-copybutton .fxs-button-default{border-width:1px}.fxc-copyablelabel-temp-element{position:absolute;left:-10000px;top:-10000px;background-color:#fff;color:#000}.azc-fabric.msportalfx-form-formelement .fxc-copyablelabel-textbox .azc-input{padding-right:25px}.azc-fabric.msportalfx-form-formelement .fxc-copyablelabel-textbox .azc-textarea{overflow:hidden}.azc-fabric.msportalfx-form-formelement .fxc-copyablelabel{padding-right:0}.azc-fabric.msportalfx-form-formelement .fxc-copyablelabel .fxc-copyablelabel-copybutton{border:1px solid transparent;background-color:transparent;margin:-22px 2px 0 0;padding:0 4px;height:20px}.azc-fabric.msportalfx-form-formelement .fxc-copyablelabel .fxc-copyablelabel-copybutton:focus{background-color:inherit}.azc-fabric.msportalfx-form-formelement .fxc-copyablelabel .fxc-copyablelabel-copybutton .fxc-copyablelabel-copyimage{width:12px !important;height:12px !important;padding:0 !important;margin-top:-7px}.azc-fabric.msportalfx-form-formelement .fxc-copyablelabel .fxc-copyablelabel-copybutton.fxs-inner-solid-border:focus::after{display:none}.fxc-summary-item-summary>.azc-fabric.msportalfx-form-formelement .fxc-copyablelabel .fxc-copyablelabel-copybutton .fxc-copyablelabel-copyimage{margin-top:-7px}.fxs-highcontrast-dark .fxc-copyablelabel-copyimage .msportalfx-svg-palette-inherit{fill:white !important}.fxs-highcontrast-dark .fxs-copyfield .fxc-copyablelabel-copybutton:focus .fxc-copyablelabel-copyimage{fill:black}.fxs-highcontrast-light .fxc-copyablelabel-copyimage .msportalfx-svg-palette-inherit{fill:black !important}.fxs-highcontrast-light .fxs-copyfield .fxc-copyablelabel-copybutton:focus .fxc-copyablelabel-copyimage{fill:white}",moduleId:n.id}}));
define("MsPortalImpl.Controls/Controls/Forms/CopyableLabel",["require","exports","MsPortalImpl.Controls/Fields/Base/LabelAndBalloonWidget","MsPortalImpl.Controls/Controls/Base/Loadable","MsPortalImpl.Controls/Controls/DockedBalloon","FxInternal/Controls/InfoBalloon","MsPortalImpl/Resources/ImplScriptResources","Viva.Controls/Controls/Forms/Viva.TextBox","Viva.Controls/Controls/Forms/Viva.MultiLineTextBox","Viva.Controls/Controls/Forms/Viva.Button","MsPortalImpl/Interactions/Interactions.PortalReader","FxInternal/Css","_generated/Less/MsPortalImpl.Controls/Controls/Forms/CopyableLabel.css","MsPortalImpl/Base/Base.BrowserDetection"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){"use strict";function tt(n){var t=new f.ViewModel(n);return t.type=k,t}function et(n){return!n.hasOwnProperty("hideValidationCheck")}var it;Object.defineProperty(t,"__esModule",{value:!0});t.Widget=void 0;l.injectCss(a);var d=MsPortalFx.getUniqueId,p=e.Viva.CopyableLabel,y=p.Clipboard,w=p.NoClipboard,rt=v.isMac?w.macClicked:w.clicked,ut=v.isMac?y.macFailed:y.failed,b=y.hover,g=window,ft="fxc-copyablelabel-disabled",nt="fxs-hide-accessible-label",k=MsPortalFx.ViewModels.Controls.DockedBalloon.Type.Validation;it=(function(n){function t(t,r,f){var e=n.call(this,t,r,f)||this,ht,wt,ct,lt,a,ni,ti,ii,ri,st,bt,yt,ui;e._announce=new c.PortalReader(e.ltm,{idPrefix:"cplbl"});e._showClickedTooltip=function(){return null};var vt=new h.ViewModel({ltm:e.ltm}),fi=!0,kt=y.clicked,dt="fxc-copyablelabel-"+d(),pt="fxc-copyablelabel-"+d(),l,gt=e.vmBasicOption,at=e.options._msPortalFxRows;at>1?(l=new s.ViewModel(gt),l.rows(at)):l=new o.ViewModel(gt);l.populateFromObject(e.options);l.disabled=ko.observable(!1);l.cssClass=null;t.addClass("msportalfx-form-formelement");t.toggleClass("azc-fabric",!r.hideTextbox&&et(r));ht=new i.LabelAndBalloonWidgetHelper(e._diContainer,e.ltm,r);ht.appendWidgetToDom(t,$(FxImpl.createElement("div",{"class":"azc-formElementContainer"},FxImpl.createElement("div",{"class":"fxc-copyablelabel"},FxImpl.createElement("div",{"class":"fxc-copyablelabel-textbox"})))));ht.attachSubLabelClass(t);ht.attachKeyboardEvents(t);wt=e.element.find(".azc-formElementContainer");ht.insertLabelBefore(wt);ht.insertSubLabelAfter(wt);ct=e.element.find(".fxc-copyablelabel");lt=ct.find(".fxc-copyablelabel-textbox");at>1?(ni=new s.Widget(lt,l),e._widgets.push(ni),a=lt.find("textarea:first").attr({"aria-multiline":!0}),a.focusin((function(){$(this).select()}))):(e._widgets.push(new o.Widget(lt,l)),a=lt.find("input:first"));ti=r.readOnly&&r.readOnly();ii=e.$disabled&&e.$disabled();a.attr({"aria-readonly":!!(ti||ii),"aria-describedby":dt});ko.computed(e.ltm,[r.label,r.ariaLabel],(function(n,t){a.attr("aria-label",t?t:n?n:null)}));ct.append(FxImpl.createElement("div",{"class":"fxc-copyablelabel-copybutton","aria-labelledby":pt},FxImpl.createElement("div",{"class":"fxc-copyablelabel-clicked fxc-copyablelabel-anchor"}),FxImpl.createElement("div",{"class":"fxc-copyablelabel-hover fxc-copyablelabel-anchor"}),FxImpl.createElement("div",{"class":"fxc-copyablelabel-copyimage","data-bind":"image: $data.copyIcon"})),FxImpl.createElement("div",{"class":nt,id:dt,"aria-hidden":"true"},MsPortalFx.encodeAttribute(v.isMac?p.macDescribedBy:p.describedBy)),FxImpl.createElement("div",{"class":nt,id:pt,"aria-hidden":"true"},MsPortalFx.encodeAttribute(b)));e._bindDescendants({copyIcon:MsPortalFx.Base.Images.Copy({palette:99})},ct.find(".fxc-copyablelabel-copybutton"));ri=ct.find("#"+pt)[0];ko.reactor(e.ltm,[r.ariaLabel,r.label],(function(n,t){var i=n||t;ri.textContent=i?y.name.format(i):b}));var ot=ct.find(">div.fxc-copyablelabel-copybutton"),ei=ot.find(">div.fxc-copyablelabel-hover"),oi=ot.find(">div.fxc-copyablelabel-clicked"),it=tt(e.ltm);return it.type=k,it.content(b),it.stopClickPropagation(!1),it.disabled(!0),st=tt(e.ltm),st.type=k,st.stopClickPropagation(!1),st.disabled(!0),r.hideTextbox&&(lt.addClass("fxc-copyablelabel-hideTextbox"),ot.addClass("fxc-copyablelabel-alignbutton")),bt=function(){e._dockedBalloonHoverControl||(e._dockedBalloonHoverControl=new u.Widget(ei,it,{},new u.WidgetUIState({diContainer:e._diContainer,vm:it})));it.balloonVisible(!0)},yt=function(){it.balloonVisible(!1);st.balloonVisible(!1)},ot.hover(bt,yt),ot.focusin(bt),ot.focusout(yt),e.ltm.registerForDispose([ot.setEvents(["keydown",function(n){n.which===112?(ht.toggleBalloon(),n.preventDefault()):n.which===27&&yt();n.stopPropagation()},]),]),vt.isDefault(!0),vt.disabled(!1),vt.click=function(){var f=document.createRange(),t,i,r;e.element.trigger("fxcopybuttonclick");var o=FxImpl.createElement("pre"),n=$(FxImpl.createElement("div",{"class":"fxc-copyablelabel-temp-element"},o)),s=$(o);return at>1?s.text(l.value()):n.text(l.value()&&l.value().replace(/\r?\n|\r/g,"")),document.body.appendChild(n[0]),f.selectNodeContents(at>1?s.get(0):n.get(0)),t=g.getSelection(),t.removeAllRanges(),t.addRange(f),i=!0,fi?i=g.document.execCommand("copy"):(it.content(w.hover),kt=rt),r=i?kt:ut,st.content(r),e._announce.read(r),e._dockedBalloonClickedControl||(e._dockedBalloonClickedControl=new u.Widget(oi,st,{},new u.WidgetUIState({diContainer:e._diContainer,vm:st}))),e._showClickedTooltip()||(e._showClickedTooltip=function(){return it.balloonVisible(!1),it.disabled(!0),st.disabled(!1),st.balloonVisible(!0),!0},e._showClickedTooltip()),n&&n.remove(),!1},ui=new h.Widget(ot,vt),e._widgets.push(ui),ko.computed(e.ltm,[r.readOnly,e.$disabled],(function(n,t){var i=!!(n||t);ct.toggleClass(ft,i);a&&(a.toggleClass("azc-bg-light",i),a.prop({readonly:i,tabindex:i?-1:0}),a.attr("aria-readonly",i))})),r.hideTextbox&&r.style===1&&(ot.removeClass("fxs-portal-button-primary"),ot.addClass("fxs-button-default")),r.value.subscribeAndRun(e.ltm,(function(n){a.attr("title",n)})),a.keydown((function(n){if(n.which===112)return ht.toggleBalloon(),!1;n.which===27&&ht.toggleBalloon(!1)})),e}return __extends(t,n),t.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(MsPortalFx.disposeDisposable(this._dockedBalloonClickedControl),MsPortalFx.disposeDisposable(this._dockedBalloonHoverControl),n.prototype.dispose.call(this),this._cleanElement())},t})(r.Widget);t.Widget=it}))